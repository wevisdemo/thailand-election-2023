var jl=Object.defineProperty;var $l=(t,e,r)=>e in t?jl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $e=(t,e,r)=>($l(t,typeof e!="symbol"?e+"":e,r),r);import{U as ce,S as qt,i as Gt,s as Zt,k as x,q as O,l as k,m as g,r as q,h as p,n as u,b as $,G as c,u as ct,H as Vt,a as R,y as Xt,c as A,z as Ut,p as nt,A as Yt,g as ht,d as gt,Q as Ft,B as Kt,L as bt,M as fe,N as tt,O as et,P as Oe,e as Ve,I as we,V as ln,v as Ce,f as Ne,o as vl,W as ml,w as gl,X as wl,Y as yl,Z as bl,_ as El,J as qe,R as ti,T as on,K as sn}from"../chunks/index.a875b0e6.js";import{b as te}from"../chunks/paths.d86f124e.js";import{w as Or,d as ei}from"../chunks/index.674ceb87.js";import{p as Ot,S as Rt,P as Re,b as me,i as qr,f as an,c as Tr,C as xl,a as ri}from"../chunks/party.76da87dd.js";import{b as ni}from"../chunks/byx-mobile.fa54e4c2.js";var un={},kr={},Ir=34,Ae=10,Cr=13;function kl(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function li(t,e){var r=kl(t);return function(n,l){return e(r(n),l,t)}}function cn(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var l in n)l in e||r.push(e[l]=l)}),r}function St(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function ii(t){return t<0?"-"+St(-t,6):t>9999?"+"+St(t,6):St(t,4)}function oi(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),l=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ii(t.getUTCFullYear())+"-"+St(t.getUTCMonth()+1,2)+"-"+St(t.getUTCDate(),2)+(l?"T"+St(e,2)+":"+St(r,2)+":"+St(n,2)+"."+St(l,3)+"Z":n?"T"+St(e,2)+":"+St(r,2)+":"+St(n,2)+"Z":r||e?"T"+St(e,2)+":"+St(r,2)+"Z":"")}function si(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(_,m){var v,w,d=l(_,function(y,E){if(v)return v(y,E-1);w=y,v=m?li(y,m):kl(y)});return d.columns=w||[],d}function l(_,m){var v=[],w=_.length,d=0,y=0,E,I=w<=0,N=!1;_.charCodeAt(w-1)===Ae&&--w,_.charCodeAt(w-1)===Cr&&--w;function S(){if(I)return kr;if(N)return N=!1,un;var V,Q=d,X;if(_.charCodeAt(Q)===Ir){for(;d++<w&&_.charCodeAt(d)!==Ir||_.charCodeAt(++d)===Ir;);return(V=d)>=w?I=!0:(X=_.charCodeAt(d++))===Ae?N=!0:X===Cr&&(N=!0,_.charCodeAt(d)===Ae&&++d),_.slice(Q+1,V-1).replace(/""/g,'"')}for(;d<w;){if((X=_.charCodeAt(V=d++))===Ae)N=!0;else if(X===Cr)N=!0,_.charCodeAt(d)===Ae&&++d;else if(X!==r)continue;return _.slice(Q,V)}return I=!0,_.slice(Q,w)}for(;(E=S())!==kr;){for(var z=[];E!==un&&E!==kr;)z.push(E),E=S();m&&(z=m(z,y++))==null||v.push(z)}return v}function o(_,m){return _.map(function(v){return m.map(function(w){return h(v[w])}).join(t)})}function i(_,m){return m==null&&(m=cn(_)),[m.map(h).join(t)].concat(o(_,m)).join(`
`)}function a(_,m){return m==null&&(m=cn(_)),o(_,m).join(`
`)}function s(_){return _.map(f).join(`
`)}function f(_){return _.map(h).join(t)}function h(_){return _==null?"":_ instanceof Date?oi(_):e.test(_+="")?'"'+_.replace(/"/g,'""')+'"':_}return{parse:n,parseRows:l,format:i,formatBody:a,formatRows:s,formatRow:f,formatValue:h}}var ai=si(","),ui=ai.parse;function ci(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function fi(t,e){return fetch(t,e).then(ci)}function hi(t){return function(e,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),fi(e,r).then(function(l){return t(l,n)})}}var fr=hi(ui);const di=Math.random,pi=function t(e){function r(n,l){var o,i;return n=n==null?0:+n,l=l==null?1:+l,function(){var a;if(o!=null)a=o,o=null;else do o=e()*2-1,a=e()*2-1,i=o*o+a*a;while(!i||i>1);return n+l*a*Math.sqrt(-2*Math.log(i)/i)}}return r.source=t,r}(di),_i=.03;class vi{constructor(){$e(this,"parties");$e(this,"globalMatrix");$e(this,"districtMatrix");this.parties=ce(Ot).list,this.globalMatrix=this.createVoteFlowMatrix(),this.districtMatrix=new Map}createVoteFlowMatrix(){return this.parties.reduce((e,r)=>({...e,[r.Name]:this.parties.reduce((n,l)=>({...n,[l.Name]:r.Name===l.Name?1:0}),{})}),{})}updateVoteFlow(e,r,n,l=this.globalMatrix){const o=n<l[e][e]?n:l[e][e];l[e][r]+=n,l[e][e]-=o}updateDistrictVoteFlow(e,r,n,l,o){const i=this.getDistrictVoteFlowKey(e,r);this.districtMatrix.has(i)||this.districtMatrix.set(i,this.createVoteFlowMatrix()),this.updateVoteFlow(n,l,o,this.districtMatrix.get(i))}getDistrictVoteFlowKey(e,r){return`${e}-${r}`}updateVoteFlowBetweenGroups(e,r,n){const[l,o]=n>0?[e,r]:[r,e];l.forEach(i=>{const a=Math.min(Math.abs(n),this.globalMatrix[i][i])/(l.length+o.length);o.forEach(s=>{this.updateVoteFlow(i,s,Math.min(a))})})}applyVoteFlow(e,r){const n=ce(Ot).map,l=Object.keys(r),o=l.reduce((a,s)=>{var f;return{...a,[s]:((f=e.find(({party:h})=>s===h.Name))==null?void 0:f.points)||0}},{}),i=e.reduce((a,{points:s})=>a+s,0);return l.map(a=>({party:n.get(a),points:l.reduce((s,f)=>{const h=Math.max(0,Math.min(pi(r[f][a],_i)(),1));return s+o[f]*h},0)*i})).filter(({points:a})=>a>0).sort((a,s)=>s.points-a.points)}calculateVoteFlowResult(e){return Object.entries(e).reduce((r,[n,l])=>({...r,[n]:Object.entries(l).reduce((o,[i,a])=>{if(!a)return o;const s=this.districtMatrix.get(this.getDistrictVoteFlowKey(n,i));return{...o,[i]:this.applyVoteFlow(s?this.applyVoteFlow(a,s):a,this.globalMatrix)}},{})}),{})}}const fn={[Rt.Scale0]:0,[Rt.Scale10]:.1,[Rt.Scale30]:.3,[Rt.Scale50]:.5,[Rt.Scale70]:.7,[Rt.Scale90]:.9,[Rt.Scale100]:1},tr={[Rt.Scale0]:-.3,[Rt.Scale10]:-.2,[Rt.Scale30]:-.1,[Rt.Scale50]:0,[Rt.Scale70]:.1,[Rt.Scale90]:.2,[Rt.Scale100]:.3},mi={[Re.Dusit]:"poll-dusit.csv",[Re.Nida]:"poll-dusit.csv",[Re.Prapok]:"poll-dusit.csv",[Re.Super]:"poll-dusit.csv",[Re.Thairath]:"poll-dusit.csv"};let Nr,hn;const gi=()=>{const{subscribe:t,update:e}=Or({});return{subscribe:t,load:async()=>{const r=ce(Ot);Nr=(await fr(`${te}/data/popularity-projection-2566.csv`)).reduce((l,{province:o,electorialDistrictNumber:i,party:a,points:s})=>(l[o]||(l[o]={}),l[o][+i]||(l[o][+i]=[]),r.map.get(a)||Ot.add({Name:a}),l[o][+i].push({party:r.map.get(a),points:+s}),l),{}),hn=await fr(`${te}/data/candidate-party-changes-66.csv`),e(()=>Nr)},calculate(){var o,i,a;const{input:r}=ce(qr),n=ce(Ot),l=new vi;if(r.quiz1){const s=1-fn[r.quiz1];s>0&&hn.forEach(({province:f,electorialDistrictNumber:h,fromParty:_,toParty:m})=>l.updateDistrictVoteFlow(f,h,_,m,s))}if(r.quiz2&&l.updateVoteFlow("พลังประชารัฐ","รวมไทยสร้างชาติ",fn[r.quiz2]),r.quiz3){const s=tr[r.quiz3];s>0?l.updateVoteFlow("ก้าวไกล","เพื่อไทย",s):s<0&&l.updateVoteFlow("เพื่อไทย","ก้าวไกล",-s)}if(r.quiz4){const s=tr[r.quiz4];if(s!==0){const f=["พลังประชารัฐ","รวมไทยสร้างชาติ"],h=n.list.filter(({Name:_,PartyGroup:m})=>m===me.Government&&!f.includes(_)).map(({Name:_})=>_);l.updateVoteFlowBetweenGroups(h,f,s)}}if(r.quiz5){const s=tr[r.quiz5];if(s!==0){const f=n.list.filter(({PartyGroup:_})=>_===me.Opposition).map(({Name:_})=>_),h=n.list.filter(({PartyGroup:_})=>_===me.Government).map(({Name:_})=>_);l.updateVoteFlowBetweenGroups(f,h,s)}}r.quiz7&&((o=r.quiz8)!=null&&o.percent)&&((i=r.quiz8)!=null&&i.from)&&((a=r.quiz8)!=null&&a.to)&&l.updateVoteFlow(r.quiz8.from,r.quiz8.to,tr[r.quiz8.percent]),e(()=>l.calculateVoteFlowResult(Nr))}}},Ge=gi(),wi=`${te}/data/result-2562.csv`,yi=()=>{const{subscribe:t,update:e}=Or([]);return{subscribe:t,load:async()=>{const r=ce(Ot),l=(await fr(wi)).reduce((o,{party:i,district:a,partylist:s})=>i==="อนาคตใหม่"?[...o,{party:r.map.get("ก้าวไกล"),fromDistrict:parseInt(a),fromPartylist:parseInt(s),total:parseInt(a)+parseInt(s)}]:(r.map.get(i)||Ot.add({Name:i}),[...o,{party:r.map.get(i),fromDistrict:parseInt(a),fromPartylist:parseInt(s),total:parseInt(a)+parseInt(s)}]),[]);e(()=>l.sort((o,i)=>i.total-o.total))}}},dn=yi(),pn=100,bi=()=>{const{subscribe:t,update:e}=Or([]);return{subscribe:t,load:async()=>{const{input:r}=ce(qr),n=ce(Ot);if(!r.quiz6)return;const l=await fr(`${te}/data/${mi[r.quiz6]}`),o=l.reduce((s,{popularity:f})=>s+ +f,0)/pn,i=l.map(({party:s,popularity:f})=>({party:n.map.get(s),representatives:Math.floor(+f/o),remainder:+f%o})).sort((s,f)=>f.remainder-s.remainder),a=i.reduce((s,{representatives:f})=>s+f,0);for(let s=0;s<pn-a;s++)i[s].representatives++;e(()=>i.map(({remainder:s,...f})=>f).sort((s,f)=>f.representatives-s.representatives))}}},Il=bi(),Cl=ei([Ge,Il],([t,e])=>{const r={},n=l=>{r[l.Name]||(r[l.Name]={party:l,fromDistrict:0,fromPartylist:0,total:0})};return Object.values(t).forEach(l=>Object.values(l).forEach(o=>{const{party:i}=o[0];i&&(n(i),r[i.Name].fromDistrict++,r[i.Name].total+=1)})),e.forEach(({party:l,representatives:o})=>{n(l),r[l.Name].fromPartylist+=o,r[l.Name].total+=o}),Object.values(r).sort((l,o)=>o.total-l.total)});function Ei(t){let e,r,n;return{c(){e=x("div"),r=x("p"),n=O(t[0]),this.h()},l(l){e=k(l,"DIV",{class:!0,style:!0});var o=g(e);r=k(o,"P",{class:!0});var i=g(r);n=q(i,t[0]),i.forEach(p),o.forEach(p),this.h()},h(){u(r,"class","typo-b6 transform -translate-y-full -translate-x-1/2 absolute left-1/2 top-1 md:-top-1 whitespace-nowrap text-white"),u(e,"class","absolute -top-2 -bottom-2 w-[1px] bg-white"),u(e,"style",t[1])},m(l,o){$(l,e,o),c(e,r),c(r,n)},p(l,[o]){o&1&&ct(n,l[0]),o&2&&u(e,"style",l[1])},i:Vt,o:Vt,d(l){l&&p(e)}}}function xi(t,e,r){let{label:n}=e,{style:l}=e;return t.$$set=o=>{"label"in o&&r(0,n=o.label),"style"in o&&r(1,l=o.style)},[n,l]}class ki extends qt{constructor(e){super(),Gt(this,e,xi,Ei,Zt,{label:0,style:1})}}function _n(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function vn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function mn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function Ii(t){let e,r,n,l,o;return{c(){e=x("button"),r=tt("svg"),n=tt("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var a=g(e);r=et(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=g(r);n=et(s,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(n).forEach(p),s.forEach(p),a.forEach(p),this.h()},h(){u(n,"fill-rule","evenodd"),u(n,"clip-rule","evenodd"),u(n,"d","M15.3598 10.8802L24.9598 20.4802L23.6158 21.8242L15.3598 13.5682L7.10377 21.8242L5.75977 20.4802L15.3598 10.8802Z"),u(n,"fill","white"),u(r,"width","32"),u(r,"height","32"),u(r,"viewBox","0 0 32 32"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","w-12 h-12 rounded-full beyondx-gradient-bg absolute flex justify-center items-center -top-10 right-6")},m(i,a){$(i,e,a),c(e,r),c(r,n),l||(o=bt(e,"click",t[8]),l=!0)},p:Vt,d(i){i&&p(e),l=!1,o()}}}function Ci(t){let e,r,n,l,o;return{c(){e=x("button"),r=tt("svg"),n=tt("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var a=g(e);r=et(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=g(r);n=et(s,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(n).forEach(p),s.forEach(p),a.forEach(p),this.h()},h(){u(n,"fill-rule","evenodd"),u(n,"clip-rule","evenodd"),u(n,"d","M9.4 8.99668L8 10.3969L14.6 16.9978L8 23.5987L9.4 24.9989L16 18.398L22.6 24.9989L24 23.5987L17.4 16.9978L24 10.3969L22.6 8.99668L16 15.5976L9.4 8.99668Z"),u(n,"fill","#fff"),u(r,"width","32"),u(r,"height","33"),u(r,"viewBox","0 0 32 33"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","absolute -top-10 right-6")},m(i,a){$(i,e,a),c(e,r),c(r,n),l||(o=bt(e,"click",t[8]),l=!0)},p:Vt,d(i){i&&p(e),l=!1,o()}}}function gn(t){let e,r,n,l,o=t[15].Name+"",i,a,s,f=t[16]+"",h,_;return{c(){e=x("div"),r=x("div"),n=x("p"),l=x("span"),i=O(o),a=R(),s=x("p"),h=O(f),_=O(" ที่นั่ง"),this.h()},l(m){e=k(m,"DIV",{class:!0});var v=g(e);r=k(v,"DIV",{class:!0});var w=g(r);n=k(w,"P",{class:!0});var d=g(n);l=k(d,"SPAN",{class:!0,style:!0}),g(l).forEach(p),i=q(d,o),d.forEach(p),a=A(w),s=k(w,"P",{});var y=g(s);h=q(y,f),_=q(y," ที่นั่ง"),y.forEach(p),w.forEach(p),v.forEach(p),this.h()},h(){u(l,"class","w-3 h-3 mr-2 rounded-full inline-block"),nt(l,"background",t[15].Color),u(n,"class","font-bold"),u(r,"class","absolute bottom-1 rounded bg-black py-2 px-4 text-white whitespace-nowrap transform -translate-x-1/2"),u(e,"class","relative h-0 z-10")},m(m,v){$(m,e,v),c(e,r),c(r,n),c(n,l),c(n,i),c(r,a),c(r,s),c(s,h),c(s,_)},p(m,v){v&3&&nt(l,"background",m[15].Color),v&3&&o!==(o=m[15].Name+"")&&ct(i,o),v&3&&f!==(f=m[16]+"")&&ct(h,f)},d(m){m&&p(e)}}}function wn(t){let e,r,n,l=t[5]===t[15]&&gn(t);function o(){return t[10](t[15])}return{c(){e=x("div"),l&&l.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var a=g(e);l&&l.l(a),a.forEach(p),this.h()},h(){u(e,"class","flex justify-center"),nt(e,"width",t[16]/t[7]*100+"%"),nt(e,"background-color",t[15].Color)},m(i,a){$(i,e,a),l&&l.m(e,null),r||(n=[bt(e,"mouseenter",o),bt(e,"mouseleave",t[11])],r=!0)},p(i,a){t=i,t[5]===t[15]?l?l.p(t,a):(l=gn(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),a&3&&nt(e,"width",t[16]/t[7]*100+"%"),a&3&&nt(e,"background-color",t[15].Color)},d(i){i&&p(e),l&&l.d(),r=!1,fe(n)}}}function yn(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w,d,y,E,I,N,S,z,V,Q,X,J,Y,H,Z,rt,b,L,C,P,U,G,F,W,B=t[7]-t[2]+"",M,D,T,K,at,ot,dt,It,_t,kt,vt,pt,zt,he,Ee,wt=t[7]/2>t[2]&&bn(),Ct=t[2]<=hr&&En(t),Qt=t[0].sort(In),mt=[];for(let j=0;j<Qt.length;j+=1)mt[j]=xn(vn(t,Qt,j));let Lt=t[1].sort(Cn),yt=[];for(let j=0;j<Lt.length;j+=1)yt[j]=kn(_n(t,Lt,j));return{c(){wt&&wt.c(),e=R(),r=x("div"),n=R(),l=x("span"),o=x("h4"),i=O("สลับรัฐบาล/ฝ่ายค้าน"),a=R(),s=tt("svg"),f=tt("g"),h=tt("path"),_=tt("defs"),m=tt("clipPath"),v=tt("rect"),w=R(),Ct&&Ct.c(),d=R(),y=x("div"),E=x("div"),I=x("div"),N=x("h7"),S=O("ฝ่ายรัฐบาล"),z=R(),V=x("div"),Q=x("p"),X=O("("),J=R(),Y=O(t[2]),H=R(),Z=x("p"),rt=O(")"),b=R();for(let j=0;j<mt.length;j+=1)mt[j].c();L=R(),C=x("div"),P=x("div"),U=x("div"),G=x("p"),F=O("("),W=R(),M=O(B),D=R(),T=x("p"),K=O(")"),at=R(),ot=x("h7"),dt=O("ฝ่ายค้าน"),It=R();for(let j=0;j<yt.length;j+=1)yt[j].c();_t=R(),kt=x("div"),vt=x("a"),pt=O(`สรุปผล
					`),zt=x("div"),this.h()},l(j){wt&&wt.l(j),e=A(j),r=k(j,"DIV",{class:!0}),g(r).forEach(p),n=A(j),l=k(j,"SPAN",{class:!0});var ft=g(l);o=k(ft,"H4",{class:!0});var lt=g(o);i=q(lt,"สลับรัฐบาล/ฝ่ายค้าน"),lt.forEach(p),a=A(ft),s=et(ft,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var Dt=g(s);f=et(Dt,"g",{"clip-path":!0});var xe=g(f);h=et(xe,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(h).forEach(p),xe.forEach(p),_=et(Dt,"defs",{});var Le=g(_);m=et(Le,"clipPath",{id:!0});var re=g(m);v=et(re,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(v).forEach(p),re.forEach(p),Le.forEach(p),Dt.forEach(p),ft.forEach(p),w=A(j),Ct&&Ct.l(j),d=A(j),y=k(j,"DIV",{class:!0});var Et=g(y);E=k(Et,"DIV",{class:!0});var Ht=g(E);I=k(Ht,"DIV",{class:!0});var xt=g(I);N=k(xt,"H7",{class:!0});var Nt=g(N);S=q(Nt,"ฝ่ายรัฐบาล"),Nt.forEach(p),z=A(xt),V=k(xt,"DIV",{class:!0});var st=g(V);Q=k(st,"P",{class:!0});var ut=g(Q);X=q(ut,"("),ut.forEach(p),J=A(st),Y=q(st,t[2]),H=A(st),Z=k(st,"P",{class:!0});var it=g(Z);rt=q(it,")"),it.forEach(p),st.forEach(p),xt.forEach(p),b=A(Ht);for(let jt=0;jt<mt.length;jt+=1)mt[jt].l(Ht);Ht.forEach(p),L=A(Et),C=k(Et,"DIV",{class:!0});var Mt=g(C);P=k(Mt,"DIV",{class:!0});var de=g(P);U=k(de,"DIV",{class:!0});var Jt=g(U);G=k(Jt,"P",{class:!0});var Me=g(G);F=q(Me,"("),Me.forEach(p),W=A(Jt),M=q(Jt,B),D=A(Jt),T=k(Jt,"P",{class:!0});var pe=g(T);K=q(pe,")"),pe.forEach(p),Jt.forEach(p),at=A(de),ot=k(de,"H7",{class:!0});var _e=g(ot);dt=q(_e,"ฝ่ายค้าน"),_e.forEach(p),de.forEach(p),It=A(Mt);for(let jt=0;jt<yt.length;jt+=1)yt[jt].l(Mt);Mt.forEach(p),Et.forEach(p),_t=A(j),kt=k(j,"DIV",{class:!0});var Se=g(kt);vt=k(Se,"A",{class:!0});var oe=g(vt);pt=q(oe,`สรุปผล
					`),zt=k(oe,"DIV",{class:!0}),g(zt).forEach(p),oe.forEach(p),Se.forEach(p),this.h()},h(){u(r,"class","w-full h-[1px] bg-white opacity-40 mt-4"),u(o,"class","typo-b4 underline"),u(h,"fill-rule","evenodd"),u(h,"clip-rule","evenodd"),u(h,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(h,"fill","white"),u(f,"clip-path","url(#clip0_1694_52664)"),u(v,"width","19.2"),u(v,"height","19.2"),u(v,"fill","white"),u(v,"transform","translate(0.399902 0.399902)"),u(m,"id","clip0_1694_52664"),u(s,"width","20"),u(s,"height","20"),u(s,"viewBox","0 0 20 20"),u(s,"fill","none"),u(s,"xmlns","http://www.w3.org/2000/svg"),u(s,"class","ml-1"),u(l,"class","flex items-center justify-center my-5 cursor-pointer"),u(N,"class","typo-h7 font-bold w-full md:w-auto"),u(Q,"class","hidden md:block"),u(Z,"class","hidden md:block"),u(V,"class","flex typo-h7 md:ml-1"),u(I,"class","flex flex-wrap md:flex-nowrap"),u(E,"class","w-1/2 flex flex-col"),u(G,"class","hidden md:block"),u(T,"class","hidden md:block"),u(U,"class","flex typo-h7"),u(ot,"class","typo-h7 font-bold ml-1 w-full md:w-auto"),u(P,"class","flex justify-end flex-wrap-reverse md:flex-nowrap"),u(C,"class","w-1/2 flex flex-col text-right ml-10"),u(y,"class","flex items-start w-full"),u(zt,"class","border-1 border-t border-r w-2 h-2 rotate-45"),u(vt,"class","typo-b3 beyondx-gradient-bg text-white py-2 px-4 w-full md:w-52 h-[50px] flex items-center justify-between font-bold m-auto mt-2 md:mt-10 cursor-pointer"),u(kt,"class","fixed bottom-0 left-0 right-0 w-full flex justify-center py-10 px-6 bg-gradient-to-t from-black")},m(j,ft){wt&&wt.m(j,ft),$(j,e,ft),$(j,r,ft),$(j,n,ft),$(j,l,ft),c(l,o),c(o,i),c(l,a),c(l,s),c(s,f),c(f,h),c(s,_),c(_,m),c(m,v),$(j,w,ft),Ct&&Ct.m(j,ft),$(j,d,ft),$(j,y,ft),c(y,E),c(E,I),c(I,N),c(N,S),c(I,z),c(I,V),c(V,Q),c(Q,X),c(V,J),c(V,Y),c(V,H),c(V,Z),c(Z,rt),c(E,b);for(let lt=0;lt<mt.length;lt+=1)mt[lt].m(E,null);c(y,L),c(y,C),c(C,P),c(P,U),c(U,G),c(G,F),c(U,W),c(U,M),c(U,D),c(U,T),c(T,K),c(P,at),c(P,ot),c(ot,dt),c(C,It);for(let lt=0;lt<yt.length;lt+=1)yt[lt].m(C,null);$(j,_t,ft),$(j,kt,ft),c(kt,vt),c(vt,pt),c(vt,zt),he||(Ee=[bt(l,"click",t[12]),bt(vt,"click",function(){Oe(t[4])&&t[4].apply(this,arguments)})],he=!0)},p(j,ft){if(t=j,t[7]/2>t[2]?wt||(wt=bn(),wt.c(),wt.m(e.parentNode,e)):wt&&(wt.d(1),wt=null),t[2]<=hr?Ct?Ct.p(t,ft):(Ct=En(t),Ct.c(),Ct.m(d.parentNode,d)):Ct&&(Ct.d(1),Ct=null),ft&4&&ct(Y,t[2]),ft&9){Qt=t[0].sort(In);let lt;for(lt=0;lt<Qt.length;lt+=1){const Dt=vn(t,Qt,lt);mt[lt]?mt[lt].p(Dt,ft):(mt[lt]=xn(Dt),mt[lt].c(),mt[lt].m(E,null))}for(;lt<mt.length;lt+=1)mt[lt].d(1);mt.length=Qt.length}if(ft&4&&B!==(B=t[7]-t[2]+"")&&ct(M,B),ft&10){Lt=t[1].sort(Cn);let lt;for(lt=0;lt<Lt.length;lt+=1){const Dt=_n(t,Lt,lt);yt[lt]?yt[lt].p(Dt,ft):(yt[lt]=kn(Dt),yt[lt].c(),yt[lt].m(C,null))}for(;lt<yt.length;lt+=1)yt[lt].d(1);yt.length=Lt.length}},d(j){wt&&wt.d(j),j&&p(e),j&&p(r),j&&p(n),j&&p(l),j&&p(w),Ct&&Ct.d(j),j&&p(d),j&&p(y),Ft(mt,j),Ft(yt,j),j&&p(_t),j&&p(kt),he=!1,fe(Ee)}}}function bn(t){let e,r;return{c(){e=x("div"),r=O("มีฝ่ายค้านเกินครึ่งของ ส.ส.!"),this.h()},l(n){e=k(n,"DIV",{class:!0,style:!0});var l=g(e);r=q(l,"มีฝ่ายค้านเกินครึ่งของ ส.ส.!"),l.forEach(p),this.h()},h(){u(e,"class","typo-b6 font-bold text-center mt-4"),nt(e,"color","#FF6161")},m(n,l){$(n,e,l),c(e,r)},d(n){n&&p(e)}}}function En(t){let e,r,n,l,o,i,a,s,f,h=hr-t[2]+"",_,m;return{c(){e=x("div"),r=tt("svg"),n=tt("rect"),l=tt("path"),o=R(),i=x("h5"),a=O("ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),s=R(),f=x("h5"),_=O(h),m=O("+"),this.h()},l(v){e=k(v,"DIV",{class:!0,style:!0});var w=g(e);r=et(w,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var d=g(r);n=et(d,"rect",{width:!0,height:!0,rx:!0,fill:!0}),g(n).forEach(p),l=et(d,"path",{d:!0,fill:!0}),g(l).forEach(p),d.forEach(p),o=A(w),i=k(w,"H5",{class:!0});var y=g(i);a=q(y,"ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),y.forEach(p),s=A(w),f=k(w,"H5",{class:!0});var E=g(f);_=q(E,h),m=q(E,"+"),E.forEach(p),w.forEach(p),this.h()},h(){u(n,"width","24"),u(n,"height","24"),u(n,"rx","12"),u(n,"fill","#D09D03"),u(l,"d","M11.5778 13.42L10.9198 9.444V6.728H13.1038V9.444L12.4598 13.42H11.5778ZM11.9978 16.668C11.5498 16.668 11.2278 16.5653 11.0318 16.36C10.8451 16.1547 10.7518 15.9027 10.7518 15.604V15.268C10.7518 14.9693 10.8451 14.7173 11.0318 14.512C11.2278 14.3067 11.5498 14.204 11.9978 14.204C12.4458 14.204 12.7631 14.3067 12.9498 14.512C13.1458 14.7173 13.2438 14.9693 13.2438 15.268V15.604C13.2438 15.9027 13.1458 16.1547 12.9498 16.36C12.7631 16.5653 12.4458 16.668 11.9978 16.668Z"),u(l,"fill","#231F20"),u(r,"width","24"),u(r,"height","24"),u(r,"viewBox","0 0 24 24"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(r,"class","mr-2"),u(i,"class","typo-b5 flex-1"),u(f,"class","typo-b4 font-bold ml-2"),u(e,"class","w-full py-3 px-5 flex items-center mb-5"),nt(e,"background-color","#3D3D3D")},m(v,w){$(v,e,w),c(e,r),c(r,n),c(r,l),c(e,o),c(e,i),c(i,a),c(e,s),c(e,f),c(f,_),c(f,m)},p(v,w){w&4&&h!==(h=hr-v[2]+"")&&ct(_,h)},d(v){v&&p(e)}}}function xn(t){let e,r,n,l,o=t[15].Name+"",i,a,s,f=t[16]+"",h,_,m,v,w,d,y,E,I,N,S,z,V,Q,X;function J(){return t[13](t[15])}return{c(){e=x("div"),r=x("span"),n=x("span"),l=R(),i=O(o),a=R(),s=x("h5"),h=O(f),_=R(),m=x("span"),v=tt("svg"),w=tt("g"),d=tt("path"),y=tt("defs"),E=tt("clipPath"),I=tt("rect"),N=R(),S=x("p"),z=O("เปลี่ยนขั้ว"),V=R(),this.h()},l(Y){e=k(Y,"DIV",{class:!0,style:!0});var H=g(e);r=k(H,"SPAN",{class:!0});var Z=g(r);n=k(Z,"SPAN",{class:!0,style:!0}),g(n).forEach(p),l=A(Z),i=q(Z,o),Z.forEach(p),a=A(H),s=k(H,"H5",{class:!0});var rt=g(s);h=q(rt,f),rt.forEach(p),_=A(H),m=k(H,"SPAN",{class:!0});var b=g(m);v=et(b,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var L=g(v);w=et(L,"g",{"clip-path":!0});var C=g(w);d=et(C,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(d).forEach(p),C.forEach(p),y=et(L,"defs",{});var P=g(y);E=et(P,"clipPath",{id:!0});var U=g(E);I=et(U,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(I).forEach(p),U.forEach(p),P.forEach(p),L.forEach(p),N=A(b),S=k(b,"P",{class:!0});var G=g(S);z=q(G,"เปลี่ยนขั้ว"),G.forEach(p),b.forEach(p),V=A(H),H.forEach(p),this.h()},h(){u(n,"class","w-4 h-4 mr-2 inline-block"),nt(n,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),u(r,"class","typo-b5 w-full flex items-center md:w-1/2 mb-2 md:mb-0"),u(s,"class","typo-b5 opacity-70 flex-1 w-2/12 ml-6 md:ml-0"),u(d,"fill-rule","evenodd"),u(d,"clip-rule","evenodd"),u(d,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(d,"fill","white"),u(w,"clip-path","url(#clip0_1694_52664)"),u(I,"width","19.2"),u(I,"height","19.2"),u(I,"fill","white"),u(I,"transform","translate(0.399902 0.399902)"),u(E,"id","clip0_1694_52664"),u(v,"width","20"),u(v,"height","20"),u(v,"viewBox","0 0 20 20"),u(v,"fill","none"),u(v,"xmlns","http://www.w3.org/2000/svg"),u(v,"class","mr-1"),u(S,"class","hidden md:block"),u(m,"class","typo-b5 w-4/12 flex justify-end items-center cursor-pointer"),u(e,"class","flex flex-wrap items-center border-b border-opacity-40 pb-[10px] mt-[10px]"),nt(e,"border-color","rgba(255, 255, 255, 0.4)")},m(Y,H){$(Y,e,H),c(e,r),c(r,n),c(r,l),c(r,i),c(e,a),c(e,s),c(s,h),c(e,_),c(e,m),c(m,v),c(v,w),c(w,d),c(v,y),c(y,E),c(E,I),c(m,N),c(m,S),c(S,z),c(e,V),Q||(X=bt(m,"click",J),Q=!0)},p(Y,H){t=Y,H&1&&nt(n,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),H&1&&o!==(o=t[15].Name+"")&&ct(i,o),H&1&&f!==(f=t[16]+"")&&ct(h,f)},d(Y){Y&&p(e),Q=!1,X()}}}function kn(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w=t[16]+"",d,y,E,I=t[15].Name+"",N,S,z,V,Q,X;function J(){return t[14](t[15])}return{c(){e=x("div"),r=x("span"),n=tt("svg"),l=tt("g"),o=tt("path"),i=tt("defs"),a=tt("clipPath"),s=tt("rect"),f=R(),h=x("p"),_=O("เปลี่ยนขั้ว"),m=R(),v=x("h5"),d=O(w),y=R(),E=x("span"),N=O(I),S=R(),z=x("span"),V=R(),this.h()},l(Y){e=k(Y,"DIV",{class:!0,style:!0});var H=g(e);r=k(H,"SPAN",{class:!0});var Z=g(r);n=et(Z,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var rt=g(n);l=et(rt,"g",{"clip-path":!0});var b=g(l);o=et(b,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(o).forEach(p),b.forEach(p),i=et(rt,"defs",{});var L=g(i);a=et(L,"clipPath",{id:!0});var C=g(a);s=et(C,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(s).forEach(p),C.forEach(p),L.forEach(p),rt.forEach(p),f=A(Z),h=k(Z,"P",{class:!0});var P=g(h);_=q(P,"เปลี่ยนขั้ว"),P.forEach(p),Z.forEach(p),m=A(H),v=k(H,"H5",{class:!0});var U=g(v);d=q(U,w),U.forEach(p),y=A(H),E=k(H,"SPAN",{class:!0});var G=g(E);N=q(G,I),S=A(G),z=k(G,"SPAN",{class:!0,style:!0}),g(z).forEach(p),G.forEach(p),V=A(H),H.forEach(p),this.h()},h(){u(o,"fill-rule","evenodd"),u(o,"clip-rule","evenodd"),u(o,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(o,"fill","white"),u(l,"clip-path","url(#clip0_1694_52664)"),u(s,"width","19.2"),u(s,"height","19.2"),u(s,"fill","white"),u(s,"transform","translate(0.399902 0.399902)"),u(a,"id","clip0_1694_52664"),u(n,"width","20"),u(n,"height","20"),u(n,"viewBox","0 0 20 20"),u(n,"fill","none"),u(n,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","mr-1"),u(h,"class","hidden md:block"),u(r,"class","typo-b5 w-4/12 flex items-center cursor-pointer flex-1"),u(v,"class","typo-b5 opacity-70 w-2/12 mr-6 md:mr-0"),u(z,"class","w-4 h-4 ml-2 inline-block"),nt(z,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),u(E,"class","typo-b5 w-full md:w-1/2 flex justify-end mb-2 md:mb-0 items-center"),u(e,"class","flex items-center border-b border-opacity-40 pb-[10px] mt-[10px] flex-wrap-reverse"),nt(e,"border-color","rgba(255, 255, 255, 0.4)")},m(Y,H){$(Y,e,H),c(e,r),c(r,n),c(n,l),c(l,o),c(n,i),c(i,a),c(a,s),c(r,f),c(r,h),c(h,_),c(e,m),c(e,v),c(v,d),c(e,y),c(e,E),c(E,N),c(E,S),c(E,z),c(e,V),Q||(X=bt(r,"click",J),Q=!0)},p(Y,H){t=Y,H&2&&w!==(w=t[16]+"")&&ct(d,w),H&2&&I!==(I=t[15].Name+"")&&ct(N,I),H&2&&nt(z,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat")},d(Y){Y&&p(e),Q=!1,X()}}}function Ni(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w,d,y,E,I,N,S,z,V,Q,X=t[7]-t[2]+"",J,Y,H,Z,rt,b,L,C,P;function U(D,T){return D[6]?Ci:Ii}let G=U(t),F=G(t),W=[...t[0],...t[1]],B=[];for(let D=0;D<W.length;D+=1)B[D]=wn(mn(t,W,D));m=new ki({props:{label:"ตั้งรัฐบาล",style:"right: 50%;"}});let M=t[6]&&yn(t);return{c(){e=x("div"),r=x("div"),F.c(),n=R(),l=x("p"),o=O("จัดตั้งรัฐบาล"),a=R(),s=x("div");for(let D=0;D<B.length;D+=1)B[D].c();f=R(),h=x("div"),_=R(),Xt(m.$$.fragment),w=R(),d=x("div"),y=x("div"),E=x("div"),I=O(`
				รัฐบาล (`),N=O(t[2]),S=O(")"),z=R(),V=x("div"),Q=O("ฝ่ายค้าน ("),J=O(X),Y=O(`)
				`),H=x("div"),Z=x("div"),rt=R(),M&&M.c(),this.h()},l(D){e=k(D,"DIV",{class:!0,style:!0});var T=g(e);r=k(T,"DIV",{class:!0});var K=g(r);F.l(K),n=A(K),l=k(K,"P",{class:!0});var at=g(l);o=q(at,"จัดตั้งรัฐบาล"),at.forEach(p),a=A(K),s=k(K,"DIV",{class:!0});var ot=g(s);for(let vt=0;vt<B.length;vt+=1)B[vt].l(ot);f=A(ot),h=k(ot,"DIV",{class:!0,style:!0}),g(h).forEach(p),_=A(ot),Ut(m.$$.fragment,ot),ot.forEach(p),w=A(K),d=k(K,"DIV",{class:!0});var dt=g(d);y=k(dt,"DIV",{class:!0});var It=g(y);E=k(It,"DIV",{class:!0,style:!0}),g(E).forEach(p),I=q(It,`
				รัฐบาล (`),N=q(It,t[2]),S=q(It,")"),It.forEach(p),z=A(dt),V=k(dt,"DIV",{class:!0});var _t=g(V);Q=q(_t,"ฝ่ายค้าน ("),J=q(_t,X),Y=q(_t,`)
				`),H=k(_t,"DIV",{class:!0,style:!0});var kt=g(H);Z=k(kt,"DIV",{class:!0}),g(Z).forEach(p),kt.forEach(p),_t.forEach(p),dt.forEach(p),rt=A(K),M&&M.l(K),K.forEach(p),T.forEach(p),this.h()},h(){u(l,"class",i=(t[6]?"typo-h6":"typo-b3")+" text-white font-bold"),u(h,"class","absolute top-0 bottom-0 right-0 stripe-white"),nt(h,"left",t[2]/t[7]*100+"%"),nt(h,"pointer-events","none"),nt(h,"border-left","1px solid white"),u(s,"class",v="flex flex-row h-6 relative "+(t[6]?"mt-[30px]":"")),u(E,"class","w-4 h-4 mr-2"),nt(E,"background-color","#CCCCCC"),u(y,"class","flex space-x-1 items-center"),u(Z,"class","stripe-white w-full h-full"),u(H,"class","w-4 h-4 ml-2"),nt(H,"background-color","#CCCCCC"),u(V,"class","flex space-x-1 items-center"),u(d,"class","flex items-center justify-between text-white typo-b6 mt-2"),u(r,"class",b="flex flex-col px-6 w-full max-w-[698px] relative transition-all duration-300 "+(t[6]?"mt-10":"")),u(e,"class",L="w-100 h-28 bg-black pt-5 flex flex-col items-center text-white transition-all duration-300 bottom-0 fixed w-full "+(t[6]?"fixed mt-1 overflow-y-scroll scrollbar-hide pb-[154px]":"")),u(e,"style",C=t[6]?"height: calc(100% - 0.25rem)":"")},m(D,T){$(D,e,T),c(e,r),F.m(r,null),c(r,n),c(r,l),c(l,o),c(r,a),c(r,s);for(let K=0;K<B.length;K+=1)B[K].m(s,null);c(s,f),c(s,h),c(s,_),Yt(m,s,null),c(r,w),c(r,d),c(d,y),c(y,E),c(y,I),c(y,N),c(y,S),c(d,z),c(d,V),c(V,Q),c(V,J),c(V,Y),c(V,H),c(H,Z),c(r,rt),M&&M.m(r,null),P=!0},p(D,[T]){if(G===(G=U(D))&&F?F.p(D,T):(F.d(1),F=G(D),F&&(F.c(),F.m(r,n))),(!P||T&64&&i!==(i=(D[6]?"typo-h6":"typo-b3")+" text-white font-bold"))&&u(l,"class",i),T&163){W=[...D[0],...D[1]];let K;for(K=0;K<W.length;K+=1){const at=mn(D,W,K);B[K]?B[K].p(at,T):(B[K]=wn(at),B[K].c(),B[K].m(s,f))}for(;K<B.length;K+=1)B[K].d(1);B.length=W.length}(!P||T&4)&&nt(h,"left",D[2]/D[7]*100+"%"),(!P||T&64&&v!==(v="flex flex-row h-6 relative "+(D[6]?"mt-[30px]":"")))&&u(s,"class",v),(!P||T&4)&&ct(N,D[2]),(!P||T&4)&&X!==(X=D[7]-D[2]+"")&&ct(J,X),D[6]?M?M.p(D,T):(M=yn(D),M.c(),M.m(r,null)):M&&(M.d(1),M=null),(!P||T&64&&b!==(b="flex flex-col px-6 w-full max-w-[698px] relative transition-all duration-300 "+(D[6]?"mt-10":"")))&&u(r,"class",b),(!P||T&64&&L!==(L="w-100 h-28 bg-black pt-5 flex flex-col items-center text-white transition-all duration-300 bottom-0 fixed w-full "+(D[6]?"fixed mt-1 overflow-y-scroll scrollbar-hide pb-[154px]":"")))&&u(e,"class",L),(!P||T&64&&C!==(C=D[6]?"height: calc(100% - 0.25rem)":""))&&u(e,"style",C)},i(D){P||(ht(m.$$.fragment,D),P=!0)},o(D){gt(m.$$.fragment,D),P=!1},d(D){D&&p(e),F.d(),Ft(B,D),Kt(m),M&&M.d()}}}const hr=376,In=(t,e)=>e.total-t.total,Cn=(t,e)=>e.total-t.total;function Pi(t,e,r){let{representativeRecord:n}=e,{governmentParties:l}=e,{oppositionParties:o}=e,{governmentPoints:i}=e,{toggleSide:a}=e,{toggleIsShare:s}=e;const f=n.reduce((I,N)=>I+N.total,0);let h=null,_=!1;const m=()=>r(6,_=!_);f-i>i&&a();const v=I=>r(5,h=I),w=()=>r(5,h=null),d=()=>a(),y=I=>a(I.Name),E=I=>a(I.Name);return t.$$set=I=>{"representativeRecord"in I&&r(9,n=I.representativeRecord),"governmentParties"in I&&r(0,l=I.governmentParties),"oppositionParties"in I&&r(1,o=I.oppositionParties),"governmentPoints"in I&&r(2,i=I.governmentPoints),"toggleSide"in I&&r(3,a=I.toggleSide),"toggleIsShare"in I&&r(4,s=I.toggleIsShare)},[l,o,i,a,s,h,_,f,m,n,v,w,d,y,E]}class Vi extends qt{constructor(e){super(),Gt(this,e,Pi,Ni,Zt,{representativeRecord:9,governmentParties:0,oppositionParties:1,governmentPoints:2,toggleSide:3,toggleIsShare:4})}}function Nn(t,e,r){const n=t.slice();return n[7]=e[r].party,n[8]=e[r].fromDistrict,n[9]=e[r].fromPartylist,n[10]=e[r].total,n}function Pn(t){let e;function r(o,i){return o[10]%2===0?Ti:Di}let n=r(t),l=n(t);return{c(){l.c(),e=Ve()},l(o){l.l(o),e=Ve()},m(o,i){l.m(o,i),$(o,e,i)},p(o,i){n!==(n=r(o))&&(l.d(1),l=n(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&p(e)}}}function Di(t){let e,r;return{c(){e=tt("svg"),r=tt("path"),this.h()},l(n){e=et(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=g(e);r=et(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(r).forEach(p),l.forEach(p),this.h()},h(){u(r,"fill-rule","evenodd"),u(r,"clip-rule","evenodd"),u(r,"d","M13 9L12.295 8.295L8.5 12.085L8.5 2.5L7.5 2.5L7.5 12.085L3.705 8.295L3 9L8 14L13 9Z"),u(r,"fill","#FF0000"),u(e,"width","16"),u(e,"height","17"),u(e,"viewBox","0 0 16 17"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){$(n,e,l),c(e,r)},d(n){n&&p(e)}}}function Ti(t){let e,r;return{c(){e=tt("svg"),r=tt("path"),this.h()},l(n){e=et(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=g(e);r=et(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(r).forEach(p),l.forEach(p),this.h()},h(){u(r,"fill-rule","evenodd"),u(r,"clip-rule","evenodd"),u(r,"d","M3 7.5L3.705 8.205L7.5 4.415V14H8.5V4.415L12.295 8.205L13 7.5L8 2.5L3 7.5Z"),u(r,"fill","#1FE43F"),u(e,"width","16"),u(e,"height","17"),u(e,"viewBox","0 0 16 17"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){$(n,e,l),c(e,r)},d(n){n&&p(e)}}}function Vn(t){let e,r,n=t[7].Name+"",l,o,i,a=t[8]+"",s,f,h,_=t[9]+"",m,v,w,d=t[10]+"",y,E,I,N,S,z,V,Q,X=t[0]===t[3].Elect66&&Pn(t);return{c(){e=x("div"),r=x("div"),l=O(n),o=R(),i=x("div"),s=O(a),f=R(),h=x("div"),m=O(_),v=R(),w=x("div"),y=O(d),E=R(),X&&X.c(),I=R(),N=x("div"),S=x("div"),z=R(),V=x("div"),Q=R(),this.h()},l(J){e=k(J,"DIV",{class:!0});var Y=g(e);r=k(Y,"DIV",{class:!0});var H=g(r);l=q(H,n),H.forEach(p),o=A(Y),i=k(Y,"DIV",{class:!0});var Z=g(i);s=q(Z,a),Z.forEach(p),f=A(Y),h=k(Y,"DIV",{class:!0});var rt=g(h);m=q(rt,_),rt.forEach(p),v=A(Y),w=k(Y,"DIV",{class:!0});var b=g(w);y=q(b,d),E=A(b),X&&X.l(b),b.forEach(p),Y.forEach(p),I=A(J),N=k(J,"DIV",{class:!0});var L=g(N);S=k(L,"DIV",{class:!0,style:!0}),g(S).forEach(p),z=A(L),V=k(L,"DIV",{class:!0,style:!0}),g(V).forEach(p),Q=A(L),L.forEach(p),this.h()},h(){u(r,"class","typo-b6 flex-1"),u(i,"class","typo-b6 w-[92px] text-right"),u(h,"class","typo-b6 w-[80px] md:w-[102px] text-right"),u(w,"class","typo-b6 w-16 md:w-[72px] text-right items-start md:items-center justify-end flex"),u(e,"class","flex mt-2 md:mt-5"),u(S,"class","h-4 mt-1 transition-all duration-300"),nt(S,"width",t[10]/t[2].total*100+"%"),nt(S,"background-color",t[7].Color),u(V,"class","absolute top-0 bottom-0 right-0 stripe-white transition-all duration-300"),nt(V,"left",t[8]/t[2].total*100+"%"),nt(V,"pointer-events","none"),nt(V,"border-left","1px solid white"),u(N,"class","flex flex-row relative")},m(J,Y){$(J,e,Y),c(e,r),c(r,l),c(e,o),c(e,i),c(i,s),c(e,f),c(e,h),c(h,m),c(e,v),c(e,w),c(w,y),c(w,E),X&&X.m(w,null),$(J,I,Y),$(J,N,Y),c(N,S),c(N,z),c(N,V),c(N,Q)},p(J,Y){Y&2&&n!==(n=J[7].Name+"")&&ct(l,n),Y&2&&a!==(a=J[8]+"")&&ct(s,a),Y&2&&_!==(_=J[9]+"")&&ct(m,_),Y&2&&d!==(d=J[10]+"")&&ct(y,d),J[0]===J[3].Elect66?X?X.p(J,Y):(X=Pn(J),X.c(),X.m(w,null)):X&&(X.d(1),X=null),Y&6&&nt(S,"width",J[10]/J[2].total*100+"%"),Y&2&&nt(S,"background-color",J[7].Color),Y&6&&nt(V,"left",J[8]/J[2].total*100+"%")},d(J){J&&p(e),X&&X.d(),J&&p(I),J&&p(N)}}}function Li(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w,d,y,E,I=t[1],N=[];for(let S=0;S<I.length;S+=1)N[S]=Vn(Nn(t,I,S));return{c(){e=x("div"),r=x("div"),n=x("div"),l=O("พรรค"),o=R(),i=x("div"),a=O("ส.ส. เขต "),s=x("div"),f=R(),h=x("div"),_=O("ส.ส. บัญชีฯ "),m=x("div"),v=x("div"),w=R(),d=x("div"),y=O("รวม"),E=R();for(let S=0;S<N.length;S+=1)N[S].c();this.h()},l(S){e=k(S,"DIV",{class:!0});var z=g(e);r=k(z,"DIV",{class:!0});var V=g(r);n=k(V,"DIV",{class:!0});var Q=g(n);l=q(Q,"พรรค"),Q.forEach(p),o=A(V),i=k(V,"DIV",{class:!0});var X=g(i);a=q(X,"ส.ส. เขต "),s=k(X,"DIV",{class:!0,style:!0}),g(s).forEach(p),X.forEach(p),f=A(V),h=k(V,"DIV",{class:!0});var J=g(h);_=q(J,"ส.ส. บัญชีฯ "),m=k(J,"DIV",{class:!0,style:!0});var Y=g(m);v=k(Y,"DIV",{class:!0}),g(v).forEach(p),Y.forEach(p),J.forEach(p),w=A(V),d=k(V,"DIV",{class:!0});var H=g(d);y=q(H,"รวม"),H.forEach(p),V.forEach(p),E=A(z);for(let Z=0;Z<N.length;Z+=1)N[Z].l(z);z.forEach(p),this.h()},h(){u(n,"class","typo-b6 font-bold flex-1"),u(s,"class","w-4 h-4 ml-2"),nt(s,"background-color","#CCCCCC"),u(i,"class","typo-b6 font-bold w-[80px] text-right items-center justify-end flex"),u(v,"class","stripe-white w-full h-full"),u(m,"class","w-4 h-4 ml-2"),nt(m,"background-color","#CCCCCC"),u(h,"class","typo-b6 font-bold w-[92px] md:w-[102px] text-right items-center justify-end flex"),u(d,"class","typo-b6 font-bold w-16 md:w-[72px] text-right"),u(r,"class","flex mt-5"),u(e,"class","w-full flex flex-col")},m(S,z){$(S,e,z),c(e,r),c(r,n),c(n,l),c(r,o),c(r,i),c(i,a),c(i,s),c(r,f),c(r,h),c(h,_),c(h,m),c(m,v),c(r,w),c(r,d),c(d,y),c(e,E);for(let V=0;V<N.length;V+=1)N[V].m(e,null)},p(S,[z]){if(z&15){I=S[1];let V;for(V=0;V<I.length;V+=1){const Q=Nn(S,I,V);N[V]?N[V].p(Q,z):(N[V]=Vn(Q),N[V].c(),N[V].m(e,null))}for(;V<N.length;V+=1)N[V].d(1);N.length=I.length}},i:Vt,o:Vt,d(S){S&&p(e),Ft(N,S)}}}const Dn=5;function Mi(t,e,r){let n,l,o,{representativeRecord:i}=e,{year:a}=e;const s={Name:"อื่นๆ",Color:"#CCCCCC"};var f=(h=>(h.Elect66="elect66",h.Elect62="elect62",h))(f||{});return t.$$set=h=>{"representativeRecord"in h&&r(4,i=h.representativeRecord),"year"in h&&r(0,a=h.year)},t.$$.update=()=>{t.$$.dirty&16&&r(2,n=i.reduce((h,_)=>h.total>_.total?h:_)),t.$$.dirty&16&&r(5,l=i.reduce((h,{fromDistrict:_,fromPartylist:m,total:v})=>(v<=Dn&&(h.fromDistrict+=_,h.fromPartylist+=m,h.total+=v),h),{party:s,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&48&&r(1,o=[...i.filter(h=>h.total>Dn),l])},[a,o,n,f,i,l]}class Si extends qt{constructor(e){super(),Gt(this,e,Mi,Li,Zt,{representativeRecord:4,year:0})}}function Ri(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w;return _=new Si({props:{year:t[1],representativeRecord:t[0]}}),{c(){e=x("div"),r=x("button"),n=O("แบบจำลองผลปี 66 ของคุณ"),o=R(),i=x("button"),a=O("ผลเลือกตั้ง 62"),f=R(),h=x("div"),Xt(_.$$.fragment),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"BUTTON",{class:!0});var E=g(r);n=q(E,"แบบจำลองผลปี 66 ของคุณ"),E.forEach(p),o=A(y),i=k(y,"BUTTON",{class:!0});var I=g(i);a=q(I,"ผลเลือกตั้ง 62"),I.forEach(p),y.forEach(p),f=A(d),h=k(d,"DIV",{class:!0});var N=g(h);Ut(_.$$.fragment,N),N.forEach(p),this.h()},h(){u(r,"class",l="typo-b6 py-[5px] px-[10px] border border-black "+(t[1]===t[2].Elect66?"bg-black text-white":"")),u(i,"class",s="typo-b6 py-[5px] px-[10px] border border-black "+(t[1]===t[2].Elect62?"bg-black text-white":"")),u(e,"class","flex gap-x-[10px] mt-5"),u(h,"class","w-full mb-[172px]")},m(d,y){$(d,e,y),c(e,r),c(r,n),c(e,o),c(e,i),c(i,a),$(d,f,y),$(d,h,y),Yt(_,h,null),m=!0,v||(w=[bt(r,"click",t[6]),bt(i,"click",t[7])],v=!0)},p(d,[y]){(!m||y&2&&l!==(l="typo-b6 py-[5px] px-[10px] border border-black "+(d[1]===d[2].Elect66?"bg-black text-white":"")))&&u(r,"class",l),(!m||y&2&&s!==(s="typo-b6 py-[5px] px-[10px] border border-black "+(d[1]===d[2].Elect62?"bg-black text-white":"")))&&u(i,"class",s);const E={};y&2&&(E.year=d[1]),y&1&&(E.representativeRecord=d[0]),_.$set(E)},i(d){m||(ht(_.$$.fragment,d),m=!0)},o(d){gt(_.$$.fragment,d),m=!1},d(d){d&&p(e),d&&p(f),d&&p(h),Kt(_),v=!1,fe(w)}}}function Ai(t,e,r){let n,l,{elect66Record:o}=e,{elect62Record:i}=e;var a=(_=>(_.Elect66="elect66",_.Elect62="elect62",_))(a||{});const s=_=>{r(1,n=_),_==="elect66"?r(0,l=o):r(0,l=i)},f=()=>s(a.Elect66),h=()=>s(a.Elect62);return t.$$set=_=>{"elect66Record"in _&&r(4,o=_.elect66Record),"elect62Record"in _&&r(5,i=_.elect62Record)},t.$$.update=()=>{t.$$.dirty&16&&r(0,l=o)},r(1,n="elect66"),[l,n,a,s,o,i,f,h]}class zi extends qt{constructor(e){super(),Gt(this,e,Ai,Ri,Zt,{elect66Record:4,elect62Record:5})}}var Hi={value:()=>{}};function Gr(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new sr(r)}function sr(t){this._=t}function Bi(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",l=r.indexOf(".");if(l>=0&&(n=r.slice(l+1),r=r.slice(0,l)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sr.prototype=Gr.prototype={constructor:sr,on:function(t,e){var r=this._,n=Bi(t+"",r),l,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((l=(t=n[o]).type)&&(l=Fi(r[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<i;)if(l=(t=n[o]).type)r[l]=Tn(r[l],t.name,e);else if(e==null)for(l in r)r[l]=Tn(r[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new sr(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var r=new Array(l),n=0,l,o;n<l;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,l=o.length;n<l;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],l=0,o=n.length;l<o;++l)n[l].value.apply(e,r)}};function Fi(t,e){for(var r=0,n=t.length,l;r<n;++r)if((l=t[r]).name===e)return l.value}function Tn(t,e,r){for(var n=0,l=t.length;n<l;++n)if(t[n].name===e){t[n]=Hi,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var Lr="http://www.w3.org/1999/xhtml";const Ln={svg:"http://www.w3.org/2000/svg",xhtml:Lr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yr(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Ln.hasOwnProperty(e)?{space:Ln[e],local:t}:t}function Oi(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Lr&&e.documentElement.namespaceURI===Lr?e.createElement(t):e.createElementNS(r,t)}}function qi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Nl(t){var e=yr(t);return(e.local?qi:Oi)(e)}function Gi(){}function Zr(t){return t==null?Gi:function(){return this.querySelector(t)}}function Zi(t){typeof t!="function"&&(t=Zr(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,a=n[l]=new Array(i),s,f,h=0;h<i;++h)(s=o[h])&&(f=t.call(s,s.__data__,h,o))&&("__data__"in s&&(f.__data__=s.__data__),a[h]=f);return new Tt(n,this._parents)}function Pl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Xi(){return[]}function Vl(t){return t==null?Xi:function(){return this.querySelectorAll(t)}}function Ui(t){return function(){return Pl(t.apply(this,arguments))}}function Yi(t){typeof t=="function"?t=Ui(t):t=Vl(t);for(var e=this._groups,r=e.length,n=[],l=[],o=0;o<r;++o)for(var i=e[o],a=i.length,s,f=0;f<a;++f)(s=i[f])&&(n.push(t.call(s,s.__data__,f,i)),l.push(s));return new Tt(n,l)}function Dl(t){return function(){return this.matches(t)}}function Tl(t){return function(e){return e.matches(t)}}var Ki=Array.prototype.find;function Wi(t){return function(){return Ki.call(this.children,t)}}function Qi(){return this.firstElementChild}function Ji(t){return this.select(t==null?Qi:Wi(typeof t=="function"?t:Tl(t)))}var ji=Array.prototype.filter;function $i(){return Array.from(this.children)}function to(t){return function(){return ji.call(this.children,t)}}function eo(t){return this.selectAll(t==null?$i:to(typeof t=="function"?t:Tl(t)))}function ro(t){typeof t!="function"&&(t=Dl(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,a=n[l]=[],s,f=0;f<i;++f)(s=o[f])&&t.call(s,s.__data__,f,o)&&a.push(s);return new Tt(n,this._parents)}function Ll(t){return new Array(t.length)}function no(){return new Tt(this._enter||this._groups.map(Ll),this._parents)}function dr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}dr.prototype={constructor:dr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function lo(t){return function(){return t}}function io(t,e,r,n,l,o){for(var i=0,a,s=e.length,f=o.length;i<f;++i)(a=e[i])?(a.__data__=o[i],n[i]=a):r[i]=new dr(t,o[i]);for(;i<s;++i)(a=e[i])&&(l[i]=a)}function oo(t,e,r,n,l,o,i){var a,s,f=new Map,h=e.length,_=o.length,m=new Array(h),v;for(a=0;a<h;++a)(s=e[a])&&(m[a]=v=i.call(s,s.__data__,a,e)+"",f.has(v)?l[a]=s:f.set(v,s));for(a=0;a<_;++a)v=i.call(t,o[a],a,o)+"",(s=f.get(v))?(n[a]=s,s.__data__=o[a],f.delete(v)):r[a]=new dr(t,o[a]);for(a=0;a<h;++a)(s=e[a])&&f.get(m[a])===s&&(l[a]=s)}function so(t){return t.__data__}function ao(t,e){if(!arguments.length)return Array.from(this,so);var r=e?oo:io,n=this._parents,l=this._groups;typeof t!="function"&&(t=lo(t));for(var o=l.length,i=new Array(o),a=new Array(o),s=new Array(o),f=0;f<o;++f){var h=n[f],_=l[f],m=_.length,v=uo(t.call(h,h&&h.__data__,f,n)),w=v.length,d=a[f]=new Array(w),y=i[f]=new Array(w),E=s[f]=new Array(m);r(h,_,d,y,E,v,e);for(var I=0,N=0,S,z;I<w;++I)if(S=d[I]){for(I>=N&&(N=I+1);!(z=y[N])&&++N<w;);S._next=z||null}}return i=new Tt(i,n),i._enter=a,i._exit=s,i}function uo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function co(){return new Tt(this._exit||this._groups.map(Ll),this._parents)}function fo(t,e,r){var n=this.enter(),l=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),r==null?o.remove():r(o),n&&l?n.merge(l).order():l}function ho(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,l=r.length,o=n.length,i=Math.min(l,o),a=new Array(l),s=0;s<i;++s)for(var f=r[s],h=n[s],_=f.length,m=a[s]=new Array(_),v,w=0;w<_;++w)(v=f[w]||h[w])&&(m[w]=v);for(;s<l;++s)a[s]=r[s];return new Tt(a,this._parents)}function po(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],l=n.length-1,o=n[l],i;--l>=0;)(i=n[l])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function _o(t){t||(t=vo);function e(_,m){return _&&m?t(_.__data__,m.__data__):!_-!m}for(var r=this._groups,n=r.length,l=new Array(n),o=0;o<n;++o){for(var i=r[o],a=i.length,s=l[o]=new Array(a),f,h=0;h<a;++h)(f=i[h])&&(s[h]=f);s.sort(e)}return new Tt(l,this._parents).order()}function vo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function go(){return Array.from(this)}function wo(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],l=0,o=n.length;l<o;++l){var i=n[l];if(i)return i}return null}function yo(){let t=0;for(const e of this)++t;return t}function bo(){return!this.node()}function Eo(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var l=e[r],o=0,i=l.length,a;o<i;++o)(a=l[o])&&t.call(a,a.__data__,o,l);return this}function xo(t){return function(){this.removeAttribute(t)}}function ko(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Io(t,e){return function(){this.setAttribute(t,e)}}function Co(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function No(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Po(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Vo(t,e){var r=yr(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?ko:xo:typeof e=="function"?r.local?Po:No:r.local?Co:Io)(r,e))}function Ml(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Do(t){return function(){this.style.removeProperty(t)}}function To(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Lo(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Mo(t,e,r){return arguments.length>1?this.each((e==null?Do:typeof e=="function"?Lo:To)(t,e,r??"")):De(this.node(),t)}function De(t,e){return t.style.getPropertyValue(e)||Ml(t).getComputedStyle(t,null).getPropertyValue(e)}function So(t){return function(){delete this[t]}}function Ro(t,e){return function(){this[t]=e}}function Ao(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function zo(t,e){return arguments.length>1?this.each((e==null?So:typeof e=="function"?Ao:Ro)(t,e)):this.node()[t]}function Sl(t){return t.trim().split(/^|\s+/)}function Xr(t){return t.classList||new Rl(t)}function Rl(t){this._node=t,this._names=Sl(t.getAttribute("class")||"")}Rl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Al(t,e){for(var r=Xr(t),n=-1,l=e.length;++n<l;)r.add(e[n])}function zl(t,e){for(var r=Xr(t),n=-1,l=e.length;++n<l;)r.remove(e[n])}function Ho(t){return function(){Al(this,t)}}function Bo(t){return function(){zl(this,t)}}function Fo(t,e){return function(){(e.apply(this,arguments)?Al:zl)(this,t)}}function Oo(t,e){var r=Sl(t+"");if(arguments.length<2){for(var n=Xr(this.node()),l=-1,o=r.length;++l<o;)if(!n.contains(r[l]))return!1;return!0}return this.each((typeof e=="function"?Fo:e?Ho:Bo)(r,e))}function qo(){this.textContent=""}function Go(t){return function(){this.textContent=t}}function Zo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Xo(t){return arguments.length?this.each(t==null?qo:(typeof t=="function"?Zo:Go)(t)):this.node().textContent}function Uo(){this.innerHTML=""}function Yo(t){return function(){this.innerHTML=t}}function Ko(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Wo(t){return arguments.length?this.each(t==null?Uo:(typeof t=="function"?Ko:Yo)(t)):this.node().innerHTML}function Qo(){this.nextSibling&&this.parentNode.appendChild(this)}function Jo(){return this.each(Qo)}function jo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $o(){return this.each(jo)}function ts(t){var e=typeof t=="function"?t:Nl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function es(){return null}function rs(t,e){var r=typeof t=="function"?t:Nl(t),n=e==null?es:typeof e=="function"?e:Zr(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function ns(){var t=this.parentNode;t&&t.removeChild(this)}function ls(){return this.each(ns)}function is(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function os(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ss(t){return this.select(t?os:is)}function as(t){return arguments.length?this.property("__data__",t):this.node().__data__}function us(t){return function(e){t.call(this,e,this.__data__)}}function cs(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function fs(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,l=e.length,o;r<l;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function hs(t,e,r){return function(){var n=this.__on,l,o=us(e);if(n){for(var i=0,a=n.length;i<a;++i)if((l=n[i]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=o,l.options=r),l.value=e;return}}this.addEventListener(t.type,o,r),l={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(l):this.__on=[l]}}function ds(t,e,r){var n=cs(t+""),l,o=n.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,f=a.length,h;s<f;++s)for(l=0,h=a[s];l<o;++l)if((i=n[l]).type===h.type&&i.name===h.name)return h.value}return}for(a=e?hs:fs,l=0;l<o;++l)this.each(a(n[l],e,r));return this}function Hl(t,e,r){var n=Ml(t),l=n.CustomEvent;typeof l=="function"?l=new l(e,r):(l=n.document.createEvent("Event"),r?(l.initEvent(e,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function ps(t,e){return function(){return Hl(this,t,e)}}function _s(t,e){return function(){return Hl(this,t,e.apply(this,arguments))}}function vs(t,e){return this.each((typeof e=="function"?_s:ps)(t,e))}function*ms(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],l=0,o=n.length,i;l<o;++l)(i=n[l])&&(yield i)}var Ur=[null];function Tt(t,e){this._groups=t,this._parents=e}function Ke(){return new Tt([[document.documentElement]],Ur)}function gs(){return this}Tt.prototype=Ke.prototype={constructor:Tt,select:Zi,selectAll:Yi,selectChild:Ji,selectChildren:eo,filter:ro,data:ao,enter:no,exit:co,join:fo,merge:ho,selection:gs,order:po,sort:_o,call:mo,nodes:go,node:wo,size:yo,empty:bo,each:Eo,attr:Vo,style:Mo,property:zo,classed:Oo,text:Xo,html:Wo,raise:Jo,lower:$o,append:ts,insert:rs,remove:ls,clone:ss,datum:as,on:ds,dispatch:vs,[Symbol.iterator]:ms};function ue(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],Ur)}function ws(t){let e;for(;e=t.sourceEvent;)t=e;return t}function se(t,e){if(t=ws(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}function ys(t){return typeof t=="string"?new Tt([document.querySelectorAll(t)],[document.documentElement]):new Tt([Pl(t)],Ur)}const Mr={capture:!0,passive:!1};function Sr(t){t.preventDefault(),t.stopImmediatePropagation()}function bs(t){var e=t.document.documentElement,r=ue(t).on("dragstart.drag",Sr,Mr);"onselectstart"in e?r.on("selectstart.drag",Sr,Mr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Es(t,e){var r=t.document.documentElement,n=ue(t).on("dragstart.drag",null);e&&(n.on("click.drag",Sr,Mr),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Yr(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Bl(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function We(){}var Ze=.7,pr=1/Ze,Pe="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xs=/^#([0-9a-f]{3,8})$/,ks=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),Is=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),Cs=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Xe}\\)$`),Ns=new RegExp(`^rgba\\(${$t},${$t},${$t},${Xe}\\)$`),Ps=new RegExp(`^hsl\\(${Xe},${$t},${$t}\\)$`),Vs=new RegExp(`^hsla\\(${Xe},${$t},${$t},${Xe}\\)$`),Mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yr(We,Ue,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sn,formatHex:Sn,formatHex8:Ds,formatHsl:Ts,formatRgb:Rn,toString:Rn});function Sn(){return this.rgb().formatHex()}function Ds(){return this.rgb().formatHex8()}function Ts(){return Fl(this).formatHsl()}function Rn(){return this.rgb().formatRgb()}function Ue(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=xs.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?An(e):r===3?new At(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?er(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?er(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ks.exec(t))?new At(e[1],e[2],e[3],1):(e=Is.exec(t))?new At(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cs.exec(t))?er(e[1],e[2],e[3],e[4]):(e=Ns.exec(t))?er(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ps.exec(t))?Bn(e[1],e[2]/100,e[3]/100,1):(e=Vs.exec(t))?Bn(e[1],e[2]/100,e[3]/100,e[4]):Mn.hasOwnProperty(t)?An(Mn[t]):t==="transparent"?new At(NaN,NaN,NaN,0):null}function An(t){return new At(t>>16&255,t>>8&255,t&255,1)}function er(t,e,r,n){return n<=0&&(t=e=r=NaN),new At(t,e,r,n)}function Ls(t){return t instanceof We||(t=Ue(t)),t?(t=t.rgb(),new At(t.r,t.g,t.b,t.opacity)):new At}function Rr(t,e,r,n){return arguments.length===1?Ls(t):new At(t,e,r,n??1)}function At(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Yr(At,Rr,Bl(We,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ze:Math.pow(Ze,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new At(ye(this.r),ye(this.g),ye(this.b),_r(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zn,formatHex:zn,formatHex8:Ms,formatRgb:Hn,toString:Hn}));function zn(){return`#${ge(this.r)}${ge(this.g)}${ge(this.b)}`}function Ms(){return`#${ge(this.r)}${ge(this.g)}${ge(this.b)}${ge((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hn(){const t=_r(this.opacity);return`${t===1?"rgb(":"rgba("}${ye(this.r)}, ${ye(this.g)}, ${ye(this.b)}${t===1?")":`, ${t})`}`}function _r(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ye(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ge(t){return t=ye(t),(t<16?"0":"")+t.toString(16)}function Bn(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Bt(t,e,r,n)}function Fl(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);if(t instanceof We||(t=Ue(t)),!t)return new Bt;if(t instanceof Bt)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,l=Math.min(e,r,n),o=Math.max(e,r,n),i=NaN,a=o-l,s=(o+l)/2;return a?(e===o?i=(r-n)/a+(r<n)*6:r===o?i=(n-e)/a+2:i=(e-r)/a+4,a/=s<.5?o+l:2-o-l,i*=60):a=s>0&&s<1?0:i,new Bt(i,a,s,t.opacity)}function Ss(t,e,r,n){return arguments.length===1?Fl(t):new Bt(t,e,r,n??1)}function Bt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Yr(Bt,Ss,Bl(We,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ze:Math.pow(Ze,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,l=2*r-n;return new At(Pr(t>=240?t-240:t+120,l,n),Pr(t,l,n),Pr(t<120?t+240:t-120,l,n),this.opacity)},clamp(){return new Bt(Fn(this.h),rr(this.s),rr(this.l),_r(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_r(this.opacity);return`${t===1?"hsl(":"hsla("}${Fn(this.h)}, ${rr(this.s)*100}%, ${rr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fn(t){return t=(t||0)%360,t<0?t+360:t}function rr(t){return Math.max(0,Math.min(1,t||0))}function Pr(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Ol=t=>()=>t;function Rs(t,e){return function(r){return t+r*e}}function As(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function zs(t){return(t=+t)==1?ql:function(e,r){return r-e?As(e,r,t):Ol(isNaN(e)?r:e)}}function ql(t,e){var r=e-t;return r?Rs(t,r):Ol(isNaN(t)?e:t)}const On=function t(e){var r=zs(e);function n(l,o){var i=r((l=Rr(l)).r,(o=Rr(o)).r),a=r(l.g,o.g),s=r(l.b,o.b),f=ql(l.opacity,o.opacity);return function(h){return l.r=i(h),l.g=a(h),l.b=s(h),l.opacity=f(h),l+""}}return n.gamma=t,n}(1);function ae(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Ar=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vr=new RegExp(Ar.source,"g");function Hs(t){return function(){return t}}function Bs(t){return function(e){return t(e)+""}}function Fs(t,e){var r=Ar.lastIndex=Vr.lastIndex=0,n,l,o,i=-1,a=[],s=[];for(t=t+"",e=e+"";(n=Ar.exec(t))&&(l=Vr.exec(e));)(o=l.index)>r&&(o=e.slice(r,o),a[i]?a[i]+=o:a[++i]=o),(n=n[0])===(l=l[0])?a[i]?a[i]+=l:a[++i]=l:(a[++i]=null,s.push({i,x:ae(n,l)})),r=Vr.lastIndex;return r<e.length&&(o=e.slice(r),a[i]?a[i]+=o:a[++i]=o),a.length<2?s[0]?Bs(s[0].x):Hs(e):(e=s.length,function(f){for(var h=0,_;h<e;++h)a[(_=s[h]).i]=_.x(f);return a.join("")})}var qn=180/Math.PI,zr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gl(t,e,r,n,l,o){var i,a,s;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(s=t*r+e*n)&&(r-=t*s,n-=e*s),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,s/=a),t*n<e*r&&(t=-t,e=-e,s=-s,i=-i),{translateX:l,translateY:o,rotate:Math.atan2(e,t)*qn,skewX:Math.atan(s)*qn,scaleX:i,scaleY:a}}var nr;function Os(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zr:Gl(e.a,e.b,e.c,e.d,e.e,e.f)}function qs(t){return t==null||(nr||(nr=document.createElementNS("http://www.w3.org/2000/svg","g")),nr.setAttribute("transform",t),!(t=nr.transform.baseVal.consolidate()))?zr:(t=t.matrix,Gl(t.a,t.b,t.c,t.d,t.e,t.f))}function Zl(t,e,r,n){function l(f){return f.length?f.pop()+" ":""}function o(f,h,_,m,v,w){if(f!==_||h!==m){var d=v.push("translate(",null,e,null,r);w.push({i:d-4,x:ae(f,_)},{i:d-2,x:ae(h,m)})}else(_||m)&&v.push("translate("+_+e+m+r)}function i(f,h,_,m){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),m.push({i:_.push(l(_)+"rotate(",null,n)-2,x:ae(f,h)})):h&&_.push(l(_)+"rotate("+h+n)}function a(f,h,_,m){f!==h?m.push({i:_.push(l(_)+"skewX(",null,n)-2,x:ae(f,h)}):h&&_.push(l(_)+"skewX("+h+n)}function s(f,h,_,m,v,w){if(f!==_||h!==m){var d=v.push(l(v)+"scale(",null,",",null,")");w.push({i:d-4,x:ae(f,_)},{i:d-2,x:ae(h,m)})}else(_!==1||m!==1)&&v.push(l(v)+"scale("+_+","+m+")")}return function(f,h){var _=[],m=[];return f=t(f),h=t(h),o(f.translateX,f.translateY,h.translateX,h.translateY,_,m),i(f.rotate,h.rotate,_,m),a(f.skewX,h.skewX,_,m),s(f.scaleX,f.scaleY,h.scaleX,h.scaleY,_,m),f=h=null,function(v){for(var w=-1,d=m.length,y;++w<d;)_[(y=m[w]).i]=y.x(v);return _.join("")}}}var Gs=Zl(Os,"px, ","px)","deg)"),Zs=Zl(qs,", ",")",")"),Xs=1e-12;function Gn(t){return((t=Math.exp(t))+1/t)/2}function Us(t){return((t=Math.exp(t))-1/t)/2}function Ys(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ks=function t(e,r,n){function l(o,i){var a=o[0],s=o[1],f=o[2],h=i[0],_=i[1],m=i[2],v=h-a,w=_-s,d=v*v+w*w,y,E;if(d<Xs)E=Math.log(m/f)/e,y=function(Q){return[a+Q*v,s+Q*w,f*Math.exp(e*Q*E)]};else{var I=Math.sqrt(d),N=(m*m-f*f+n*d)/(2*f*r*I),S=(m*m-f*f-n*d)/(2*m*r*I),z=Math.log(Math.sqrt(N*N+1)-N),V=Math.log(Math.sqrt(S*S+1)-S);E=(V-z)/e,y=function(Q){var X=Q*E,J=Gn(z),Y=f/(r*I)*(J*Ys(e*X+z)-Us(z));return[a+Y*v,s+Y*w,f*J/Gn(e*X+z)]}}return y.duration=E*1e3*e/Math.SQRT2,y}return l.rho=function(o){var i=Math.max(.001,+o),a=i*i,s=a*a;return t(i,a,s)},l}(Math.SQRT2,2,4);var Te=0,Be=0,ze=0,Xl=1e3,vr,Fe,mr=0,be=0,br=0,Ye=typeof performance=="object"&&performance.now?performance:Date,Ul=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kr(){return be||(Ul(Ws),be=Ye.now()+br)}function Ws(){be=0}function gr(){this._call=this._time=this._next=null}gr.prototype=Yl.prototype={constructor:gr,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Kr():+r)+(e==null?0:+e),!this._next&&Fe!==this&&(Fe?Fe._next=this:vr=this,Fe=this),this._call=t,this._time=r,Hr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hr())}};function Yl(t,e,r){var n=new gr;return n.restart(t,e,r),n}function Qs(){Kr(),++Te;for(var t=vr,e;t;)(e=be-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Te}function Zn(){be=(mr=Ye.now())+br,Te=Be=0;try{Qs()}finally{Te=0,js(),be=0}}function Js(){var t=Ye.now(),e=t-mr;e>Xl&&(br-=e,mr=t)}function js(){for(var t,e=vr,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:vr=r);Fe=t,Hr(n)}function Hr(t){if(!Te){Be&&(Be=clearTimeout(Be));var e=t-be;e>24?(t<1/0&&(Be=setTimeout(Zn,t-Ye.now()-br)),ze&&(ze=clearInterval(ze))):(ze||(mr=Ye.now(),ze=setInterval(Js,Xl)),Te=1,Ul(Zn))}}function Xn(t,e,r){var n=new gr;return e=e==null?0:+e,n.restart(l=>{n.stop(),t(l+e)},e,r),n}var $s=Gr("start","end","cancel","interrupt"),ta=[],Kl=0,Un=1,Br=2,ar=3,Yn=4,Fr=5,ur=6;function Er(t,e,r,n,l,o){var i=t.__transition;if(!i)t.__transition={};else if(r in i)return;ea(t,r,{name:e,index:n,group:l,on:$s,tween:ta,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Kl})}function Wr(t,e){var r=Wt(t,e);if(r.state>Kl)throw new Error("too late; already scheduled");return r}function ee(t,e){var r=Wt(t,e);if(r.state>ar)throw new Error("too late; already running");return r}function Wt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function ea(t,e,r){var n=t.__transition,l;n[e]=r,r.timer=Yl(o,0,r.time);function o(f){r.state=Un,r.timer.restart(i,r.delay,r.time),r.delay<=f&&i(f-r.delay)}function i(f){var h,_,m,v;if(r.state!==Un)return s();for(h in n)if(v=n[h],v.name===r.name){if(v.state===ar)return Xn(i);v.state===Yn?(v.state=ur,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete n[h]):+h<e&&(v.state=ur,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete n[h])}if(Xn(function(){r.state===ar&&(r.state=Yn,r.timer.restart(a,r.delay,r.time),a(f))}),r.state=Br,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Br){for(r.state=ar,l=new Array(m=r.tween.length),h=0,_=-1;h<m;++h)(v=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(l[++_]=v);l.length=_+1}}function a(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(s),r.state=Fr,1),_=-1,m=l.length;++_<m;)l[_].call(t,h);r.state===Fr&&(r.on.call("end",t,t.__data__,r.index,r.group),s())}function s(){r.state=ur,r.timer.stop(),delete n[e];for(var f in n)return;delete t.__transition}}function cr(t,e){var r=t.__transition,n,l,o=!0,i;if(r){e=e==null?null:e+"";for(i in r){if((n=r[i]).name!==e){o=!1;continue}l=n.state>Br&&n.state<Fr,n.state=ur,n.timer.stop(),n.on.call(l?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]}o&&delete t.__transition}}function ra(t){return this.each(function(){cr(this,t)})}function na(t,e){var r,n;return function(){var l=ee(this,t),o=l.tween;if(o!==r){n=r=o;for(var i=0,a=n.length;i<a;++i)if(n[i].name===e){n=n.slice(),n.splice(i,1);break}}l.tween=n}}function la(t,e,r){var n,l;if(typeof r!="function")throw new Error;return function(){var o=ee(this,t),i=o.tween;if(i!==n){l=(n=i).slice();for(var a={name:e,value:r},s=0,f=l.length;s<f;++s)if(l[s].name===e){l[s]=a;break}s===f&&l.push(a)}o.tween=l}}function ia(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Wt(this.node(),r).tween,l=0,o=n.length,i;l<o;++l)if((i=n[l]).name===t)return i.value;return null}return this.each((e==null?na:la)(r,t,e))}function Qr(t,e,r){var n=t._id;return t.each(function(){var l=ee(this,n);(l.value||(l.value={}))[e]=r.apply(this,arguments)}),function(l){return Wt(l,n).value[e]}}function Wl(t,e){var r;return(typeof e=="number"?ae:e instanceof Ue?On:(r=Ue(e))?(e=r,On):Fs)(t,e)}function oa(t){return function(){this.removeAttribute(t)}}function sa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aa(t,e,r){var n,l=r+"",o;return function(){var i=this.getAttribute(t);return i===l?null:i===n?o:o=e(n=i,r)}}function ua(t,e,r){var n,l=r+"",o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===l?null:i===n?o:o=e(n=i,r)}}function ca(t,e,r){var n,l,o;return function(){var i,a=r(this),s;return a==null?void this.removeAttribute(t):(i=this.getAttribute(t),s=a+"",i===s?null:i===n&&s===l?o:(l=s,o=e(n=i,a)))}}function fa(t,e,r){var n,l,o;return function(){var i,a=r(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),s=a+"",i===s?null:i===n&&s===l?o:(l=s,o=e(n=i,a)))}}function ha(t,e){var r=yr(t),n=r==="transform"?Zs:Wl;return this.attrTween(t,typeof e=="function"?(r.local?fa:ca)(r,n,Qr(this,"attr."+t,e)):e==null?(r.local?sa:oa)(r):(r.local?ua:aa)(r,n,e))}function da(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function pa(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function _a(t,e){var r,n;function l(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&pa(t,o)),r}return l._value=e,l}function va(t,e){var r,n;function l(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&da(t,o)),r}return l._value=e,l}function ma(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=yr(t);return this.tween(r,(n.local?_a:va)(n,e))}function ga(t,e){return function(){Wr(this,t).delay=+e.apply(this,arguments)}}function wa(t,e){return e=+e,function(){Wr(this,t).delay=e}}function ya(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ga:wa)(e,t)):Wt(this.node(),e).delay}function ba(t,e){return function(){ee(this,t).duration=+e.apply(this,arguments)}}function Ea(t,e){return e=+e,function(){ee(this,t).duration=e}}function xa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ba:Ea)(e,t)):Wt(this.node(),e).duration}function ka(t,e){if(typeof e!="function")throw new Error;return function(){ee(this,t).ease=e}}function Ia(t){var e=this._id;return arguments.length?this.each(ka(e,t)):Wt(this.node(),e).ease}function Ca(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;ee(this,t).ease=r}}function Na(t){if(typeof t!="function")throw new Error;return this.each(Ca(this._id,t))}function Pa(t){typeof t!="function"&&(t=Dl(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,a=n[l]=[],s,f=0;f<i;++f)(s=o[f])&&t.call(s,s.__data__,f,o)&&a.push(s);return new ie(n,this._parents,this._name,this._id)}function Va(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,l=r.length,o=Math.min(n,l),i=new Array(n),a=0;a<o;++a)for(var s=e[a],f=r[a],h=s.length,_=i[a]=new Array(h),m,v=0;v<h;++v)(m=s[v]||f[v])&&(_[v]=m);for(;a<n;++a)i[a]=e[a];return new ie(i,this._parents,this._name,this._id)}function Da(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Ta(t,e,r){var n,l,o=Da(e)?Wr:ee;return function(){var i=o(this,t),a=i.on;a!==n&&(l=(n=a).copy()).on(e,r),i.on=l}}function La(t,e){var r=this._id;return arguments.length<2?Wt(this.node(),r).on.on(t):this.each(Ta(r,t,e))}function Ma(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Sa(){return this.on("end.remove",Ma(this._id))}function Ra(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Zr(t));for(var n=this._groups,l=n.length,o=new Array(l),i=0;i<l;++i)for(var a=n[i],s=a.length,f=o[i]=new Array(s),h,_,m=0;m<s;++m)(h=a[m])&&(_=t.call(h,h.__data__,m,a))&&("__data__"in h&&(_.__data__=h.__data__),f[m]=_,Er(f[m],e,r,m,f,Wt(h,r)));return new ie(o,this._parents,e,r)}function Aa(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Vl(t));for(var n=this._groups,l=n.length,o=[],i=[],a=0;a<l;++a)for(var s=n[a],f=s.length,h,_=0;_<f;++_)if(h=s[_]){for(var m=t.call(h,h.__data__,_,s),v,w=Wt(h,r),d=0,y=m.length;d<y;++d)(v=m[d])&&Er(v,e,r,d,m,w);o.push(m),i.push(h)}return new ie(o,i,e,r)}var za=Ke.prototype.constructor;function Ha(){return new za(this._groups,this._parents)}function Ba(t,e){var r,n,l;return function(){var o=De(this,t),i=(this.style.removeProperty(t),De(this,t));return o===i?null:o===r&&i===n?l:l=e(r=o,n=i)}}function Ql(t){return function(){this.style.removeProperty(t)}}function Fa(t,e,r){var n,l=r+"",o;return function(){var i=De(this,t);return i===l?null:i===n?o:o=e(n=i,r)}}function Oa(t,e,r){var n,l,o;return function(){var i=De(this,t),a=r(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),De(this,t))),i===s?null:i===n&&s===l?o:(l=s,o=e(n=i,a))}}function qa(t,e){var r,n,l,o="style."+e,i="end."+o,a;return function(){var s=ee(this,t),f=s.on,h=s.value[o]==null?a||(a=Ql(e)):void 0;(f!==r||l!==h)&&(n=(r=f).copy()).on(i,l=h),s.on=n}}function Ga(t,e,r){var n=(t+="")=="transform"?Gs:Wl;return e==null?this.styleTween(t,Ba(t,n)).on("end.style."+t,Ql(t)):typeof e=="function"?this.styleTween(t,Oa(t,n,Qr(this,"style."+t,e))).each(qa(this._id,t)):this.styleTween(t,Fa(t,n,e),r).on("end.style."+t,null)}function Za(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Xa(t,e,r){var n,l;function o(){var i=e.apply(this,arguments);return i!==l&&(n=(l=i)&&Za(t,i,r)),n}return o._value=e,o}function Ua(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Xa(t,e,r??""))}function Ya(t){return function(){this.textContent=t}}function Ka(t){return function(){var e=t(this);this.textContent=e??""}}function Wa(t){return this.tween("text",typeof t=="function"?Ka(Qr(this,"text",t)):Ya(t==null?"":t+""))}function Qa(t){return function(e){this.textContent=t.call(this,e)}}function Ja(t){var e,r;function n(){var l=t.apply(this,arguments);return l!==r&&(e=(r=l)&&Qa(l)),e}return n._value=t,n}function ja(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ja(t))}function $a(){for(var t=this._name,e=this._id,r=Jl(),n=this._groups,l=n.length,o=0;o<l;++o)for(var i=n[o],a=i.length,s,f=0;f<a;++f)if(s=i[f]){var h=Wt(s,e);Er(s,t,r,f,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ie(n,this._parents,t,r)}function tu(){var t,e,r=this,n=r._id,l=r.size();return new Promise(function(o,i){var a={value:i},s={value:function(){--l===0&&o()}};r.each(function(){var f=ee(this,n),h=f.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),f.on=e}),l===0&&o()})}var eu=0;function ie(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Jl(){return++eu}var ne=Ke.prototype;ie.prototype={constructor:ie,select:Ra,selectAll:Aa,selectChild:ne.selectChild,selectChildren:ne.selectChildren,filter:Pa,merge:Va,selection:Ha,transition:$a,call:ne.call,nodes:ne.nodes,node:ne.node,size:ne.size,empty:ne.empty,each:ne.each,on:La,attr:ha,attrTween:ma,style:Ga,styleTween:Ua,text:Wa,textTween:ja,remove:Sa,tween:ia,delay:ya,duration:xa,ease:Ia,easeVarying:Na,end:tu,[Symbol.iterator]:ne[Symbol.iterator]};function ru(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var nu={time:null,delay:0,duration:250,ease:ru};function lu(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function iu(t){var e,r;t instanceof ie?(e=t._id,t=t._name):(e=Jl(),(r=nu).time=Kr(),t=t==null?null:t+"");for(var n=this._groups,l=n.length,o=0;o<l;++o)for(var i=n[o],a=i.length,s,f=0;f<a;++f)(s=i[f])&&Er(s,t,e,f,i,r||lu(s,e));return new ie(n,this._parents,t,e)}Ke.prototype.interrupt=ra;Ke.prototype.transition=iu;const lr=t=>()=>t;function ou(t,{sourceEvent:e,target:r,transform:n,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:l}})}function le(t,e,r){this.k=t,this.x=e,this.y=r}le.prototype={constructor:le,scale:function(t){return t===1?this:new le(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new le(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jr=new le(1,0,0);le.prototype;function Dr(t){t.stopImmediatePropagation()}function He(t){t.preventDefault(),t.stopImmediatePropagation()}function su(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function au(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Kn(){return this.__zoom||Jr}function uu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function cu(){return navigator.maxTouchPoints||"ontouchstart"in this}function fu(t,e,r){var n=t.invertX(e[0][0])-r[0][0],l=t.invertX(e[1][0])-r[1][0],o=t.invertY(e[0][1])-r[0][1],i=t.invertY(e[1][1])-r[1][1];return t.translate(l>n?(n+l)/2:Math.min(0,n)||Math.max(0,l),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function hu(){var t=su,e=au,r=fu,n=uu,l=cu,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,s=Ks,f=Gr("start","zoom","end"),h,_,m,v=500,w=150,d=0,y=10;function E(b){b.property("__zoom",Kn).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",Y).filter(l).on("touchstart.zoom",H).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",rt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(b,L,C,P){var U=b.selection?b.selection():b;U.property("__zoom",Kn),b!==U?z(b,L,C,P):U.interrupt().each(function(){V(this,arguments).event(P).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},E.scaleBy=function(b,L,C,P){E.scaleTo(b,function(){var U=this.__zoom.k,G=typeof L=="function"?L.apply(this,arguments):L;return U*G},C,P)},E.scaleTo=function(b,L,C,P){E.transform(b,function(){var U=e.apply(this,arguments),G=this.__zoom,F=C==null?S(U):typeof C=="function"?C.apply(this,arguments):C,W=G.invert(F),B=typeof L=="function"?L.apply(this,arguments):L;return r(N(I(G,B),F,W),U,i)},C,P)},E.translateBy=function(b,L,C,P){E.transform(b,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),i)},null,P)},E.translateTo=function(b,L,C,P,U){E.transform(b,function(){var G=e.apply(this,arguments),F=this.__zoom,W=P==null?S(G):typeof P=="function"?P.apply(this,arguments):P;return r(Jr.translate(W[0],W[1]).scale(F.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof C=="function"?-C.apply(this,arguments):-C),G,i)},P,U)};function I(b,L){return L=Math.max(o[0],Math.min(o[1],L)),L===b.k?b:new le(L,b.x,b.y)}function N(b,L,C){var P=L[0]-C[0]*b.k,U=L[1]-C[1]*b.k;return P===b.x&&U===b.y?b:new le(b.k,P,U)}function S(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function z(b,L,C,P){b.on("start.zoom",function(){V(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(P).end()}).tween("zoom",function(){var U=this,G=arguments,F=V(U,G).event(P),W=e.apply(U,G),B=C==null?S(W):typeof C=="function"?C.apply(U,G):C,M=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),D=U.__zoom,T=typeof L=="function"?L.apply(U,G):L,K=s(D.invert(B).concat(M/D.k),T.invert(B).concat(M/T.k));return function(at){if(at===1)at=T;else{var ot=K(at),dt=M/ot[2];at=new le(dt,B[0]-ot[0]*dt,B[1]-ot[1]*dt)}F.zoom(null,at)}})}function V(b,L,C){return!C&&b.__zooming||new Q(b,L)}function Q(b,L){this.that=b,this.args=L,this.active=0,this.sourceEvent=null,this.extent=e.apply(b,L),this.taps=0}Q.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,L){return this.mouse&&b!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var L=ue(this.that).datum();f.call(b,this.that,new ou(b,{sourceEvent:this.sourceEvent,target:E,type:b,transform:this.that.__zoom,dispatch:f}),L)}};function X(b,...L){if(!t.apply(this,arguments))return;var C=V(this,L).event(b),P=this.__zoom,U=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,n.apply(this,arguments)))),G=se(b);if(C.wheel)(C.mouse[0][0]!==G[0]||C.mouse[0][1]!==G[1])&&(C.mouse[1]=P.invert(C.mouse[0]=G)),clearTimeout(C.wheel);else{if(P.k===U)return;C.mouse=[G,P.invert(G)],cr(this),C.start()}He(b),C.wheel=setTimeout(F,w),C.zoom("mouse",r(N(I(P,U),C.mouse[0],C.mouse[1]),C.extent,i));function F(){C.wheel=null,C.end()}}function J(b,...L){if(m||!t.apply(this,arguments))return;var C=b.currentTarget,P=V(this,L,!0).event(b),U=ue(b.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",M,!0),G=se(b,C),F=b.clientX,W=b.clientY;bs(b.view),Dr(b),P.mouse=[G,this.__zoom.invert(G)],cr(this),P.start();function B(D){if(He(D),!P.moved){var T=D.clientX-F,K=D.clientY-W;P.moved=T*T+K*K>d}P.event(D).zoom("mouse",r(N(P.that.__zoom,P.mouse[0]=se(D,C),P.mouse[1]),P.extent,i))}function M(D){U.on("mousemove.zoom mouseup.zoom",null),Es(D.view,P.moved),He(D),P.event(D).end()}}function Y(b,...L){if(t.apply(this,arguments)){var C=this.__zoom,P=se(b.changedTouches?b.changedTouches[0]:b,this),U=C.invert(P),G=C.k*(b.shiftKey?.5:2),F=r(N(I(C,G),P,U),e.apply(this,L),i);He(b),a>0?ue(this).transition().duration(a).call(z,F,P,b):ue(this).call(E.transform,F,P,b)}}function H(b,...L){if(t.apply(this,arguments)){var C=b.touches,P=C.length,U=V(this,L,b.changedTouches.length===P).event(b),G,F,W,B;for(Dr(b),F=0;F<P;++F)W=C[F],B=se(W,this),B=[B,this.__zoom.invert(B),W.identifier],U.touch0?!U.touch1&&U.touch0[2]!==B[2]&&(U.touch1=B,U.taps=0):(U.touch0=B,G=!0,U.taps=1+!!h);h&&(h=clearTimeout(h)),G&&(U.taps<2&&(_=B[0],h=setTimeout(function(){h=null},v)),cr(this),U.start())}}function Z(b,...L){if(this.__zooming){var C=V(this,L).event(b),P=b.changedTouches,U=P.length,G,F,W,B;for(He(b),G=0;G<U;++G)F=P[G],W=se(F,this),C.touch0&&C.touch0[2]===F.identifier?C.touch0[0]=W:C.touch1&&C.touch1[2]===F.identifier&&(C.touch1[0]=W);if(F=C.that.__zoom,C.touch1){var M=C.touch0[0],D=C.touch0[1],T=C.touch1[0],K=C.touch1[1],at=(at=T[0]-M[0])*at+(at=T[1]-M[1])*at,ot=(ot=K[0]-D[0])*ot+(ot=K[1]-D[1])*ot;F=I(F,Math.sqrt(at/ot)),W=[(M[0]+T[0])/2,(M[1]+T[1])/2],B=[(D[0]+K[0])/2,(D[1]+K[1])/2]}else if(C.touch0)W=C.touch0[0],B=C.touch0[1];else return;C.zoom("touch",r(N(F,W,B),C.extent,i))}}function rt(b,...L){if(this.__zooming){var C=V(this,L).event(b),P=b.changedTouches,U=P.length,G,F;for(Dr(b),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),G=0;G<U;++G)F=P[G],C.touch0&&C.touch0[2]===F.identifier?delete C.touch0:C.touch1&&C.touch1[2]===F.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(F=se(F,this),Math.hypot(_[0]-F[0],_[1]-F[1])<y)){var W=ue(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return E.wheelDelta=function(b){return arguments.length?(n=typeof b=="function"?b:lr(+b),E):n},E.filter=function(b){return arguments.length?(t=typeof b=="function"?b:lr(!!b),E):t},E.touchable=function(b){return arguments.length?(l=typeof b=="function"?b:lr(!!b),E):l},E.extent=function(b){return arguments.length?(e=typeof b=="function"?b:lr([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),E):e},E.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],E):[o[0],o[1]]},E.translateExtent=function(b){return arguments.length?(i[0][0]=+b[0][0],i[1][0]=+b[1][0],i[0][1]=+b[0][1],i[1][1]=+b[1][1],E):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},E.constrain=function(b){return arguments.length?(r=b,E):r},E.duration=function(b){return arguments.length?(a=+b,E):a},E.interpolate=function(b){return arguments.length?(s=b,E):s},E.on=function(){var b=f.on.apply(f,arguments);return b===f?E:b},E.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,E):Math.sqrt(d)},E.tapDistance=function(b){return arguments.length?(y=+b,E):y},E}const du=`,,,,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,,,,,พะเยา,พะเยา,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,ลำปาง,ลำปาง,ลำปาง,,พะเยา,พะเยา,,น่าน,,,,,,,,,,,,,,,,,,,,,\r
,,,,,ลำปาง,ลำปาง,,,,,,น่าน,,,,,,,,,,,,,,,,,,,,,\r
แม่ฮ่องสอน,,ลำพูน,ลำพูน,,,,,,แพร่,แพร่,,น่าน,,,,,,,,,,,บึงกาฬ,บึงกาฬ,บึงกาฬ,,,,,,,,\r
แม่ฮ่องสอน,,ลำพูน,,,,สุโขทัย,สุโขทัย,,แพร่,,,น่าน,,,,,,หนองคาย,หนองคาย,หนองคาย,หนองคาย,,,,,,,,,,,,\r
,,,,,,สุโขทัย,สุโขทัย,,,,,,,เลย,,หนองบัวลำภู,,,,,,,สกลนคร,สกลนคร,สกลนคร,,นครพนม,,,,,,\r
,,กำแพงเพชร,กำแพงเพชร,กำแพงเพชร,,,,,,อุตรดิตถ์,อุตรดิตถ์,อุตรดิตถ์,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,อุดรธานี,อุดรธานี,,สกลนคร,สกลนคร,สกลนคร,,นครพนม,,,,,,\r
,,กำแพงเพชร,กำแพงเพชร,,,พิจิตร,พิจิตร,,,,,,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,อุดรธานี,อุดรธานี,,สกลนคร,สกลนคร,,,นครพนม,,มุกดาหาร,,,,\r
,,,,,,พิจิตร,พิจิตร,,พิษณุโลก,พิษณุโลก,พิษณุโลก,พิษณุโลก,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,,,,,,,,นครพนม,,มุกดาหาร,,,,\r
,,,อุทัยธานี,อุทัยธานี,,,,,พิษณุโลก,พิษณุโลก,พิษณุโลก,,,,,,,,,,,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,,นครพนม,,มุกดาหาร,,,,\r
,ตาก,,อุทัยธานี,,,นครสวรรค์,นครสวรรค์,,,,,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,,,,,,,ยโสธร,,\r
,ตาก,,,,,นครสวรรค์,นครสวรรค์,,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,,,,,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,ตาก,,ชัยนาท,ชัยนาท,,นครสวรรค์,นครสวรรค์,,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,มหาสารคาม,มหาสารคาม,มหาสารคาม,มหาสารคาม,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,ตาก,,ชัยนาท,,,นครสวรรค์,นครสวรรค์,,,,,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,,,,,มหาสารคาม,มหาสารคาม,มหาสารคาม,,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,,,,,,,,,ลพบุรี,ลพบุรี,,สระบุรี,,,,,,,,,,,,,,,,,,,,,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,สุพรรณบุรี,,สิงห์บุรี,,ลพบุรี,ลพบุรี,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,สุพรรณบุรี,,สิงห์บุรี,,ลพบุรี,,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,,,,,,,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,,,,,,อ่างทอง,,พระนครศรีอยุธยา,พระนครศรีอยุธยา,,,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,,,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,,,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,,,,,สมุทรสงคราม,,อ่างทอง,,พระนครศรีอยุธยา,พระนครศรีอยุธยา,,นครนายก,,นครราชสีมา,นครราชสีมา,,,,,,,,สุรินทร์,,,,,,,อุบลราชธานี,,,\r
,ราชบุรี,ราชบุรี,ราชบุรี,,สมุทรสงคราม,,,,พระนครศรีอยุธยา,,,นครนายก,,,,,,,,,,,,,,,,,,,,,\r
,ราชบุรี,ราชบุรี,ราชบุรี,,,,,,,,,,,ฉะเชิงเทรา,ฉะเชิงเทรา,ฉะเชิงเทรา,,ปราจีนบุรี,ปราจีนบุรี,,สระแก้ว,สระแก้ว,,,,,,,,,,,\r
,ราชบุรี,,,,,,,,,,,,,ฉะเชิงเทรา,ฉะเชิงเทรา,,,ปราจีนบุรี,ปราจีนบุรี,,สระแก้ว,สระแก้ว,,,,,,,,,,,\r
,,,เพชรบุรี,เพชรบุรี,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,เพชรบุรี,เพชรบุรี,,,,,,,,,,ชลบุรี,ชลบุรี,ชลบุรี,ชลบุรี,,ระยอง,ระยอง,,,,,,,,,,,,,\r
,,,,,,,,,,,,,,ชลบุรี,ชลบุรี,ชลบุรี,ชลบุรี,,ระยอง,ระยอง,,จันทบุรี,จันทบุรี,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,ชลบุรี,ชลบุรี,,,,ระยอง,,,จันทบุรี,จันทบุรี,,ตราด,ตราด,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,,,,,,,,,,,,,,,,,นนทบุรี,นนทบุรี,นนทบุรี,นนทบุรี,,ปทุมธานี,ปทุมธานี,ปทุมธานี,ปทุมธานี,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,,,,นนทบุรี,นนทบุรี,นนทบุรี,นนทบุรี,,ปทุมธานี,ปทุมธานี,ปทุมธานี,ปทุมธานี,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,,,,,,,,,,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,,,,,,,,,,,,,,,,นครปฐม,,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,ระนอง,,สุราษฎร์ธานี,สุราษฎร์ธานี,,,,,,,,,,,,,,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,ระนอง,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,,,\r
,,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,,,,,,,,,,,,,,,\r
,พังงา,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,,,,,,,,,,\r
,พังงา,,,,,นครศรีธรรมราช,,,,,,,,,,,สมุทรสาคร,,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,,,,,,,,,,,\r
,,,กระบี่,กระบี่,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,กระบี่,,,พัทลุง,พัทลุง,พัทลุง,พัทลุง,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,ตรัง,ตรัง,,,สงขลา,สงขลา,สงขลา,,ปัตตานี,ปัตตานี,ปัตตานี,,,,,,,,,,,,,,,,,,,,\r
,,,ตรัง,ตรัง,,,สงขลา,สงขลา,สงขลา,,ปัตตานี,ปัตตานี,,,,,,,,,,,,,,,,,,,,,\r
,,,,,,,สงขลา,สงขลา,สงขลา,,,,,นราธิวาส,นราธิวาส,นราธิวาส,,,,,,,,,,,,,,,,,\r
,,,สตูล,สตูล,สตูล,,สงขลา,,,,ยะลา,ยะลา,,นราธิวาส,นราธิวาส,,,,,,,,,,,,,,,,,,\r
,,,,,,,,,,,ยะลา,ยะลา,,,,,,,,,,,,,,,,,,,,,`;function Wn(t){let e,r,n,l,o;return{c(){e=tt("text"),r=O(t[1]),this.h()},l(i){e=et(i,"text",{y:!0,x:!0,"alignment-baseline":!0,"font-size":!0});var a=g(e);r=q(a,t[1]),a.forEach(p),this.h()},h(){u(e,"y",n=t[3].y-t[4]/4),u(e,"x",l=t[3].x),u(e,"alignment-baseline","baseline"),u(e,"font-size",o=t[4]*.6)},m(i,a){$(i,e,a),c(e,r)},p(i,a){a&2&&ct(r,i[1]),a&24&&n!==(n=i[3].y-i[4]/4)&&u(e,"y",n),a&8&&l!==(l=i[3].x)&&u(e,"x",l),a&16&&o!==(o=i[4]*.6)&&u(e,"font-size",o)},d(i){i&&p(e)}}}function pu(t){let e,r,n,l,o,i,a,s=t[2]===1&&Wn(t);return{c(){e=tt("g"),s&&s.c(),r=tt("rect"),this.h()},l(f){e=et(f,"g",{class:!0});var h=g(e);s&&s.l(h),r=et(h,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"stroke-width":!0,class:!0}),g(r).forEach(p),h.forEach(p),this.h()},h(){var f;u(r,"x",n=t[3].x),u(r,"y",l=t[3].y),u(r,"width",t[4]),u(r,"height",t[4]),u(r,"fill",o="url(#party-bg-"+((f=t[5][0].party)==null?void 0:f.Name)+")"),u(r,"stroke-width","0.7"),u(r,"class","stroke-white"),u(e,"class","cursor-default")},m(f,h){$(f,e,h),s&&s.m(e,null),c(e,r),i||(a=[bt(e,"mouseenter",t[10]),bt(e,"mouseleave",t[11])],i=!0)},p(f,[h]){var _;f[2]===1?s?s.p(f,h):(s=Wn(f),s.c(),s.m(e,r)):s&&(s.d(1),s=null),h&8&&n!==(n=f[3].x)&&u(r,"x",n),h&8&&l!==(l=f[3].y)&&u(r,"y",l),h&16&&u(r,"width",f[4]),h&16&&u(r,"height",f[4]),h&32&&o!==(o="url(#party-bg-"+((_=f[5][0].party)==null?void 0:_.Name)+")")&&u(r,"fill",o)},i:Vt,o:Vt,d(f){f&&p(e),s&&s.d(),i=!1,fe(a)}}}function _u(t,e,r){let n,l,o,i;we(t,Ge,d=>r(9,i=d));let{province:a}=e,{districtNumber:s}=e,{position:f}=e,{size:h}=e,{districtTooltip:_=null}=e;const m=({target:d})=>{const{x:y,y:E,width:I,height:N}=d.getBoundingClientRect();r(0,_={province:a,districtNumber:s,popularityRanking:o,x:y+I,y:E+N,totalPoints:l})},v=d=>m(d),w=()=>r(0,_=null);return t.$$set=d=>{"province"in d&&r(1,a=d.province),"districtNumber"in d&&r(2,s=d.districtNumber),"position"in d&&r(3,f=d.position),"size"in d&&r(4,h=d.size),"districtTooltip"in d&&r(0,_=d.districtTooltip)},t.$$.update=()=>{t.$$.dirty&518&&r(8,n=i[a][s]),t.$$.dirty&256&&r(7,l=n.reduce((d,{points:y})=>d+y,0)),t.$$.dirty&384&&r(5,o=n.map(({party:d,points:y})=>({party:d,percentage:Math.round(y*100/l)})))},[_,a,s,f,h,o,m,l,n,i,v,w]}class vu extends qt{constructor(e){super(),Gt(this,e,_u,pu,Zt,{province:1,districtNumber:2,position:3,size:4,districtTooltip:0})}}function Qn(t,e,r){const n=t.slice();return n[1]=e[r].party,n[2]=e[r].percentage,n[4]=r,n}function Jn(t){var w;let e,r,n,l,o,i=((w=t[1])==null?void 0:w.Name)+"",a,s,f,h=t[2]+"",_,m,v;return{c(){e=x("div"),r=x("div"),n=x("div"),l=R(),o=x("p"),a=O(i),s=R(),f=x("p"),_=O(h),m=O("%"),v=R(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0});var E=g(r);n=k(E,"DIV",{class:!0,style:!0}),g(n).forEach(p),l=A(E),o=k(E,"P",{class:!0});var I=g(o);a=q(I,i),I.forEach(p),s=A(E),f=k(E,"P",{});var N=g(f);_=q(N,h),m=q(N,"%"),N.forEach(p),E.forEach(p),v=A(y),y.forEach(p),this.h()},h(){var d,y;u(n,"class","w-3 h-3 mt-1"),nt(n,"background","url('/party-icons/"+((d=t[1])==null?void 0:d.Name)+".svg') "+((y=t[1])==null?void 0:y.Color)+" center/65% no-repeat"),u(o,"class","flex-1"),ln(o,"font-bold",t[4]===0),ln(f,"font-bold",t[4]===0),u(r,"class","flex flex-row space-x-2"),u(e,"class","flex flex-col")},m(d,y){$(d,e,y),c(e,r),c(r,n),c(r,l),c(r,o),c(o,a),c(r,s),c(r,f),c(f,_),c(f,m),c(e,v)},p(d,y){var E,I,N;y&1&&nt(n,"background","url('/party-icons/"+((E=d[1])==null?void 0:E.Name)+".svg') "+((I=d[1])==null?void 0:I.Color)+" center/65% no-repeat"),y&1&&i!==(i=((N=d[1])==null?void 0:N.Name)+"")&&ct(a,i),y&1&&h!==(h=d[2]+"")&&ct(_,h)},d(d){d&&p(e)}}}function mu(t){let e,r,n,l=t[0].province+"",o,i,a,s,f=t[0].districtNumber+"",h,_,m,v=t[0].popularityRanking.slice(0,jn),w=[];for(let d=0;d<v.length;d+=1)w[d]=Jn(Qn(t,v,d));return{c(){e=x("div"),r=x("div"),n=x("p"),o=O(l),i=R(),a=x("p"),s=O("เขต "),h=O(f),_=R(),m=x("div");for(let d=0;d<w.length;d+=1)w[d].c();this.h()},l(d){e=k(d,"DIV",{class:!0,style:!0});var y=g(e);r=k(y,"DIV",{});var E=g(r);n=k(E,"P",{});var I=g(n);o=q(I,l),I.forEach(p),i=A(E),a=k(E,"P",{});var N=g(a);s=q(N,"เขต "),h=q(N,f),N.forEach(p),E.forEach(p),_=A(y),m=k(y,"DIV",{});var S=g(m);for(let z=0;z<w.length;z+=1)w[z].l(S);S.forEach(p),y.forEach(p),this.h()},h(){u(e,"class","fixed rounded bg-black py-2 px-4 text-white space-y-2 transform z-50"),nt(e,"left",t[0].x+"px"),nt(e,"top",t[0].y+"px")},m(d,y){$(d,e,y),c(e,r),c(r,n),c(n,o),c(r,i),c(r,a),c(a,s),c(a,h),c(e,_),c(e,m);for(let E=0;E<w.length;E+=1)w[E].m(m,null)},p(d,[y]){if(y&1&&l!==(l=d[0].province+"")&&ct(o,l),y&1&&f!==(f=d[0].districtNumber+"")&&ct(h,f),y&1){v=d[0].popularityRanking.slice(0,jn);let E;for(E=0;E<v.length;E+=1){const I=Qn(d,v,E);w[E]?w[E].p(I,y):(w[E]=Jn(I),w[E].c(),w[E].m(m,null))}for(;E<w.length;E+=1)w[E].d(1);w.length=v.length}y&1&&nt(e,"left",d[0].x+"px"),y&1&&nt(e,"top",d[0].y+"px")},i:Vt,o:Vt,d(d){d&&p(e),Ft(w,d)}}}const jn=3;function gu(t,e,r){let{districtTooltip:n}=e;return t.$$set=l=>{"districtTooltip"in l&&r(0,n=l.districtTooltip)},[n]}class wu extends qt{constructor(e){super(),Gt(this,e,gu,mu,Zt,{districtTooltip:0})}}function $n(t,e,r){const n=t.slice();return n[6]=e[r].x,n[7]=e[r].y,n}function tl(t){let e,r,n,l;return{c(){e=tt("rect"),this.h()},l(o){e=et(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"stroke-width":!0,class:!0}),g(e).forEach(p),this.h()},h(){u(e,"x",r=t[6]),u(e,"y",n=t[7]),u(e,"width",t[3]),u(e,"height",t[3]),u(e,"fill",l="url(#party-bg-"+t[1].Name+")"),u(e,"stroke-width","0.7"),u(e,"class","stroke-white")},m(o,i){$(o,e,i)},p(o,i){i&4&&r!==(r=o[6])&&u(e,"x",r),i&4&&n!==(n=o[7])&&u(e,"y",n),i&8&&u(e,"width",o[3]),i&8&&u(e,"height",o[3]),i&2&&l!==(l="url(#party-bg-"+o[1].Name+")")&&u(e,"fill",l)},d(o){o&&p(e)}}}function yu(t){let e,r,n,l=t[2],o=[];for(let i=0;i<l.length;i+=1)o[i]=tl($n(t,l,i));return{c(){e=tt("g");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=et(i,"g",{class:!0});var a=g(e);for(let s=0;s<o.length;s+=1)o[s].l(a);a.forEach(p),this.h()},h(){u(e,"class","cursor-default")},m(i,a){$(i,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);r||(n=[bt(e,"mouseenter",t[4]),bt(e,"mouseleave",t[5])],r=!0)},p(i,[a]){if(a&14){l=i[2];let s;for(s=0;s<l.length;s+=1){const f=$n(i,l,s);o[s]?o[s].p(f,a):(o[s]=tl(f),o[s].c(),o[s].m(e,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=l.length}},i:Vt,o:Vt,d(i){i&&p(e),Ft(o,i),r=!1,fe(n)}}}function bu(t,e,r){let{party:n}=e,{cells:l}=e,{size:o}=e,{partylistTooltip:i}=e;const a=({target:f})=>{const{x:h,y:_}=f.getBoundingClientRect();r(0,i={party:n,count:l.length,position:{x:h,y:_}})},s=()=>r(0,i=null);return t.$$set=f=>{"party"in f&&r(1,n=f.party),"cells"in f&&r(2,l=f.cells),"size"in f&&r(3,o=f.size),"partylistTooltip"in f&&r(0,i=f.partylistTooltip)},[i,n,l,o,a,s]}class Eu extends qt{constructor(e){super(),Gt(this,e,bu,yu,Zt,{party:1,cells:2,size:3,partylistTooltip:0})}}function xu(t){let e,r,n,l,o,i,a,s,f,h=t[0].party.Name+"",_,m,v,w=t[0].count+"",d,y;return{c(){e=x("div"),r=x("p"),n=O("บัญชีรายชื่อ"),l=R(),o=x("div"),i=x("div"),a=R(),s=x("div"),f=x("p"),_=O(h),m=R(),v=x("p"),d=O(w),y=O(" ที่นั่ง"),this.h()},l(E){e=k(E,"DIV",{class:!0,style:!0});var I=g(e);r=k(I,"P",{});var N=g(r);n=q(N,"บัญชีรายชื่อ"),N.forEach(p),l=A(I),o=k(I,"DIV",{class:!0});var S=g(o);i=k(S,"DIV",{class:!0,style:!0}),g(i).forEach(p),a=A(S),s=k(S,"DIV",{});var z=g(s);f=k(z,"P",{class:!0});var V=g(f);_=q(V,h),V.forEach(p),m=A(z),v=k(z,"P",{class:!0});var Q=g(v);d=q(Q,w),y=q(Q," ที่นั่ง"),Q.forEach(p),z.forEach(p),S.forEach(p),I.forEach(p),this.h()},h(){u(i,"class","w-3 h-3 mt-1"),nt(i,"background","url('/party-icons/"+t[0].party.Name+".svg') "+t[0].party.Color+" center/65% no-repeat"),u(f,"class","font-bold"),u(v,"class","opacity-70"),u(o,"class","flex flex-row space-x-2"),u(e,"class","fixed rounded bg-black py-2 px-4 text-white space-y-2 transform -translate-x-full z-50"),nt(e,"left",t[0].position.x-8+"px"),nt(e,"top",t[0].position.y+"px")},m(E,I){$(E,e,I),c(e,r),c(r,n),c(e,l),c(e,o),c(o,i),c(o,a),c(o,s),c(s,f),c(f,_),c(s,m),c(s,v),c(v,d),c(v,y)},p(E,[I]){I&1&&nt(i,"background","url('/party-icons/"+E[0].party.Name+".svg') "+E[0].party.Color+" center/65% no-repeat"),I&1&&h!==(h=E[0].party.Name+"")&&ct(_,h),I&1&&w!==(w=E[0].count+"")&&ct(d,w),I&1&&nt(e,"left",E[0].position.x-8+"px"),I&1&&nt(e,"top",E[0].position.y+"px")},i:Vt,o:Vt,d(E){E&&p(e)}}}function ku(t,e,r){let{partylistTooltip:n}=e;return t.$$set=l=>{"partylistTooltip"in l&&r(0,n=l.partylistTooltip)},[n]}class Iu extends qt{constructor(e){super(),Gt(this,e,ku,xu,Zt,{partylistTooltip:0})}}function el(t,e,r){const n=t.slice();return n[24]=e[r],n}function rl(t,e,r){const n=t.slice();return n[27]=e[r],n}function nl(t,e,r){const n=t.slice();return n[30]=e[r].Name,n[31]=e[r].Color,n}function ll(t){let e,r,n,l,o,i;return{c(){e=tt("pattern"),r=tt("rect"),l=tt("image"),this.h()},l(a){e=et(a,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0});var s=g(e);r=et(s,"rect",{width:!0,height:!0,fill:!0}),g(r).forEach(p),l=et(s,"image",{href:!0,height:!0,width:!0,x:!0,y:!0}),g(l).forEach(p),s.forEach(p),this.h()},h(){u(r,"width","100%"),u(r,"height","100%"),u(r,"fill",n=t[31]),u(l,"href",o=te+"/party-icons/"+t[30]+".svg"),u(l,"height",Pt*.6),u(l,"width",Pt*.6),u(l,"x",Pt*.2),u(l,"y",Pt*.2),u(e,"id",i="party-bg-"+t[30]),u(e,"x","0"),u(e,"y","0"),u(e,"width",Pt),u(e,"height",Pt)},m(a,s){$(a,e,s),c(e,r),c(e,l)},p(a,s){s[0]&1024&&n!==(n=a[31])&&u(r,"fill",n),s[0]&1024&&o!==(o=te+"/party-icons/"+a[30]+".svg")&&u(l,"href",o),s[0]&1024&&i!==(i="party-bg-"+a[30])&&u(e,"id",i)},d(a){a&&p(e)}}}function il(t){let e,r,n;const l=[t[27],{size:Pt}];function o(a){t[18](a)}let i={};for(let a=0;a<l.length;a+=1)i=ml(i,l[a]);return t[1]!==void 0&&(i.districtTooltip=t[1]),e=new vu({props:i}),gl.push(()=>wl(e,"districtTooltip",o)),{c(){Xt(e.$$.fragment)},l(a){Ut(e.$$.fragment,a)},m(a,s){Yt(e,a,s),n=!0},p(a,s){const f=s[0]&512?yl(l,[s[0]&512&&bl(a[27]),s&0&&{size:Pt}]):{};!r&&s[0]&2&&(r=!0,f.districtTooltip=a[1],El(()=>r=!1)),e.$set(f)},i(a){n||(ht(e.$$.fragment,a),n=!0)},o(a){gt(e.$$.fragment,a),n=!1},d(a){Kt(e,a)}}}function ol(t){let e,r,n;const l=[t[24],{size:Pt}];function o(a){t[19](a)}let i={};for(let a=0;a<l.length;a+=1)i=ml(i,l[a]);return t[0]!==void 0&&(i.partylistTooltip=t[0]),e=new Eu({props:i}),gl.push(()=>wl(e,"partylistTooltip",o)),{c(){Xt(e.$$.fragment)},l(a){Ut(e.$$.fragment,a)},m(a,s){Yt(e,a,s),n=!0},p(a,s){const f=s[0]&256?yl(l,[s[0]&256&&bl(a[24]),s&0&&{size:Pt}]):{};!r&&s[0]&1&&(r=!0,f.partylistTooltip=a[0],El(()=>r=!1)),e.$set(f)},i(a){n||(ht(e.$$.fragment,a),n=!0)},o(a){gt(e.$$.fragment,a),n=!1},d(a){Kt(e,a)}}}function sl(t){let e,r,n,l;return{c(){e=tt("text"),r=O("ส.ส. บัญชีรายชื่อ"),this.h()},l(o){e=et(o,"text",{x:!0,y:!0,class:!0});var i=g(e);r=q(i,"ส.ส. บัญชีรายชื่อ"),i.forEach(p),this.h()},h(){u(e,"x",n=t[8][0].cells[0].x-18),u(e,"y",l=t[8][0].cells[0].y-10),u(e,"class","typo-b7")},m(o,i){$(o,e,i),c(e,r)},p(o,i){i[0]&256&&n!==(n=o[8][0].cells[0].x-18)&&u(e,"x",n),i[0]&256&&l!==(l=o[8][0].cells[0].y-10)&&u(e,"y",l)},d(o){o&&p(e)}}}function al(t){let e,r;return e=new Iu({props:{partylistTooltip:t[0]}}),{c(){Xt(e.$$.fragment)},l(n){Ut(e.$$.fragment,n)},m(n,l){Yt(e,n,l),r=!0},p(n,l){const o={};l[0]&1&&(o.partylistTooltip=n[0]),e.$set(o)},i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){gt(e.$$.fragment,n),r=!1},d(n){Kt(e,n)}}}function ul(t){let e,r;return e=new wu({props:{districtTooltip:t[1]}}),{c(){Xt(e.$$.fragment)},l(n){Ut(e.$$.fragment,n)},m(n,l){Yt(e,n,l),r=!0},p(n,l){const o={};l[0]&2&&(o.districtTooltip=n[1]),e.$set(o)},i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){gt(e.$$.fragment,n),r=!1},d(n){Kt(e,n)}}}function cl(t){let e,r,n,l,o;return{c(){e=x("button"),r=tt("svg"),n=tt("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var a=g(e);r=et(a,"svg",{viewBox:!0,class:!0});var s=g(r);n=et(s,"path",{fill:!0,d:!0}),g(n).forEach(p),s.forEach(p),a.forEach(p),this.h()},h(){u(n,"fill","currentColor"),u(n,"d","M22.448 21A10.855 10.855 0 0 0 25 14A10.99 10.99 0 0 0 6 6.466V2H4v8h8V8H7.332a8.977 8.977 0 1 1-2.1 8h-2.04A11.012 11.012 0 0 0 14 25a10.855 10.855 0 0 0 7-2.552L28.586 30L30 28.586Z"),u(r,"viewBox","0 0 32 32"),u(r,"class","svelte-kwb01f"),u(e,"class","svelte-kwb01f")},m(i,a){$(i,e,a),c(e,r),c(r,n),l||(o=bt(e,"click",function(){Oe(t[3])&&t[3].apply(this,arguments)}),l=!0)},p(i,a){t=i},d(i){i&&p(e),l=!1,o()}}}function Cu(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w,d,y,E,I,N,S,z,V,Q,X,J,Y,H=t[10].list,Z=[];for(let M=0;M<H.length;M+=1)Z[M]=ll(nl(t,H,M));let rt=t[9],b=[];for(let M=0;M<rt.length;M+=1)b[M]=il(rl(t,rt,M));const L=M=>gt(b[M],1,1,()=>{b[M]=null});let C=t[8],P=[];for(let M=0;M<C.length;M+=1)P[M]=ol(el(t,C,M));const U=M=>gt(P[M],1,1,()=>{P[M]=null});let G=t[8].length>0&&sl(t),F=t[0]&&al(t),W=t[1]&&ul(t),B=t[2]&&cl(t);return{c(){e=x("div"),r=tt("svg"),n=tt("defs");for(let M=0;M<Z.length;M+=1)Z[M].c();l=tt("g");for(let M=0;M<b.length;M+=1)b[M].c();o=Ve();for(let M=0;M<P.length;M+=1)P[M].c();i=tt("text"),a=O("ส.ส. เขต"),G&&G.c(),h=R(),F&&F.c(),_=R(),W&&W.c(),m=R(),v=x("div"),w=x("button"),d=tt("svg"),y=tt("path"),E=tt("path"),I=R(),N=x("button"),S=tt("svg"),z=tt("path"),V=tt("path"),Q=R(),B&&B.c(),this.h()},l(M){e=k(M,"DIV",{class:!0});var D=g(e);r=et(D,"svg",{viewBox:!0,class:!0,id:!0});var T=g(r);n=et(T,"defs",{});var K=g(n);for(let pt=0;pt<Z.length;pt+=1)Z[pt].l(K);K.forEach(p),l=et(T,"g",{id:!0});var at=g(l);for(let pt=0;pt<b.length;pt+=1)b[pt].l(at);o=Ve();for(let pt=0;pt<P.length;pt+=1)P[pt].l(at);i=et(at,"text",{x:!0,y:!0,class:!0});var ot=g(i);a=q(ot,"ส.ส. เขต"),ot.forEach(p),G&&G.l(at),at.forEach(p),T.forEach(p),h=A(D),F&&F.l(D),_=A(D),W&&W.l(D),m=A(D),v=k(D,"DIV",{class:!0});var dt=g(v);w=k(dt,"BUTTON",{class:!0});var It=g(w);d=et(It,"svg",{viewBox:!0,class:!0});var _t=g(d);y=et(_t,"path",{fill:!0,d:!0}),g(y).forEach(p),E=et(_t,"path",{fill:!0,d:!0}),g(E).forEach(p),_t.forEach(p),It.forEach(p),I=A(dt),N=k(dt,"BUTTON",{class:!0});var kt=g(N);S=et(kt,"svg",{xmlns:!0,viewBox:!0,class:!0});var vt=g(S);z=et(vt,"path",{fill:!0,d:!0}),g(z).forEach(p),V=et(vt,"path",{fill:!0,d:!0}),g(V).forEach(p),vt.forEach(p),kt.forEach(p),Q=A(dt),B&&B.l(dt),dt.forEach(p),D.forEach(p),this.h()},h(){u(i,"x","10"),u(i,"y","18"),u(i,"class","typo-b7"),u(l,"id","map-container"),u(r,"viewBox",s="0 0 "+t[7]+" "+t[6]),u(r,"class",f="w-full relative h-full "+(t[2]?"cursor-move":"")),u(r,"id","waffle-map-svg"),u(y,"fill","currentColor"),u(y,"d","M18 12h-4V8h-2v4H8v2h4v4h2v-4h4v-2z"),u(E,"fill","currentColor"),u(E,"d","M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"),u(d,"viewBox","0 0 32 32"),u(d,"class","svelte-kwb01f"),u(w,"class","svelte-kwb01f"),u(z,"fill","currentColor"),u(z,"d","M8 12h10v2H8z"),u(V,"fill","currentColor"),u(V,"d","M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"),u(S,"xmlns","http://www.w3.org/2000/svg"),u(S,"viewBox","0 0 32 32"),u(S,"class","svelte-kwb01f"),u(N,"class","svelte-kwb01f"),u(v,"class","absolute right-0 top-6 flex flex-col space-y-2"),u(e,"class","absolute inset-0 w-full flex-1")},m(M,D){$(M,e,D),c(e,r),c(r,n);for(let T=0;T<Z.length;T+=1)Z[T].m(n,null);c(r,l);for(let T=0;T<b.length;T+=1)b[T].m(l,null);c(l,o);for(let T=0;T<P.length;T+=1)P[T].m(l,null);c(l,i),c(i,a),G&&G.m(l,null),c(e,h),F&&F.m(e,null),c(e,_),W&&W.m(e,null),c(e,m),c(e,v),c(v,w),c(w,d),c(d,y),c(d,E),c(v,I),c(v,N),c(N,S),c(S,z),c(S,V),c(v,Q),B&&B.m(v,null),X=!0,J||(Y=[bt(w,"click",function(){Oe(t[4])&&t[4].apply(this,arguments)}),bt(N,"click",function(){Oe(t[5])&&t[5].apply(this,arguments)})],J=!0)},p(M,D){if(t=M,D[0]&1024){H=t[10].list;let T;for(T=0;T<H.length;T+=1){const K=nl(t,H,T);Z[T]?Z[T].p(K,D):(Z[T]=ll(K),Z[T].c(),Z[T].m(n,null))}for(;T<Z.length;T+=1)Z[T].d(1);Z.length=H.length}if(D[0]&514){rt=t[9];let T;for(T=0;T<rt.length;T+=1){const K=rl(t,rt,T);b[T]?(b[T].p(K,D),ht(b[T],1)):(b[T]=il(K),b[T].c(),ht(b[T],1),b[T].m(l,o))}for(Ce(),T=rt.length;T<b.length;T+=1)L(T);Ne()}if(D[0]&257){C=t[8];let T;for(T=0;T<C.length;T+=1){const K=el(t,C,T);P[T]?(P[T].p(K,D),ht(P[T],1)):(P[T]=ol(K),P[T].c(),ht(P[T],1),P[T].m(l,i))}for(Ce(),T=C.length;T<P.length;T+=1)U(T);Ne()}t[8].length>0?G?G.p(t,D):(G=sl(t),G.c(),G.m(l,null)):G&&(G.d(1),G=null),(!X||D[0]&192&&s!==(s="0 0 "+t[7]+" "+t[6]))&&u(r,"viewBox",s),(!X||D[0]&4&&f!==(f="w-full relative h-full "+(t[2]?"cursor-move":"")))&&u(r,"class",f),t[0]?F?(F.p(t,D),D[0]&1&&ht(F,1)):(F=al(t),F.c(),ht(F,1),F.m(e,_)):F&&(Ce(),gt(F,1,1,()=>{F=null}),Ne()),t[1]?W?(W.p(t,D),D[0]&2&&ht(W,1)):(W=ul(t),W.c(),ht(W,1),W.m(e,m)):W&&(Ce(),gt(W,1,1,()=>{W=null}),Ne()),t[2]?B?B.p(t,D):(B=cl(t),B.c(),B.m(v,null)):B&&(B.d(1),B=null)},i(M){if(!X){for(let D=0;D<rt.length;D+=1)ht(b[D]);for(let D=0;D<C.length;D+=1)ht(P[D]);ht(F),ht(W),X=!0}},o(M){b=b.filter(Boolean);for(let D=0;D<b.length;D+=1)gt(b[D]);P=P.filter(Boolean);for(let D=0;D<P.length;D+=1)gt(P[D]);gt(F),gt(W),X=!1},d(M){M&&p(e),Ft(Z,M),Ft(b,M),Ft(P,M),G&&G.d(),F&&F.d(),W&&W.d(),B&&B.d(),J=!1,fe(Y)}}}const Ie=30,Pt=10,ir=5;function Nu(t,e,r){let n,l,o,i,a,s,f,h,_,m,v,w;we(t,Cl,H=>r(16,m=H)),we(t,Ge,H=>r(17,v=H)),we(t,Ot,H=>r(10,w=H));const d=Pt*7,y=du.split(`\r
`).map(H=>H.split(",")),E=Pt*ir;let I=null,N=null,S={zoom:hu,zoomIdentity:Jr,select:ue,selectAll:ys,pointer:se},z=!1,V,Q,X;vl(()=>{const H=S.select("svg#waffle-map-svg"),Z=S.select("#map-container"),rt=S.zoom().translateExtent([[0,0],[h,_]]).scaleExtent([1,5]).on("zoom",b);H.call(rt);function b({transform:L}){Z.attr("transform",L),r(2,z=!(L.x===0&&L.y===0&&L.k===1))}r(3,V=()=>{H.transition().duration(500).call(rt.transform,S.zoomIdentity),r(2,z=!1)}),r(4,Q=()=>H.transition().duration(500).call(rt.scaleBy,1.4)),r(5,X=()=>H.transition().duration(500).call(rt.scaleBy,.7))});function J(H){N=H,r(1,N)}function Y(H){I=H,r(0,I)}return t.$$.update=()=>{t.$$.dirty[0]&131072&&r(9,n=(()=>{const H=new Map;return y.flatMap((Z,rt)=>Z.reduce((b,L,C)=>{var U;if(L.length===0)return b;const P=(H.get(L)||0)+1;return(U=v[L])!=null&&U[P]?(H.set(L,P),[...b,{province:L,districtNumber:P,position:{x:C*Pt+Ie,y:rt*Pt+Ie}}]):b},[]))})()),t.$$.dirty[0]&65536&&r(12,i=m.reduce((H,{fromPartylist:Z})=>H+Z,0)),t.$$.dirty[0]&4096&&r(15,a=Pt*Math.floor(i/ir)),t.$$.dirty[0]&34816&&r(14,s=(o-a)/2+Ie),t.$$.dirty[0]&90112&&r(8,[f]=m.filter(({fromPartylist:H})=>H>0).sort((H,Z)=>Z.fromPartylist-H.fromPartylist).reduce(([H,Z],{party:rt,fromPartylist:b})=>[[...H,{party:rt,cells:new Array(b).fill(null).map((L,C)=>({x:(Z+C)%ir*Pt+l+d+Ie,y:Math.floor((Z+C)/ir)*Pt+s}))}],Z+b],[[],0]),f),t.$$.dirty[0]&12288&&r(7,h=l+(i>0?E+d:0)+Ie*2),t.$$.dirty[0]&2048&&r(6,_=o+Ie*2)},r(13,l=Pt*y[0].length),r(11,o=Pt*y.length),[I,N,z,V,Q,X,_,h,f,n,w,o,i,l,s,a,m,v,J,Y]}class Pu extends qt{constructor(e){super(),Gt(this,e,Nu,Cu,Zt,{},null,[-1,-1])}}function fl(t,e,r){const n=t.slice();return n[12]=e[r].party,n[13]=e[r].total,n}function hl(t,e,r){const n=t.slice();return n[12]=e[r].party,n[13]=e[r].total,n}function Vu(t){let e,r,n,l,o;return{c(){e=x("div"),r=R(),n=x("div"),l=R(),o=x("div"),this.h()},l(i){e=k(i,"DIV",{class:!0}),g(e).forEach(p),r=A(i),n=k(i,"DIV",{class:!0}),g(n).forEach(p),l=A(i),o=k(i,"DIV",{class:!0}),g(o).forEach(p),this.h()},h(){u(e,"class","w-1 h-1 bg-white rounded-full"),u(n,"class","w-1 h-1 bg-white rounded-full"),u(o,"class","w-1 h-1 bg-white rounded-full")},m(i,a){$(i,e,a),$(i,r,a),$(i,n,a),$(i,l,a),$(i,o,a)},p:Vt,d(i){i&&p(e),i&&p(r),i&&p(n),i&&p(l),i&&p(o)}}}function Du(t){let e,r,n;return{c(){e=x("img"),this.h()},l(l){e=k(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){u(e,"class","w-16 h-16"),qe(e.src,r=t[12].Images[0].url)||u(e,"src",r),u(e,"alt",n=t[12].Images[0].title)},m(l,o){$(l,e,o)},p(l,o){o&8&&!qe(e.src,r=l[12].Images[0].url)&&u(e,"src",r),o&8&&n!==(n=l[12].Images[0].title)&&u(e,"alt",n)},d(l){l&&p(e)}}}function dl(t){let e,r,n,l,o=t[12].Name+"",i,a,s,f=t[13]+"",h,_;function m(d,y){return d[12].Images?Du:Vu}let v=m(t),w=v(t);return{c(){e=x("div"),r=x("div"),w.c(),n=R(),l=x("h6"),i=O(o),a=R(),s=x("h6"),h=O(f),_=R(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0,style:!0});var E=g(r);w.l(E),E.forEach(p),n=A(y),l=k(y,"H6",{class:!0});var I=g(l);i=q(I,o),I.forEach(p),a=A(y),s=k(y,"H6",{class:!0});var N=g(s);h=q(N,f),N.forEach(p),_=A(y),y.forEach(p),this.h()},h(){u(r,"class","w-16 h-16 flex items-center justify-center gap-x-1"),nt(r,"background-color",t[12].Color),u(l,"class","typo-b6 mt-1 text-center whitespace-nowrap"),u(s,"class","typo-b6"),u(e,"class","flex flex-col items-center mb-2 w-16 overflow-visible")},m(d,y){$(d,e,y),c(e,r),w.m(r,null),c(e,n),c(e,l),c(l,i),c(e,a),c(e,s),c(s,h),c(e,_)},p(d,y){v===(v=m(d))&&w?w.p(d,y):(w.d(1),w=v(d),w&&(w.c(),w.m(r,null))),y&8&&nt(r,"background-color",d[12].Color),y&8&&o!==(o=d[12].Name+"")&&ct(i,o),y&8&&f!==(f=d[13]+"")&&ct(h,f)},d(d){d&&p(e),w.d()}}}function Tu(t){let e,r,n,l,o;return{c(){e=x("div"),r=R(),n=x("div"),l=R(),o=x("div"),this.h()},l(i){e=k(i,"DIV",{class:!0}),g(e).forEach(p),r=A(i),n=k(i,"DIV",{class:!0}),g(n).forEach(p),l=A(i),o=k(i,"DIV",{class:!0}),g(o).forEach(p),this.h()},h(){u(e,"class","w-1 h-1 bg-white rounded-full"),u(n,"class","w-1 h-1 bg-white rounded-full"),u(o,"class","w-1 h-1 bg-white rounded-full")},m(i,a){$(i,e,a),$(i,r,a),$(i,n,a),$(i,l,a),$(i,o,a)},p:Vt,d(i){i&&p(e),i&&p(r),i&&p(n),i&&p(l),i&&p(o)}}}function Lu(t){let e,r,n;return{c(){e=x("img"),this.h()},l(l){e=k(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){u(e,"class","w-16 h-16"),qe(e.src,r=t[12].Images[0].url)||u(e,"src",r),u(e,"alt",n=t[12].Images[0].title)},m(l,o){$(l,e,o)},p(l,o){o&4&&!qe(e.src,r=l[12].Images[0].url)&&u(e,"src",r),o&4&&n!==(n=l[12].Images[0].title)&&u(e,"alt",n)},d(l){l&&p(e)}}}function pl(t){let e,r,n,l,o=t[12].Name+"",i,a,s,f=t[13]+"",h,_;function m(d,y){return d[12].Images?Lu:Tu}let v=m(t),w=v(t);return{c(){e=x("div"),r=x("div"),w.c(),n=R(),l=x("h6"),i=O(o),a=R(),s=x("h6"),h=O(f),_=R(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0,style:!0});var E=g(r);w.l(E),E.forEach(p),n=A(y),l=k(y,"H6",{class:!0});var I=g(l);i=q(I,o),I.forEach(p),a=A(y),s=k(y,"H6",{class:!0});var N=g(s);h=q(N,f),N.forEach(p),_=A(y),y.forEach(p),this.h()},h(){u(r,"class","w-16 h-16 flex items-center justify-center gap-x-1"),nt(r,"background-color",t[12].Color),u(l,"class","typo-b6 mt-1 text-center whitespace-nowrap"),u(s,"class","typo-b6"),u(e,"class","flex flex-col items-center mb-2 w-16 overflow-visible")},m(d,y){$(d,e,y),c(e,r),w.m(r,null),c(e,n),c(e,l),c(l,i),c(e,a),c(e,s),c(s,h),c(e,_)},p(d,y){v===(v=m(d))&&w?w.p(d,y):(w.d(1),w=v(d),w&&(w.c(),w.m(r,null))),y&4&&nt(r,"background-color",d[12].Color),y&4&&o!==(o=d[12].Name+"")&&ct(i,o),y&4&&f!==(f=d[13]+"")&&ct(h,f)},d(d){d&&p(e),w.d()}}}function _l(t){let e,r,n,l,o,i,a,s,f,h=wr-t[0]+"",_,m;return{c(){e=x("div"),r=tt("svg"),n=tt("rect"),l=tt("path"),o=R(),i=x("h5"),a=O("ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),s=R(),f=x("h5"),_=O(h),m=O("+"),this.h()},l(v){e=k(v,"DIV",{class:!0});var w=g(e);r=et(w,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var d=g(r);n=et(d,"rect",{width:!0,height:!0,rx:!0,fill:!0}),g(n).forEach(p),l=et(d,"path",{d:!0,fill:!0}),g(l).forEach(p),d.forEach(p),o=A(w),i=k(w,"H5",{class:!0});var y=g(i);a=q(y,"ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),y.forEach(p),s=A(w),f=k(w,"H5",{class:!0});var E=g(f);_=q(E,h),m=q(E,"+"),E.forEach(p),w.forEach(p),this.h()},h(){u(n,"width","24"),u(n,"height","24"),u(n,"rx","12"),u(n,"fill","#D09D03"),u(l,"d","M11.5778 13.42L10.9198 9.444V6.728H13.1038V9.444L12.4598 13.42H11.5778ZM11.9978 16.668C11.5498 16.668 11.2278 16.5653 11.0318 16.36C10.8451 16.1547 10.7518 15.9027 10.7518 15.604V15.268C10.7518 14.9693 10.8451 14.7173 11.0318 14.512C11.2278 14.3067 11.5498 14.204 11.9978 14.204C12.4458 14.204 12.7631 14.3067 12.9498 14.512C13.1458 14.7173 13.2438 14.9693 13.2438 15.268V15.604C13.2438 15.9027 13.1458 16.1547 12.9498 16.36C12.7631 16.5653 12.4458 16.668 11.9978 16.668Z"),u(l,"fill","#231F20"),u(r,"width","24"),u(r,"height","24"),u(r,"viewBox","0 0 24 24"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(r,"class","mr-[10px]"),u(i,"class","typo-b5 flex-1"),u(f,"class","typo-b4 font-bold ml-2"),u(e,"class","py-3 px-5 flex items-center my-10 bg-gray-4")},m(v,w){$(v,e,w),c(e,r),c(r,n),c(r,l),c(e,o),c(e,i),c(i,a),c(e,s),c(e,f),c(f,_),c(f,m)},p(v,w){w&1&&h!==(h=wr-v[0]+"")&&ct(_,h)},d(v){v&&p(e)}}}function Mu(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w,d,y,E,I,N,S,z,V,Q,X,J,Y,H,Z,rt,b,L,C,P,U,G=t[4]-t[0]+"",F,W,B,M,D,T,K,at,ot,dt,It,_t,kt,vt,pt,zt,he,Ee,wt,Ct,Qt,mt,Lt,yt,j,ft,lt,Dt,xe,Le,re=t[3],Et=[];for(let st=0;st<re.length;st+=1)Et[st]=dl(hl(t,re,st));let Ht=t[2],xt=[];for(let st=0;st<Ht.length;st+=1)xt[st]=pl(fl(t,Ht,st));let Nt=t[0]<=wr&&_l(t);return{c(){e=x("div"),r=x("div"),n=x("a"),l=tt("svg"),o=tt("path"),i=O(`
			ย้อนกลับ`),a=R(),s=x("a"),f=tt("svg"),h=tt("path"),_=O(`
			หน้าแรก`),m=R(),v=x("h4"),w=O("โฉมหน้า #สภา66 "),d=x("br"),y=O("จากการวิเคราะห์ของคุณ"),E=R(),I=x("div"),N=x("h6"),S=O("ฝ่ายรัฐบาล"),z=R(),V=x("h6"),Q=O("("),X=O(t[0]),J=O(")"),Y=R(),H=x("div");for(let st=0;st<Et.length;st+=1)Et[st].c();Z=R(),rt=x("div"),b=x("h6"),L=O("ฝ่ายค้าน"),C=R(),P=x("h6"),U=O("("),F=O(G),W=O(")"),B=R(),M=x("div");for(let st=0;st<xt.length;st+=1)xt[st].c();D=R(),Nt&&Nt.c(),T=R(),K=x("h4"),at=O("ไม่ว่าคุณจะชอบผลวิเคราะห์ที่ออกมา หรือไม่ ก็"),ot=x("span"),dt=O("ต้องไม่ลืมออกไปเลือกตั้ง"),It=R(),_t=x("br"),kt=O(`
		กำหนดชะตาประเทศไทย 14 พ.ค. 66 นี้`),vt=R(),pt=x("div"),zt=x("h4"),he=O("ร่วมพัฒนาโดย"),Ee=R(),wt=x("img"),Qt=R(),mt=x("div"),Lt=x("p"),yt=x("b"),j=O("Disclaimer"),ft=O(`: ผลการวิเคราะห์นี้เป็นเพียงการทดลองประมาณการแบบคร่าวๆ
			บนฐานข้อมูลผลการเลือกตั้งเดิมบนกติกาเลือกตั้งใหม่และข้อสันนิษฐานที่กำหนดไว้เท่านั้น
			อาจมีปัจจัยอื่นที่ส่งผลต่อผลลัพธ์ในการเลือกตั้ง
			และไม่ได้มีเจตนาในการชี้นำผลการเลือกตั้งแต่อย่างใด`),this.h()},l(st){e=k(st,"DIV",{class:!0});var ut=g(e);r=k(ut,"DIV",{class:!0});var it=g(r);n=k(it,"A",{class:!0});var Mt=g(n);l=et(Mt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var de=g(l);o=et(de,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(o).forEach(p),de.forEach(p),i=q(Mt,`
			ย้อนกลับ`),Mt.forEach(p),a=A(it),s=k(it,"A",{href:!0,class:!0});var Jt=g(s);f=et(Jt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var Me=g(f);h=et(Me,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(h).forEach(p),Me.forEach(p),_=q(Jt,`
			หน้าแรก`),Jt.forEach(p),it.forEach(p),m=A(ut),v=k(ut,"H4",{class:!0});var pe=g(v);w=q(pe,"โฉมหน้า #สภา66 "),d=k(pe,"BR",{class:!0}),y=q(pe,"จากการวิเคราะห์ของคุณ"),pe.forEach(p),E=A(ut),I=k(ut,"DIV",{class:!0});var _e=g(I);N=k(_e,"H6",{class:!0});var Se=g(N);S=q(Se,"ฝ่ายรัฐบาล"),Se.forEach(p),z=A(_e),V=k(_e,"H6",{class:!0});var oe=g(V);Q=q(oe,"("),X=q(oe,t[0]),J=q(oe,")"),oe.forEach(p),_e.forEach(p),Y=A(ut),H=k(ut,"DIV",{class:!0});var jt=g(H);for(let ve=0;ve<Et.length;ve+=1)Et[ve].l(jt);jt.forEach(p),Z=A(ut),rt=k(ut,"DIV",{class:!0});var Qe=g(rt);b=k(Qe,"H6",{class:!0});var jr=g(b);L=q(jr,"ฝ่ายค้าน"),jr.forEach(p),C=A(Qe),P=k(Qe,"H6",{class:!0});var Je=g(P);U=q(Je,"("),F=q(Je,G),W=q(Je,")"),Je.forEach(p),Qe.forEach(p),B=A(ut),M=k(ut,"DIV",{class:!0});var $r=g(M);for(let ve=0;ve<xt.length;ve+=1)xt[ve].l($r);$r.forEach(p),D=A(ut),Nt&&Nt.l(ut),T=A(ut),K=k(ut,"H4",{class:!0});var ke=g(K);at=q(ke,"ไม่ว่าคุณจะชอบผลวิเคราะห์ที่ออกมา หรือไม่ ก็"),ot=k(ke,"SPAN",{class:!0});var tn=g(ot);dt=q(tn,"ต้องไม่ลืมออกไปเลือกตั้ง"),tn.forEach(p),It=A(ke),_t=k(ke,"BR",{}),kt=q(ke,`
		กำหนดชะตาประเทศไทย 14 พ.ค. 66 นี้`),ke.forEach(p),vt=A(ut),pt=k(ut,"DIV",{class:!0});var je=g(pt);zt=k(je,"H4",{class:!0});var en=g(zt);he=q(en,"ร่วมพัฒนาโดย"),en.forEach(p),Ee=A(je),wt=k(je,"IMG",{src:!0,alt:!0}),je.forEach(p),Qt=A(ut),mt=k(ut,"DIV",{class:!0});var rn=g(mt);Lt=k(rn,"P",{class:!0});var xr=g(Lt);yt=k(xr,"B",{});var nn=g(yt);j=q(nn,"Disclaimer"),nn.forEach(p),ft=q(xr,`: ผลการวิเคราะห์นี้เป็นเพียงการทดลองประมาณการแบบคร่าวๆ
			บนฐานข้อมูลผลการเลือกตั้งเดิมบนกติกาเลือกตั้งใหม่และข้อสันนิษฐานที่กำหนดไว้เท่านั้น
			อาจมีปัจจัยอื่นที่ส่งผลต่อผลลัพธ์ในการเลือกตั้ง
			และไม่ได้มีเจตนาในการชี้นำผลการเลือกตั้งแต่อย่างใด`),xr.forEach(p),rn.forEach(p),ut.forEach(p),this.h()},h(){u(o,"fill-rule","evenodd"),u(o,"clip-rule","evenodd"),u(o,"d","M8.16098 12.98L15.362 5.77999L16.3701 6.78799L10.1773 12.98L16.3701 19.172L15.362 20.18L8.16098 12.98Z"),u(o,"fill","#0000FF"),u(l,"width","25"),u(l,"height","25"),u(l,"viewBox","0 0 25 25"),u(l,"fill","none"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","flex items-center typo-b5 text-byx-blue mb-5 cursor-pointer mr-5"),u(h,"fill-rule","evenodd"),u(h,"clip-rule","evenodd"),u(h,"d","M10.3847 1.88124C10.1575 1.70174 9.83682 1.70174 9.60967 1.88124L0.628418 8.88749L1.40342 9.87499L2.50342 9.01249V16.75C2.50342 17.4403 3.06306 18 3.75342 18H16.2534C16.9438 18 17.5034 17.4403 17.5034 16.75V9.01874L18.6034 9.87499L19.3784 8.89374L10.3847 1.88124ZM11.2534 16.75H8.75342V11.75H11.2534V16.75ZM12.5034 16.75V11.75C12.5034 11.0596 11.9438 10.5 11.2534 10.5H8.75342C8.06306 10.5 7.50342 11.0596 7.50342 11.75V16.75H3.75342V8.03749L10.0034 3.16874L16.2534 8.04374V16.75H12.5034Z"),u(h,"fill","#0000FF"),u(f,"width","21"),u(f,"height","21"),u(f,"viewBox","0 0 21 21"),u(f,"fill","none"),u(f,"xmlns","http://www.w3.org/2000/svg"),u(f,"class","mr-1"),u(s,"href",te+"/"),u(s,"class","flex items-center typo-b5 text-byx-blue mb-5 cursor-pointer"),u(r,"class","flex w-full"),u(d,"class","hidden md:inline"),u(v,"class","typo-h4 font-bold beyonx-text-gradient text-center"),u(N,"class","typo-h6 font-bold"),u(V,"class","typo-h6"),u(I,"class","flex w-full justify-center mt-5 mb-3"),u(H,"class","flex justify-center flex-wrap gap-x-10"),u(b,"class","typo-h7 font-bold"),u(P,"class","typo-h7"),u(rt,"class","flex w-full justify-center mt-3 mb-3"),u(M,"class","flex justify-center flex-wrap gap-x-10"),u(ot,"class","beyonx-text-gradient font-bold"),u(K,"class","typo-b4 text-center"),u(zt,"class","typo-b4 mr-4"),qe(wt.src,Ct=ni)||u(wt,"src",Ct),u(wt,"alt","beyondx"),u(pt,"class","flex items-center my-10"),u(Lt,"class","typo-b6 py-2 px-4"),u(mt,"class","w-full bg-gray-4"),u(e,"class","flex flex-col items-center w-full max-w-[698px] px-6 py-10")},m(st,ut){$(st,e,ut),c(e,r),c(r,n),c(n,l),c(l,o),c(n,i),c(r,a),c(r,s),c(s,f),c(f,h),c(s,_),c(e,m),c(e,v),c(v,w),c(v,d),c(v,y),c(e,E),c(e,I),c(I,N),c(N,S),c(I,z),c(I,V),c(V,Q),c(V,X),c(V,J),c(e,Y),c(e,H);for(let it=0;it<Et.length;it+=1)Et[it].m(H,null);c(e,Z),c(e,rt),c(rt,b),c(b,L),c(rt,C),c(rt,P),c(P,U),c(P,F),c(P,W),c(e,B),c(e,M);for(let it=0;it<xt.length;it+=1)xt[it].m(M,null);c(e,D),Nt&&Nt.m(e,null),c(e,T),c(e,K),c(K,at),c(K,ot),c(ot,dt),c(K,It),c(K,_t),c(K,kt),c(e,vt),c(e,pt),c(pt,zt),c(zt,he),c(pt,Ee),c(pt,wt),c(e,Qt),c(e,mt),c(mt,Lt),c(Lt,yt),c(yt,j),c(Lt,ft),Dt=!0,xe||(Le=[bt(n,"click",function(){Oe(t[1])&&t[1].apply(this,arguments)}),bt(s,"click",t[5])],xe=!0)},p(st,[ut]){if(t=st,(!Dt||ut&1)&&ct(X,t[0]),ut&8){re=t[3];let it;for(it=0;it<re.length;it+=1){const Mt=hl(t,re,it);Et[it]?Et[it].p(Mt,ut):(Et[it]=dl(Mt),Et[it].c(),Et[it].m(H,null))}for(;it<Et.length;it+=1)Et[it].d(1);Et.length=re.length}if((!Dt||ut&17)&&G!==(G=t[4]-t[0]+"")&&ct(F,G),ut&4){Ht=t[2];let it;for(it=0;it<Ht.length;it+=1){const Mt=fl(t,Ht,it);xt[it]?xt[it].p(Mt,ut):(xt[it]=pl(Mt),xt[it].c(),xt[it].m(M,null))}for(;it<xt.length;it+=1)xt[it].d(1);xt.length=Ht.length}t[0]<=wr?Nt?Nt.p(t,ut):(Nt=_l(t),Nt.c(),Nt.m(e,T)):Nt&&(Nt.d(1),Nt=null)},i(st){Dt||(ti(()=>{lt||(lt=on(e,an,{x:400},!0)),lt.run(1)}),Dt=!0)},o(st){lt||(lt=on(e,an,{x:400},!1)),lt.run(0),Dt=!1},d(st){st&&p(e),Ft(Et,st),Ft(xt,st),Nt&&Nt.d(),st&&lt&&lt.end(),xe=!1,fe(Le)}}}const wr=376,or=5;function Su(t,e,r){let n,l,o,i,a,{representativeRecord:s}=e,{governmentParties:f}=e,{oppositionParties:h}=e,{governmentPoints:_}=e,{toggleIsShare:m}=e;const v={Name:"อื่นๆ",Color:"#CCCCCC"},w=()=>{qr.reset(),Tr.updateContent(xl.Analytics),Tr.reset()};return t.$$set=d=>{"representativeRecord"in d&&r(6,s=d.representativeRecord),"governmentParties"in d&&r(7,f=d.governmentParties),"oppositionParties"in d&&r(8,h=d.oppositionParties),"governmentPoints"in d&&r(0,_=d.governmentPoints),"toggleIsShare"in d&&r(1,m=d.toggleIsShare)},t.$$.update=()=>{t.$$.dirty&64&&r(4,n=s.reduce((d,y)=>d+y.total,0)),t.$$.dirty&128&&r(10,l=f.reduce((d,{fromDistrict:y,fromPartylist:E,total:I})=>(I<=or&&(d.fromDistrict+=y,d.fromPartylist+=E,d.total+=I),d),{party:v,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&256&&r(9,o=h.reduce((d,{fromDistrict:y,fromPartylist:E,total:I})=>(I<=or&&(d.fromDistrict+=y,d.fromPartylist+=E,d.total+=I),d),{party:v,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&1152&&r(3,i=[...f.sort((d,y)=>y.total-d.total).filter(d=>d.total>or),l].filter(d=>d.total>0)),t.$$.dirty&768&&r(2,a=[...h.sort((d,y)=>y.total-d.total).filter(d=>d.total>or),o].filter(d=>d.total>0))},[_,m,a,i,n,w,s,f,h,o,l]}class Ru extends qt{constructor(e){super(),Gt(this,e,Su,Mu,Zt,{representativeRecord:6,governmentParties:7,oppositionParties:8,governmentPoints:0,toggleIsShare:1})}}function Au(t){let e,r,n,l,o,i,a,s,f,h,_,m;return a=new Ru({props:{representativeRecord:t[0],governmentParties:t[7],oppositionParties:t[6],governmentPoints:t[5],toggleIsShare:t[12]}}),{c(){e=x("div"),r=x("election-header"),n=R(),l=x("div"),o=R(),i=x("div"),Xt(a.$$.fragment),s=R(),f=x("election-bottom"),h=R(),_=x("election-footer"),this.h()},l(v){e=k(v,"DIV",{class:!0});var w=g(e);r=k(w,"ELECTION-HEADER",{}),g(r).forEach(p),n=A(w),l=k(w,"DIV",{class:!0}),g(l).forEach(p),o=A(w),i=k(w,"DIV",{class:!0});var d=g(i);Ut(a.$$.fragment,d),d.forEach(p),s=A(w),f=k(w,"ELECTION-BOTTOM",{"index-path":!0,"about-path":!0}),g(f).forEach(p),h=A(w),_=k(w,"ELECTION-FOOTER",{}),g(_).forEach(p),w.forEach(p),this.h()},h(){u(l,"class","sticky top-0 w-full h-1 beyondx-gradient-bg"),u(i,"class","flex-1 flex justify-center items-center"),sn(f,"index-path",te),sn(f,"about-path",te+"/about"),u(e,"class","h-full flex flex-col")},m(v,w){$(v,e,w),c(e,r),c(e,n),c(e,l),c(e,o),c(e,i),Yt(a,i,null),c(e,s),c(e,f),c(e,h),c(e,_),m=!0},p(v,w){const d={};w&1&&(d.representativeRecord=v[0]),w&128&&(d.governmentParties=v[7]),w&64&&(d.oppositionParties=v[6]),w&32&&(d.governmentPoints=v[5]),a.$set(d)},i(v){m||(ht(a.$$.fragment,v),m=!0)},o(v){gt(a.$$.fragment,v),m=!1},d(v){v&&p(e),Kt(a)}}}function zu(t){let e,r,n,l,o,i,a,s,f,h,_,m,v,w,d,y,E,I,N,S,z,V,Q,X,J,Y,H,Z,rt,b,L,C,P,U;const G=[Fu,Bu],F=[];function W(B,M){return B[4]===B[9].Map?0:1}return Z=W(t),rt=F[Z]=G[Z](t),L=new Vi({props:{representativeRecord:t[0],governmentParties:t[7],oppositionParties:t[6],governmentPoints:t[5],toggleSide:t[13],toggleIsShare:t[12]}}),{c(){e=x("div"),r=x("div"),n=R(),l=x("div"),o=x("div"),i=x("div"),a=x("h7"),s=O("จำลองผล #เลือกตั้ง66 "),f=x("br"),h=O(" จากคำตอบของคุณ"),_=R(),m=x("a"),v=x("span"),w=O("แก้ไขคำตอบ"),d=R(),y=tt("svg"),E=tt("path"),I=R(),N=x("div"),S=x("button"),z=O("รายเขต"),Q=R(),X=x("button"),J=O("รวมจำนวน ส.ส."),H=R(),rt.c(),b=R(),Xt(L.$$.fragment),this.h()},l(B){e=k(B,"DIV",{class:!0});var M=g(e);r=k(M,"DIV",{class:!0}),g(r).forEach(p),n=A(M),l=k(M,"DIV",{class:!0});var D=g(l);o=k(D,"DIV",{class:!0});var T=g(o);i=k(T,"DIV",{class:!0});var K=g(i);a=k(K,"H7",{class:!0});var at=g(a);s=q(at,"จำลองผล #เลือกตั้ง66 "),f=k(at,"BR",{class:!0}),h=q(at," จากคำตอบของคุณ"),at.forEach(p),_=A(K),m=k(K,"A",{href:!0,class:!0});var ot=g(m);v=k(ot,"SPAN",{class:!0});var dt=g(v);w=q(dt,"แก้ไขคำตอบ"),dt.forEach(p),d=A(ot),y=et(ot,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var It=g(y);E=et(It,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(E).forEach(p),It.forEach(p),ot.forEach(p),K.forEach(p),I=A(T),N=k(T,"DIV",{class:!0});var _t=g(N);S=k(_t,"BUTTON",{class:!0});var kt=g(S);z=q(kt,"รายเขต"),kt.forEach(p),Q=A(_t),X=k(_t,"BUTTON",{class:!0});var vt=g(X);J=q(vt,"รวมจำนวน ส.ส."),vt.forEach(p),_t.forEach(p),H=A(T),rt.l(T),T.forEach(p),D.forEach(p),b=A(M),Ut(L.$$.fragment,M),M.forEach(p),this.h()},h(){u(r,"class","fixed top-0 w-full h-1 beyondx-gradient-bg"),u(f,"class","inline md:hidden"),u(a,"class","typo-h7 font-bold grow"),u(v,"class","typo-b5 text-byx-blue ml-1 underline text-right"),u(E,"fill-rule","evenodd"),u(E,"clip-rule","evenodd"),u(E,"d","M19.0575 6.74987C19.3392 6.46852 19.4974 6.08674 19.4974 5.68862C19.4974 5.29051 19.3392 4.90872 19.0575 4.62737L16.3725 1.94237C16.0911 1.66071 15.7094 1.50244 15.3112 1.50244C14.9131 1.50244 14.5314 1.66071 14.25 1.94237L3 13.1924V17.9999H7.8075L19.0575 6.74987ZM15.3075 2.99987L18 5.69237L15.75 7.94237L13.0575 5.24987L15.3075 2.99987ZM4.5 16.4999V13.8074L12 6.30737L14.6925 8.99987L7.1925 16.4999H4.5Z"),u(E,"fill","#0000FF"),u(y,"width","24"),u(y,"height","24"),u(y,"viewBox","0 0 24 24"),u(y,"fill","none"),u(y,"xmlns","http://www.w3.org/2000/svg"),u(y,"class","ml-1"),u(m,"href",te+"/quiz"),u(m,"class","cursor-pointer flex"),u(i,"class","flex w-full items-start md:items-center"),u(S,"class",V="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(t[4]===t[9].Map?"font-bold border-black":"")),u(X,"class",Y="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(t[4]===t[9].Graph?"font-bold border-black":"")),u(N,"class","w-full flex justify-center items-center mt-3"),u(o,"class","flex-1 flex flex-col items-center container svelte-438yzl"),u(l,"class","flex-1 flex flex-col items-center pt-10"),u(e,"class","h-screen flex flex-col relative")},m(B,M){$(B,e,M),c(e,r),c(e,n),c(e,l),c(l,o),c(o,i),c(i,a),c(a,s),c(a,f),c(a,h),c(i,_),c(i,m),c(m,v),c(v,w),c(m,d),c(m,y),c(y,E),c(o,I),c(o,N),c(N,S),c(S,z),c(N,Q),c(N,X),c(X,J),c(o,H),F[Z].m(o,null),c(e,b),Yt(L,e,null),C=!0,P||(U=[bt(m,"click",t[11]),bt(S,"click",t[16]),bt(X,"click",t[17])],P=!0)},p(B,M){(!C||M&16&&V!==(V="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(B[4]===B[9].Map?"font-bold border-black":"")))&&u(S,"class",V),(!C||M&16&&Y!==(Y="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(B[4]===B[9].Graph?"font-bold border-black":"")))&&u(X,"class",Y);let D=Z;Z=W(B),Z===D?F[Z].p(B,M):(Ce(),gt(F[D],1,1,()=>{F[D]=null}),Ne(),rt=F[Z],rt?rt.p(B,M):(rt=F[Z]=G[Z](B),rt.c()),ht(rt,1),rt.m(o,null));const T={};M&1&&(T.representativeRecord=B[0]),M&128&&(T.governmentParties=B[7]),M&64&&(T.oppositionParties=B[6]),M&32&&(T.governmentPoints=B[5]),L.$set(T)},i(B){C||(ht(rt),ht(L.$$.fragment,B),C=!0)},o(B){gt(rt),gt(L.$$.fragment,B),C=!1},d(B){B&&p(e),F[Z].d(),Kt(L),P=!1,fe(U)}}}function Hu(t){let e,r;return e=new ri({}),{c(){Xt(e.$$.fragment)},l(n){Ut(e.$$.fragment,n)},m(n,l){Yt(e,n,l),r=!0},p:Vt,i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){gt(e.$$.fragment,n),r=!1},d(n){Kt(e,n)}}}function Bu(t){let e,r,n;return r=new zi({props:{elect66Record:t[0],elect62Record:t[8]}}),{c(){e=x("div"),Xt(r.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=g(e);Ut(r.$$.fragment,o),o.forEach(p),this.h()},h(){u(e,"class","w-full")},m(l,o){$(l,e,o),Yt(r,e,null),n=!0},p(l,o){const i={};o&1&&(i.elect66Record=l[0]),o&256&&(i.elect62Record=l[8]),r.$set(i)},i(l){n||(ht(r.$$.fragment,l),n=!0)},o(l){gt(r.$$.fragment,l),n=!1},d(l){l&&p(e),Kt(r)}}}function Fu(t){let e,r,n;return r=new Pu({}),{c(){e=x("div"),Xt(r.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=g(e);Ut(r.$$.fragment,o),o.forEach(p),this.h()},h(){u(e,"class","grow relative w-full mb-[112px]")},m(l,o){$(l,e,o),Yt(r,e,null),n=!0},p:Vt,i(l){n||(ht(r.$$.fragment,l),n=!0)},o(l){gt(r.$$.fragment,l),n=!1},d(l){l&&p(e),Kt(r)}}}function Ou(t){let e,r,n,l;const o=[Hu,zu,Au],i=[];function a(s,f){return!s[1]&&!s[2]?0:s[3]?2:1}return e=a(t),r=i[e]=o[e](t),{c(){r.c(),n=Ve()},l(s){r.l(s),n=Ve()},m(s,f){i[e].m(s,f),$(s,n,f),l=!0},p(s,[f]){let h=e;e=a(s),e===h?i[e].p(s,f):(Ce(),gt(i[h],1,1,()=>{i[h]=null}),Ne(),r=i[e],r?r.p(s,f):(r=i[e]=o[e](s),r.c()),ht(r,1),r.m(n.parentNode,n))},i(s){l||(ht(r),l=!0)},o(s){gt(r),l=!1},d(s){i[e].d(s),s&&p(n)}}}function qu(t,e,r){let n,l,o,i,a,s,f;we(t,Cl,z=>r(0,a=z)),we(t,Ot,z=>r(15,s=z)),we(t,dn,z=>r(8,f=z));var h=(z=>(z.Map="map",z.Graph="graph",z))(h||{});let _=!1,m=!1,v=!1;vl(async()=>{setTimeout(()=>{r(2,m=!0)},2e3),await Ot.load(),await Ge.load(),await Il.load(),await dn.load(),Ge.calculate(),r(1,_=!0)});let w="map";const d=z=>{r(4,w=z)},y=()=>{Tr.updateContent(xl.EditQuiz)},E=()=>{r(3,v=!v)},I=z=>{r(14,n=n.map(V=>!z||V.Name===z?{...V,PartyGroup:V.PartyGroup===me.Government?me.Opposition:me.Government}:V))},N=()=>d(h.Map),S=()=>d(h.Graph);return t.$$.update=()=>{t.$$.dirty&32768&&r(14,n=[...s.list]),t.$$.dirty&16385&&r(7,[l,o,i]=a.reduce(([z,V,Q],X)=>{var J;return((J=n.find(({Name:Y})=>X.party.Name===Y))==null?void 0:J.PartyGroup)===me.Government?[[...z,X],V,Q+X.total]:[z,[X,...V],Q]},[[],[],0]),l,(r(6,o),r(0,a),r(14,n),r(15,s)),(r(5,i),r(0,a),r(14,n),r(15,s)))},[a,_,m,v,w,i,o,l,f,h,d,y,E,I,n,s,N,S]}class Wu extends qt{constructor(e){super(),Gt(this,e,qu,Ou,Zt,{})}}export{Wu as default};
