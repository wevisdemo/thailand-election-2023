var si=Object.defineProperty;var ai=(t,e,r)=>e in t?si(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var nr=(t,e,r)=>(ai(t,typeof e!="symbol"?e+"":e,r),r);import{V as me,S as Kt,i as Wt,s as Qt,k as x,q as O,l as k,m as g,r as q,h as p,n as u,b as Q,G as c,u as ft,H as Ct,a as R,y as Bt,c as S,z as Ht,p as lt,A as Ft,g as ht,d as vt,P as Xt,B as Ot,K as gt,Q as ge,N as et,O as rt,U as We,e as Me,I as ve,W as an,v as Te,f as Ve,o as Il,X as Nl,w as Pl,Y as Cl,Z as Tl,_ as Vl,$ as Dl,J as Qe,R as Gr,T as Le,M as un}from"../chunks/index.c14cb923.js";import{b as Gt}from"../chunks/paths.aee883ff.js";import{w as Yr,d as ui}from"../chunks/index.a27e6e1d.js";import{p as Yt,S as Rt,P as Ar,i as Kr,f as Re,g as ci,C as fi}from"../chunks/party.4d88c7e1.js";import{c as Ke,C as Ml}from"../chunks/content.dae6d267.js";import{b as hi}from"../chunks/byx-mobile.fa54e4c2.js";import{M as di}from"../chunks/metadata.04462c26.js";var cn={},Cr={},Tr=34,Ue=10,Vr=13;function Ll(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function pi(t,e){var r=Ll(t);return function(n,l){return e(r(n),l,t)}}function fn(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var l in n)l in e||r.push(e[l]=l)}),r}function Lt(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function _i(t){return t<0?"-"+Lt(-t,6):t>9999?"+"+Lt(t,6):Lt(t,4)}function vi(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),l=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":_i(t.getUTCFullYear())+"-"+Lt(t.getUTCMonth()+1,2)+"-"+Lt(t.getUTCDate(),2)+(l?"T"+Lt(e,2)+":"+Lt(r,2)+":"+Lt(n,2)+"."+Lt(l,3)+"Z":n?"T"+Lt(e,2)+":"+Lt(r,2)+":"+Lt(n,2)+"Z":r||e?"T"+Lt(e,2)+":"+Lt(r,2)+"Z":"")}function mi(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(_,v){var m,w,d=l(_,function(y,b){if(m)return m(y,b-1);w=y,m=v?pi(y,v):Ll(y)});return d.columns=w||[],d}function l(_,v){var m=[],w=_.length,d=0,y=0,b,I=w<=0,P=!1;_.charCodeAt(w-1)===Ue&&--w,_.charCodeAt(w-1)===Vr&&--w;function z(){if(I)return Cr;if(P)return P=!1,cn;var D,$=d,Z;if(_.charCodeAt($)===Tr){for(;d++<w&&_.charCodeAt(d)!==Tr||_.charCodeAt(++d)===Tr;);return(D=d)>=w?I=!0:(Z=_.charCodeAt(d++))===Ue?P=!0:Z===Vr&&(P=!0,_.charCodeAt(d)===Ue&&++d),_.slice($+1,D-1).replace(/""/g,'"')}for(;d<w;){if((Z=_.charCodeAt(D=d++))===Ue)P=!0;else if(Z===Vr)P=!0,_.charCodeAt(d)===Ue&&++d;else if(Z!==r)continue;return _.slice($,D)}return I=!0,_.slice($,w)}for(;(b=z())!==Cr;){for(var A=[];b!==cn&&b!==Cr;)A.push(b),b=z();v&&(A=v(A,y++))==null||m.push(A)}return m}function o(_,v){return _.map(function(m){return v.map(function(w){return h(m[w])}).join(t)})}function i(_,v){return v==null&&(v=fn(_)),[v.map(h).join(t)].concat(o(_,v)).join(`
`)}function s(_,v){return v==null&&(v=fn(_)),o(_,v).join(`
`)}function a(_){return _.map(f).join(`
`)}function f(_){return _.map(h).join(t)}function h(_){return _==null?"":_ instanceof Date?vi(_):e.test(_+="")?'"'+_.replace(/"/g,'""')+'"':_}return{parse:n,parseRows:l,format:i,formatBody:s,formatRows:a,formatRow:f,formatValue:h}}var gi=mi(","),wi=gi.parse;function yi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function bi(t,e){return fetch(t,e).then(yi)}function Ei(t){return function(e,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),bi(e,r).then(function(l){return t(l,n)})}}var _r=Ei(wi);const xi=Math.random,ki=function t(e){function r(n,l){var o,i;return n=n==null?0:+n,l=l==null?1:+l,function(){var s;if(o!=null)s=o,o=null;else do o=e()*2-1,s=e()*2-1,i=o*o+s*s;while(!i||i>1);return n+l*s*Math.sqrt(-2*Math.log(i)/i)}}return r.source=t,r}(xi),Ii=.03;class Ni{constructor(){nr(this,"parties");nr(this,"globalMatrix");nr(this,"districtMatrix");this.parties=me(Yt).list,this.globalMatrix=this.createVoteFlowMatrix(),this.districtMatrix=new Map}createVoteFlowMatrix(){return this.parties.reduce((e,r)=>({...e,[r.Name]:this.parties.reduce((n,l)=>({...n,[l.Name]:r.Name===l.Name?1:0}),{})}),{})}updateVoteFlow(e,r,n,l=this.globalMatrix){const o=n<l[e][e]?n:l[e][e];l[e][r]+=n,l[e][e]-=o}updateDistrictVoteFlow(e,r,n,l,o){const i=this.getDistrictVoteFlowKey(e,r);this.districtMatrix.has(i)||this.districtMatrix.set(i,this.createVoteFlowMatrix()),this.updateVoteFlow(n,l,o,this.districtMatrix.get(i))}getDistrictVoteFlowKey(e,r){return`${e}-${r}`}updateVoteFlowBetweenGroups(e,r,n){const[l,o]=n>0?[e,r]:[r,e];l.forEach(i=>{const s=Math.min(Math.abs(n),this.globalMatrix[i][i])/(l.length+o.length);o.forEach(a=>{this.updateVoteFlow(i,a,Math.min(s))})})}applyVoteFlow(e,r){const n=me(Yt).map,l=Object.keys(r),o=l.reduce((s,a)=>{var f;return{...s,[a]:((f=e.find(({party:h})=>a===h.Name))==null?void 0:f.points)||0}},{}),i=e.reduce((s,{points:a})=>s+a,0);return l.map(s=>({party:n.get(s),points:l.reduce((a,f)=>{const h=r[f][s],_=h>0&&h<1?Math.max(0,Math.min(ki(r[f][s],Ii)(),1)):h;return a+o[f]*_},0)*i})).filter(({points:s})=>s>0).sort((s,a)=>a.points-s.points)}calculateVoteFlowResult(e){return Object.entries(e).reduce((r,[n,l])=>({...r,[n]:Object.entries(l).reduce((o,[i,s])=>{if(!s)return o;const a=this.districtMatrix.get(this.getDistrictVoteFlowKey(n,i));return{...o,[i]:this.applyVoteFlow(a?this.applyVoteFlow(s,a):s,this.globalMatrix)}},{})}),{})}}const hn={[Rt.Scale0]:0,[Rt.Scale10]:.1,[Rt.Scale30]:.3,[Rt.Scale50]:.5,[Rt.Scale70]:.7,[Rt.Scale90]:.9,[Rt.Scale100]:1},lr={[Rt.Scale0]:-.3,[Rt.Scale10]:-.2,[Rt.Scale30]:-.1,[Rt.Scale50]:0,[Rt.Scale70]:.1,[Rt.Scale90]:.2,[Rt.Scale100]:.3};let Dr,dn,Mr,pn;const Pi=()=>{const{subscribe:t,update:e}=Yr({});return{subscribe:t,load:async()=>{const r=me(Yt);Dr=(await _r(`${Gt}/data/popularity-projection-2566.csv`)).reduce((l,{province:o,electorialDistrictNumber:i,party:s,points:a})=>(l[o]||(l[o]={}),l[o][+i]||(l[o][+i]=[]),r.map.get(s)||Yt.add({Name:s}),l[o][+i].push({party:r.map.get(s),points:+a}),l),{}),dn=await _r(`${Gt}/data/candidate-party-changes-66.csv`),pn=r.list.filter(({PartyGroup:l,Name:o})=>l===Ar.Opposition&&o!=="อนาคตใหม่").map(({Name:l})=>l),Mr=r.list.filter(({PartyGroup:l})=>l===Ar.Government).map(({Name:l})=>l),e(()=>Dr)},calculate(){var l,o,i;const{input:r}=me(Kr),n=new Ni;if(r.quiz1){const s=1-hn[r.quiz1];s>0&&dn.forEach(({province:a,electorialDistrictNumber:f,fromParty:h,toParty:_})=>n.updateDistrictVoteFlow(a,f,h,_,s))}if(r.quiz2&&n.updateVoteFlow("พลังประชารัฐ","รวมไทยสร้างชาติ",hn[r.quiz2]),r.quiz3){const s=lr[r.quiz3];s>0?n.updateVoteFlow("ก้าวไกล","เพื่อไทย",s):s<0&&n.updateVoteFlow("เพื่อไทย","ก้าวไกล",-s)}if(r.quiz4){const s=lr[r.quiz4];if(s!==0){const a=["พลังประชารัฐ","รวมไทยสร้างชาติ"],f=Mr.filter(h=>!a.includes(h));n.updateVoteFlowBetweenGroups(f,a,s)}}if(r.quiz5){const s=lr[r.quiz5];s!==0&&n.updateVoteFlowBetweenGroups(pn,Mr,s)}r.quiz7&&((l=r.quiz8)!=null&&l.percent)&&((o=r.quiz8)!=null&&o.from)&&((i=r.quiz8)!=null&&i.to)&&n.updateVoteFlow(r.quiz8.from,r.quiz8.to,lr[r.quiz8.percent]),e(()=>n.calculateVoteFlowResult(Dr))}}},Se=Pi(),Ci=`${Gt}/data/result-2562.csv`,Ti=()=>{const{subscribe:t,update:e}=Yr([]);return{subscribe:t,load:async()=>{const r=me(Yt),l=(await _r(Ci)).reduce((o,{party:i,district:s,partylist:a})=>i==="อนาคตใหม่"?[...o,{party:r.map.get("ก้าวไกล"),fromDistrict:parseInt(s),fromPartylist:parseInt(a),total:parseInt(s)+parseInt(a)}]:(r.map.get(i)||Yt.add({Name:i}),[...o,{party:r.map.get(i),fromDistrict:parseInt(s),fromPartylist:parseInt(a),total:parseInt(s)+parseInt(a)}]),[]);e(()=>l.sort((o,i)=>i.total-o.total))}}},_n=Ti(),vn=100,Vi=()=>{const{subscribe:t,update:e}=Yr([]);return{subscribe:t,load:async()=>{const{input:r}=me(Kr),n=r.quiz6?await Di(r.quiz6.filename):Mi(),l=n.reduce((s,{popularity:a})=>s+a,0)/vn,o=n.map(({party:s,popularity:a})=>({party:s,representatives:Math.floor(+a/l),remainder:a%l})).sort((s,a)=>a.remainder-s.remainder),i=o.reduce((s,{representatives:a})=>s+a,0);for(let s=0;s<vn-i;s++)o[s].representatives++;e(()=>o.map(({remainder:s,...a})=>a).sort((s,a)=>a.representatives-s.representatives))}}};async function Di(t){const e=me(Yt);return(await _r(`${Gt}/data/${t}`)).map(({party:n,popularity:l})=>({party:e.map.get(n),popularity:+l}))}function Mi(){const t=new Map;return Object.values(me(Se)).forEach(e=>Object.values(e).forEach(r=>r.forEach(({party:n,points:l})=>{var o;t.set(n.Name,{party:n,popularity:(((o=t.get(n.Name))==null?void 0:o.popularity)||0)+l})}))),[...t.values()].sort((e,r)=>r.popularity-e.popularity)}const Rl=Vi(),Sl=ui([Se,Rl],([t,e])=>{const r={},n=l=>{r[l.Name]||(r[l.Name]={party:l,fromDistrict:0,fromPartylist:0,total:0})};return Object.values(t).forEach(l=>Object.values(l).forEach(o=>{const{party:i}=o[0];i&&(n(i),r[i.Name].fromDistrict++,r[i.Name].total+=1)})),e.forEach(({party:l,representatives:o})=>{n(l),r[l.Name].fromPartylist+=o,r[l.Name].total+=o}),Object.values(r).sort((l,o)=>o.total-l.total)});function Li(t){let e,r,n;return{c(){e=x("div"),r=x("p"),n=O(t[0]),this.h()},l(l){e=k(l,"DIV",{class:!0,style:!0});var o=g(e);r=k(o,"P",{class:!0});var i=g(r);n=q(i,t[0]),i.forEach(p),o.forEach(p),this.h()},h(){u(r,"class","typo-b6 transform -translate-y-full -translate-x-1/2 absolute left-1/2 top-1 md:-top-1 whitespace-nowrap text-white"),u(e,"class","absolute -top-2 -bottom-2 w-[1px] bg-white"),u(e,"style",t[1])},m(l,o){Q(l,e,o),c(e,r),c(r,n)},p(l,[o]){o&1&&ft(n,l[0]),o&2&&u(e,"style",l[1])},i:Ct,o:Ct,d(l){l&&p(e)}}}function Ri(t,e,r){let{label:n}=e,{style:l}=e;return t.$$set=o=>{"label"in o&&r(0,n=o.label),"style"in o&&r(1,l=o.style)},[n,l]}class Si extends Kt{constructor(e){super(),Wt(this,e,Ri,Li,Qt,{label:0,style:1})}}function mn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function gn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function wn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function Ai(t){let e,r,n,l,o;return{c(){e=x("button"),r=et("svg"),n=et("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var s=g(e);r=rt(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=g(r);n=rt(a,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(n).forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){u(n,"fill-rule","evenodd"),u(n,"clip-rule","evenodd"),u(n,"d","M15.3598 10.8802L24.9598 20.4802L23.6158 21.8242L15.3598 13.5682L7.10377 21.8242L5.75977 20.4802L15.3598 10.8802Z"),u(n,"fill","white"),u(r,"width","32"),u(r,"height","32"),u(r,"viewBox","0 0 32 32"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","w-12 h-12 rounded-full beyondx-gradient-bg absolute flex justify-center items-center -top-10 right-6")},m(i,s){Q(i,e,s),c(e,r),c(r,n),l||(o=gt(e,"click",t[8]),l=!0)},p:Ct,d(i){i&&p(e),l=!1,o()}}}function zi(t){let e,r,n,l,o;return{c(){e=x("button"),r=et("svg"),n=et("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var s=g(e);r=rt(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=g(r);n=rt(a,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(n).forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){u(n,"fill-rule","evenodd"),u(n,"clip-rule","evenodd"),u(n,"d","M9.4 8.99668L8 10.3969L14.6 16.9978L8 23.5987L9.4 24.9989L16 18.398L22.6 24.9989L24 23.5987L17.4 16.9978L24 10.3969L22.6 8.99668L16 15.5976L9.4 8.99668Z"),u(n,"fill","#fff"),u(r,"width","32"),u(r,"height","33"),u(r,"viewBox","0 0 32 33"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","absolute -top-10 right-6")},m(i,s){Q(i,e,s),c(e,r),c(r,n),l||(o=gt(e,"click",t[8]),l=!0)},p:Ct,d(i){i&&p(e),l=!1,o()}}}function yn(t){let e,r,n,l,o=t[15].Name+"",i,s,a,f=t[16]+"",h,_;return{c(){e=x("div"),r=x("div"),n=x("p"),l=x("span"),i=O(o),s=R(),a=x("p"),h=O(f),_=O(" ที่นั่ง"),this.h()},l(v){e=k(v,"DIV",{class:!0});var m=g(e);r=k(m,"DIV",{class:!0});var w=g(r);n=k(w,"P",{class:!0});var d=g(n);l=k(d,"SPAN",{class:!0,style:!0}),g(l).forEach(p),i=q(d,o),d.forEach(p),s=S(w),a=k(w,"P",{});var y=g(a);h=q(y,f),_=q(y," ที่นั่ง"),y.forEach(p),w.forEach(p),m.forEach(p),this.h()},h(){u(l,"class","w-3 h-3 mr-2 rounded-full inline-block"),lt(l,"background",t[15].Color),u(n,"class","font-bold"),u(r,"class","absolute bottom-1 rounded bg-black py-2 px-4 text-white whitespace-nowrap transform -translate-x-1/2"),u(e,"class","relative h-0 z-10")},m(v,m){Q(v,e,m),c(e,r),c(r,n),c(n,l),c(n,i),c(r,s),c(r,a),c(a,h),c(a,_)},p(v,m){m&3&&lt(l,"background",v[15].Color),m&3&&o!==(o=v[15].Name+"")&&ft(i,o),m&3&&f!==(f=v[16]+"")&&ft(h,f)},d(v){v&&p(e)}}}function bn(t){let e,r,n,l=t[6]===t[15]&&yn(t);function o(){return t[10](t[15])}return{c(){e=x("div"),l&&l.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var s=g(e);l&&l.l(s),s.forEach(p),this.h()},h(){u(e,"class","flex justify-center"),lt(e,"width",t[16]/t[5]*100+"%"),lt(e,"background-color",t[15].Color)},m(i,s){Q(i,e,s),l&&l.m(e,null),r||(n=[gt(e,"mouseenter",o),gt(e,"mouseleave",t[11])],r=!0)},p(i,s){t=i,t[6]===t[15]?l?l.p(t,s):(l=yn(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),s&35&&lt(e,"width",t[16]/t[5]*100+"%"),s&3&&lt(e,"background-color",t[15].Color)},d(i){i&&p(e),l&&l.d(),r=!1,ge(n)}}}function En(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,b,I,P,z,A,D,$,Z,J,G,K,B,tt,E,L,N,C,X,U,F,j,H=t[5]-t[2]+"",M,T,V,Y,st,ot,dt,kt,mt,wt,bt,_t,jt,fe,qt,Vt,Ne,ie,$t,te,yt=t[5]/2>t[2]&&xn(),Et=t[2]<=vr&&kn(t),ee=t[0].sort(Dn).filter(Mn),pt=[];for(let W=0;W<ee.length;W+=1)pt[W]=In(gn(t,ee,W));let At=t[1].sort(Ln).filter(Rn),xt=[];for(let W=0;W<At.length;W+=1)xt[W]=Nn(mn(t,At,W));return{c(){yt&&yt.c(),e=R(),r=x("div"),n=R(),l=x("button"),o=x("span"),i=O("สลับรัฐบาล/ฝ่ายค้าน"),s=R(),a=et("svg"),f=et("g"),h=et("path"),_=et("defs"),v=et("clipPath"),m=et("rect"),w=R(),Et&&Et.c(),d=R(),y=x("div"),b=x("div"),I=x("div"),P=x("h7"),z=O("ฝ่ายรัฐบาล"),A=R(),D=x("div"),$=x("p"),Z=O("("),J=R(),G=O(t[2]),K=R(),B=x("p"),tt=O(")"),E=R();for(let W=0;W<pt.length;W+=1)pt[W].c();L=R(),N=x("div"),C=x("div"),X=x("div"),U=x("p"),F=O("("),j=R(),M=O(H),T=R(),V=x("p"),Y=O(")"),st=R(),ot=x("h7"),dt=O("ฝ่ายค้าน"),kt=R();for(let W=0;W<xt.length;W+=1)xt[W].c();mt=R(),wt=x("p"),bt=x("b"),_t=O("Note"),jt=O(`: จำนวนที่นั่ง ส.ส.
				ของแต่ละพรรคอาจให้ผลไม่เท่ากันเล็กน้อยในการจำลองผลแต่ละครั้ง
				เนื่องจากมีขั้นตอนการสุ่มในการคำนวณ`),fe=R(),qt=x("div"),Vt=x("button"),Ne=O(`สรุปผล
					`),ie=x("div"),this.h()},l(W){yt&&yt.l(W),e=S(W),r=k(W,"DIV",{class:!0}),g(r).forEach(p),n=S(W),l=k(W,"BUTTON",{class:!0});var ut=g(l);o=k(ut,"SPAN",{class:!0});var nt=g(o);i=q(nt,"สลับรัฐบาล/ฝ่ายค้าน"),nt.forEach(p),s=S(ut),a=rt(ut,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var Tt=g(a);f=rt(Tt,"g",{"clip-path":!0});var It=g(f);h=rt(It,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(h).forEach(p),It.forEach(p),_=rt(Tt,"defs",{});var Nt=g(_);v=rt(Nt,"clipPath",{id:!0});var ct=g(v);m=rt(ct,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(m).forEach(p),ct.forEach(p),Nt.forEach(p),Tt.forEach(p),ut.forEach(p),w=S(W),Et&&Et.l(W),d=S(W),y=k(W,"DIV",{class:!0});var at=g(y);b=k(at,"DIV",{class:!0});var it=g(b);I=k(it,"DIV",{class:!0});var Mt=g(I);P=k(Mt,"H7",{class:!0});var Be=g(P);z=q(Be,"ฝ่ายรัฐบาล"),Be.forEach(p),A=S(Mt),D=k(Mt,"DIV",{class:!0});var re=g(D);$=k(re,"P",{class:!0});var He=g($);Z=q(He,"("),He.forEach(p),J=S(re),G=q(re,t[2]),K=S(re),B=k(re,"P",{class:!0});var we=g(B);tt=q(we,")"),we.forEach(p),re.forEach(p),Mt.forEach(p),E=S(it);for(let zt=0;zt<pt.length;zt+=1)pt[zt].l(it);it.forEach(p),L=S(at),N=k(at,"DIV",{class:!0});var oe=g(N);C=k(oe,"DIV",{class:!0});var ye=g(C);X=k(ye,"DIV",{class:!0});var Ut=g(X);U=k(Ut,"P",{class:!0});var Fe=g(U);F=q(Fe,"("),Fe.forEach(p),j=S(Ut),M=q(Ut,H),T=S(Ut),V=k(Ut,"P",{class:!0});var be=g(V);Y=q(be,")"),be.forEach(p),Ut.forEach(p),st=S(ye),ot=k(ye,"H7",{class:!0});var Oe=g(ot);dt=q(Oe,"ฝ่ายค้าน"),Oe.forEach(p),ye.forEach(p),kt=S(oe);for(let zt=0;zt<xt.length;zt+=1)xt[zt].l(oe);oe.forEach(p),at.forEach(p),mt=S(W),wt=k(W,"P",{class:!0});var he=g(wt);bt=k(he,"B",{});var qe=g(bt);_t=q(qe,"Note"),qe.forEach(p),jt=q(he,`: จำนวนที่นั่ง ส.ส.
				ของแต่ละพรรคอาจให้ผลไม่เท่ากันเล็กน้อยในการจำลองผลแต่ละครั้ง
				เนื่องจากมีขั้นตอนการสุ่มในการคำนวณ`),he.forEach(p),fe=S(W),qt=k(W,"DIV",{class:!0});var se=g(qt);Vt=k(se,"BUTTON",{class:!0});var Pe=g(Vt);Ne=q(Pe,`สรุปผล
					`),ie=k(Pe,"DIV",{class:!0}),g(ie).forEach(p),Pe.forEach(p),se.forEach(p),this.h()},h(){u(r,"class","w-full h-[1px] bg-white opacity-40 mt-4"),u(o,"class","typo-b4 underline"),u(h,"fill-rule","evenodd"),u(h,"clip-rule","evenodd"),u(h,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(h,"fill","white"),u(f,"clip-path","url(#clip0_1694_52664)"),u(m,"width","19.2"),u(m,"height","19.2"),u(m,"fill","white"),u(m,"transform","translate(0.399902 0.399902)"),u(v,"id","clip0_1694_52664"),u(a,"width","20"),u(a,"height","20"),u(a,"viewBox","0 0 20 20"),u(a,"fill","none"),u(a,"xmlns","http://www.w3.org/2000/svg"),u(a,"class","ml-1"),u(l,"class","flex items-center justify-center my-5 cursor-pointer"),u(P,"class","typo-h7 font-bold w-full md:w-auto"),u($,"class","hidden md:block"),u(B,"class","hidden md:block"),u(D,"class","flex typo-h7 md:ml-1"),u(I,"class","flex flex-wrap md:flex-nowrap"),u(b,"class","w-1/2 flex flex-col"),u(U,"class","hidden md:block"),u(V,"class","hidden md:block"),u(X,"class","flex typo-h7"),u(ot,"class","typo-h7 font-bold ml-1 w-full md:w-auto"),u(C,"class","flex justify-end flex-wrap-reverse md:flex-nowrap"),u(N,"class","w-1/2 flex flex-col text-right ml-10"),u(y,"class","flex items-start w-full"),u(wt,"class","typo-b6 mt-10 opacity-70"),u(ie,"class","border-1 border-t border-r w-2 h-2 rotate-45"),u(Vt,"class","typo-b3 beyondx-gradient-bg text-white py-2 px-4 w-full md:w-52 h-[50px] flex items-center justify-between font-bold m-auto mt-2 md:mt-10 cursor-pointer"),u(qt,"class","fixed bottom-0 left-0 right-0 w-full flex justify-center py-10 px-6 bg-gradient-to-t from-black")},m(W,ut){yt&&yt.m(W,ut),Q(W,e,ut),Q(W,r,ut),Q(W,n,ut),Q(W,l,ut),c(l,o),c(o,i),c(l,s),c(l,a),c(a,f),c(f,h),c(a,_),c(_,v),c(v,m),Q(W,w,ut),Et&&Et.m(W,ut),Q(W,d,ut),Q(W,y,ut),c(y,b),c(b,I),c(I,P),c(P,z),c(I,A),c(I,D),c(D,$),c($,Z),c(D,J),c(D,G),c(D,K),c(D,B),c(B,tt),c(b,E);for(let nt=0;nt<pt.length;nt+=1)pt[nt].m(b,null);c(y,L),c(y,N),c(N,C),c(C,X),c(X,U),c(U,F),c(X,j),c(X,M),c(X,T),c(X,V),c(V,Y),c(C,st),c(C,ot),c(ot,dt),c(N,kt);for(let nt=0;nt<xt.length;nt+=1)xt[nt].m(N,null);Q(W,mt,ut),Q(W,wt,ut),c(wt,bt),c(bt,_t),c(wt,jt),Q(W,fe,ut),Q(W,qt,ut),c(qt,Vt),c(Vt,Ne),c(Vt,ie),$t||(te=[gt(l,"click",t[12]),gt(Vt,"click",function(){We(t[4])&&t[4].apply(this,arguments)})],$t=!0)},p(W,ut){if(t=W,t[5]/2>t[2]?yt||(yt=xn(),yt.c(),yt.m(e.parentNode,e)):yt&&(yt.d(1),yt=null),t[2]<=vr?Et?Et.p(t,ut):(Et=kn(t),Et.c(),Et.m(d.parentNode,d)):Et&&(Et.d(1),Et=null),ut&4&&ft(G,t[2]),ut&9){ee=t[0].sort(Dn).filter(Mn);let nt;for(nt=0;nt<ee.length;nt+=1){const Tt=gn(t,ee,nt);pt[nt]?pt[nt].p(Tt,ut):(pt[nt]=In(Tt),pt[nt].c(),pt[nt].m(b,null))}for(;nt<pt.length;nt+=1)pt[nt].d(1);pt.length=ee.length}if(ut&36&&H!==(H=t[5]-t[2]+"")&&ft(M,H),ut&10){At=t[1].sort(Ln).filter(Rn);let nt;for(nt=0;nt<At.length;nt+=1){const Tt=mn(t,At,nt);xt[nt]?xt[nt].p(Tt,ut):(xt[nt]=Nn(Tt),xt[nt].c(),xt[nt].m(N,null))}for(;nt<xt.length;nt+=1)xt[nt].d(1);xt.length=At.length}},d(W){yt&&yt.d(W),W&&p(e),W&&p(r),W&&p(n),W&&p(l),W&&p(w),Et&&Et.d(W),W&&p(d),W&&p(y),Xt(pt,W),Xt(xt,W),W&&p(mt),W&&p(wt),W&&p(fe),W&&p(qt),$t=!1,ge(te)}}}function xn(t){let e,r;return{c(){e=x("div"),r=O("มีฝ่ายค้านเกินครึ่งของ ส.ส.!"),this.h()},l(n){e=k(n,"DIV",{class:!0,style:!0});var l=g(e);r=q(l,"มีฝ่ายค้านเกินครึ่งของ ส.ส.!"),l.forEach(p),this.h()},h(){u(e,"class","typo-b6 font-bold text-center mt-4"),lt(e,"color","#FF6161")},m(n,l){Q(n,e,l),c(e,r)},d(n){n&&p(e)}}}function kn(t){let e,r,n,l,o,i,s,a,f,h=vr-t[2]+"",_,v;return{c(){e=x("div"),r=et("svg"),n=et("rect"),l=et("path"),o=R(),i=x("h5"),s=O("ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),a=R(),f=x("h5"),_=O(h),v=O("+"),this.h()},l(m){e=k(m,"DIV",{class:!0,style:!0});var w=g(e);r=rt(w,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var d=g(r);n=rt(d,"rect",{width:!0,height:!0,rx:!0,fill:!0}),g(n).forEach(p),l=rt(d,"path",{d:!0,fill:!0}),g(l).forEach(p),d.forEach(p),o=S(w),i=k(w,"H5",{class:!0});var y=g(i);s=q(y,"ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),y.forEach(p),a=S(w),f=k(w,"H5",{class:!0});var b=g(f);_=q(b,h),v=q(b,"+"),b.forEach(p),w.forEach(p),this.h()},h(){u(n,"width","24"),u(n,"height","24"),u(n,"rx","12"),u(n,"fill","#D09D03"),u(l,"d","M11.5778 13.42L10.9198 9.444V6.728H13.1038V9.444L12.4598 13.42H11.5778ZM11.9978 16.668C11.5498 16.668 11.2278 16.5653 11.0318 16.36C10.8451 16.1547 10.7518 15.9027 10.7518 15.604V15.268C10.7518 14.9693 10.8451 14.7173 11.0318 14.512C11.2278 14.3067 11.5498 14.204 11.9978 14.204C12.4458 14.204 12.7631 14.3067 12.9498 14.512C13.1458 14.7173 13.2438 14.9693 13.2438 15.268V15.604C13.2438 15.9027 13.1458 16.1547 12.9498 16.36C12.7631 16.5653 12.4458 16.668 11.9978 16.668Z"),u(l,"fill","#231F20"),u(r,"width","24"),u(r,"height","24"),u(r,"viewBox","0 0 24 24"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(r,"class","mr-2"),u(i,"class","typo-b5 flex-1"),u(f,"class","typo-b4 font-bold ml-2"),u(e,"class","w-full py-3 px-5 flex items-center mb-5"),lt(e,"background-color","#3D3D3D")},m(m,w){Q(m,e,w),c(e,r),c(r,n),c(r,l),c(e,o),c(e,i),c(i,s),c(e,a),c(e,f),c(f,_),c(f,v)},p(m,w){w&4&&h!==(h=vr-m[2]+"")&&ft(_,h)},d(m){m&&p(e)}}}function In(t){let e,r,n,l,o=t[15].Name+"",i,s,a,f=t[16]+"",h,_,v,m,w,d,y,b,I,P,z,A,D,$,Z;function J(){return t[13](t[15])}return{c(){e=x("div"),r=x("span"),n=x("span"),l=R(),i=O(o),s=R(),a=x("h5"),h=O(f),_=R(),v=x("button"),m=et("svg"),w=et("g"),d=et("path"),y=et("defs"),b=et("clipPath"),I=et("rect"),P=R(),z=x("span"),A=O("เปลี่ยนขั้ว"),D=R(),this.h()},l(G){e=k(G,"DIV",{class:!0,style:!0});var K=g(e);r=k(K,"SPAN",{class:!0});var B=g(r);n=k(B,"SPAN",{class:!0,style:!0}),g(n).forEach(p),l=S(B),i=q(B,o),B.forEach(p),s=S(K),a=k(K,"H5",{class:!0});var tt=g(a);h=q(tt,f),tt.forEach(p),_=S(K),v=k(K,"BUTTON",{class:!0});var E=g(v);m=rt(E,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var L=g(m);w=rt(L,"g",{"clip-path":!0});var N=g(w);d=rt(N,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(d).forEach(p),N.forEach(p),y=rt(L,"defs",{});var C=g(y);b=rt(C,"clipPath",{id:!0});var X=g(b);I=rt(X,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(I).forEach(p),X.forEach(p),C.forEach(p),L.forEach(p),P=S(E),z=k(E,"SPAN",{class:!0});var U=g(z);A=q(U,"เปลี่ยนขั้ว"),U.forEach(p),E.forEach(p),D=S(K),K.forEach(p),this.h()},h(){u(n,"class","w-4 h-4 mr-2 inline-block"),lt(n,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),u(r,"class","typo-b5 w-full flex items-center md:w-1/2 mb-2 md:mb-0"),u(a,"class","typo-b5 opacity-70 flex-1 w-2/12 ml-6 md:ml-0"),u(d,"fill-rule","evenodd"),u(d,"clip-rule","evenodd"),u(d,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(d,"fill","white"),u(w,"clip-path","url(#clip0_1694_52664)"),u(I,"width","19.2"),u(I,"height","19.2"),u(I,"fill","white"),u(I,"transform","translate(0.399902 0.399902)"),u(b,"id","clip0_1694_52664"),u(m,"width","20"),u(m,"height","20"),u(m,"viewBox","0 0 20 20"),u(m,"fill","none"),u(m,"xmlns","http://www.w3.org/2000/svg"),u(m,"class","mr-1"),u(z,"class","hidden md:block"),u(v,"class","typo-b5 w-4/12 flex justify-end items-center cursor-pointer"),u(e,"class","flex flex-wrap items-center border-b border-opacity-40 pb-[10px] mt-[10px]"),lt(e,"border-color","rgba(255, 255, 255, 0.4)")},m(G,K){Q(G,e,K),c(e,r),c(r,n),c(r,l),c(r,i),c(e,s),c(e,a),c(a,h),c(e,_),c(e,v),c(v,m),c(m,w),c(w,d),c(m,y),c(y,b),c(b,I),c(v,P),c(v,z),c(z,A),c(e,D),$||(Z=gt(v,"click",J),$=!0)},p(G,K){t=G,K&1&&lt(n,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),K&1&&o!==(o=t[15].Name+"")&&ft(i,o),K&1&&f!==(f=t[16]+"")&&ft(h,f)},d(G){G&&p(e),$=!1,Z()}}}function Nn(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w=t[16]+"",d,y,b,I=t[15].Name+"",P,z,A,D,$,Z;function J(){return t[14](t[15])}return{c(){e=x("div"),r=x("button"),n=et("svg"),l=et("g"),o=et("path"),i=et("defs"),s=et("clipPath"),a=et("rect"),f=R(),h=x("span"),_=O("เปลี่ยนขั้ว"),v=R(),m=x("h5"),d=O(w),y=R(),b=x("span"),P=O(I),z=R(),A=x("span"),D=R(),this.h()},l(G){e=k(G,"DIV",{class:!0,style:!0});var K=g(e);r=k(K,"BUTTON",{class:!0});var B=g(r);n=rt(B,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var tt=g(n);l=rt(tt,"g",{"clip-path":!0});var E=g(l);o=rt(E,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(o).forEach(p),E.forEach(p),i=rt(tt,"defs",{});var L=g(i);s=rt(L,"clipPath",{id:!0});var N=g(s);a=rt(N,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(a).forEach(p),N.forEach(p),L.forEach(p),tt.forEach(p),f=S(B),h=k(B,"SPAN",{class:!0});var C=g(h);_=q(C,"เปลี่ยนขั้ว"),C.forEach(p),B.forEach(p),v=S(K),m=k(K,"H5",{class:!0});var X=g(m);d=q(X,w),X.forEach(p),y=S(K),b=k(K,"SPAN",{class:!0});var U=g(b);P=q(U,I),z=S(U),A=k(U,"SPAN",{class:!0,style:!0}),g(A).forEach(p),U.forEach(p),D=S(K),K.forEach(p),this.h()},h(){u(o,"fill-rule","evenodd"),u(o,"clip-rule","evenodd"),u(o,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(o,"fill","white"),u(l,"clip-path","url(#clip0_1694_52664)"),u(a,"width","19.2"),u(a,"height","19.2"),u(a,"fill","white"),u(a,"transform","translate(0.399902 0.399902)"),u(s,"id","clip0_1694_52664"),u(n,"width","20"),u(n,"height","20"),u(n,"viewBox","0 0 20 20"),u(n,"fill","none"),u(n,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","mr-1"),u(h,"class","hidden md:block"),u(r,"class","typo-b5 w-4/12 flex items-center cursor-pointer flex-1"),u(m,"class","typo-b5 opacity-70 w-2/12 mr-6 md:mr-0"),u(A,"class","w-4 h-4 ml-2 inline-block"),lt(A,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),u(b,"class","typo-b5 w-full md:w-1/2 flex justify-end mb-2 md:mb-0 items-center"),u(e,"class","flex items-center border-b border-opacity-40 pb-[10px] mt-[10px] flex-wrap-reverse"),lt(e,"border-color","rgba(255, 255, 255, 0.4)")},m(G,K){Q(G,e,K),c(e,r),c(r,n),c(n,l),c(l,o),c(n,i),c(i,s),c(s,a),c(r,f),c(r,h),c(h,_),c(e,v),c(e,m),c(m,d),c(e,y),c(e,b),c(b,P),c(b,z),c(b,A),c(e,D),$||(Z=gt(r,"click",J),$=!0)},p(G,K){t=G,K&2&&w!==(w=t[16]+"")&&ft(d,w),K&2&&I!==(I=t[15].Name+"")&&ft(P,I),K&2&&lt(A,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat")},d(G){G&&p(e),$=!1,Z()}}}function Bi(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,b,I,P,z,A,D,$,Z=t[5]-t[2]+"",J,G,K,B,tt,E,L,N,C;function X(T,V){return T[7]?zi:Ai}let U=X(t),F=U(t),j=[...t[0].sort(Pn).filter(Cn),...t[1].sort(Tn).filter(Vn)],H=[];for(let T=0;T<j.length;T+=1)H[T]=bn(wn(t,j,T));v=new Si({props:{label:"ตั้งรัฐบาล",style:"right: 50%;"}});let M=t[7]&&En(t);return{c(){e=x("div"),r=x("div"),F.c(),n=R(),l=x("p"),o=O("จัดตั้งรัฐบาล"),s=R(),a=x("div");for(let T=0;T<H.length;T+=1)H[T].c();f=R(),h=x("div"),_=R(),Bt(v.$$.fragment),w=R(),d=x("div"),y=x("div"),b=x("div"),I=O(`
				รัฐบาล (`),P=O(t[2]),z=O(")"),A=R(),D=x("div"),$=O("ฝ่ายค้าน ("),J=O(Z),G=O(`)
				`),K=x("div"),B=x("div"),tt=R(),M&&M.c(),this.h()},l(T){e=k(T,"DIV",{class:!0,style:!0});var V=g(e);r=k(V,"DIV",{class:!0});var Y=g(r);F.l(Y),n=S(Y),l=k(Y,"P",{class:!0});var st=g(l);o=q(st,"จัดตั้งรัฐบาล"),st.forEach(p),s=S(Y),a=k(Y,"DIV",{class:!0});var ot=g(a);for(let bt=0;bt<H.length;bt+=1)H[bt].l(ot);f=S(ot),h=k(ot,"DIV",{class:!0,style:!0}),g(h).forEach(p),_=S(ot),Ht(v.$$.fragment,ot),ot.forEach(p),w=S(Y),d=k(Y,"DIV",{class:!0});var dt=g(d);y=k(dt,"DIV",{class:!0});var kt=g(y);b=k(kt,"DIV",{class:!0,style:!0}),g(b).forEach(p),I=q(kt,`
				รัฐบาล (`),P=q(kt,t[2]),z=q(kt,")"),kt.forEach(p),A=S(dt),D=k(dt,"DIV",{class:!0});var mt=g(D);$=q(mt,"ฝ่ายค้าน ("),J=q(mt,Z),G=q(mt,`)
				`),K=k(mt,"DIV",{class:!0,style:!0});var wt=g(K);B=k(wt,"DIV",{class:!0}),g(B).forEach(p),wt.forEach(p),mt.forEach(p),dt.forEach(p),tt=S(Y),M&&M.l(Y),Y.forEach(p),V.forEach(p),this.h()},h(){u(l,"class",i=(t[7]?"typo-h6":"typo-b3")+" text-white font-bold"),u(h,"class","absolute top-0 bottom-0 right-0 stripe-white"),lt(h,"left",t[2]/t[5]*100+"%"),lt(h,"pointer-events","none"),lt(h,"border-left","1px solid white"),u(a,"class",m="flex flex-row h-6 relative "+(t[7]?"mt-[30px]":"")),u(b,"class","w-4 h-4 mr-2"),lt(b,"background-color","#CCCCCC"),u(y,"class","flex space-x-1 items-center"),u(B,"class","stripe-white w-full h-full"),u(K,"class","w-4 h-4 ml-2"),lt(K,"background-color","#CCCCCC"),u(D,"class","flex space-x-1 items-center"),u(d,"class","flex items-center justify-between text-white typo-b6 mt-2"),u(r,"class",E="flex flex-col px-6 w-full max-w-[698px] relative transition-all duration-300 "+(t[7]?"mt-10":"")),u(e,"class",L="w-100 h-28 bg-black pt-5 flex flex-col items-center text-white transition-all duration-300 bottom-0 fixed w-full "+(t[7]?"fixed mt-1 overflow-y-scroll scrollbar-hide pb-[154px]":"")),u(e,"style",N=t[7]?"height: calc(100% - 0.25rem)":"")},m(T,V){Q(T,e,V),c(e,r),F.m(r,null),c(r,n),c(r,l),c(l,o),c(r,s),c(r,a);for(let Y=0;Y<H.length;Y+=1)H[Y].m(a,null);c(a,f),c(a,h),c(a,_),Ft(v,a,null),c(r,w),c(r,d),c(d,y),c(y,b),c(y,I),c(y,P),c(y,z),c(d,A),c(d,D),c(D,$),c(D,J),c(D,G),c(D,K),c(K,B),c(r,tt),M&&M.m(r,null),C=!0},p(T,[V]){if(U===(U=X(T))&&F?F.p(T,V):(F.d(1),F=U(T),F&&(F.c(),F.m(r,n))),(!C||V&128&&i!==(i=(T[7]?"typo-h6":"typo-b3")+" text-white font-bold"))&&u(l,"class",i),V&99){j=[...T[0].sort(Pn).filter(Cn),...T[1].sort(Tn).filter(Vn)];let Y;for(Y=0;Y<j.length;Y+=1){const st=wn(T,j,Y);H[Y]?H[Y].p(st,V):(H[Y]=bn(st),H[Y].c(),H[Y].m(a,f))}for(;Y<H.length;Y+=1)H[Y].d(1);H.length=j.length}(!C||V&36)&&lt(h,"left",T[2]/T[5]*100+"%"),(!C||V&128&&m!==(m="flex flex-row h-6 relative "+(T[7]?"mt-[30px]":"")))&&u(a,"class",m),(!C||V&4)&&ft(P,T[2]),(!C||V&36)&&Z!==(Z=T[5]-T[2]+"")&&ft(J,Z),T[7]?M?M.p(T,V):(M=En(T),M.c(),M.m(r,null)):M&&(M.d(1),M=null),(!C||V&128&&E!==(E="flex flex-col px-6 w-full max-w-[698px] relative transition-all duration-300 "+(T[7]?"mt-10":"")))&&u(r,"class",E),(!C||V&128&&L!==(L="w-100 h-28 bg-black pt-5 flex flex-col items-center text-white transition-all duration-300 bottom-0 fixed w-full "+(T[7]?"fixed mt-1 overflow-y-scroll scrollbar-hide pb-[154px]":"")))&&u(e,"class",L),(!C||V&128&&N!==(N=T[7]?"height: calc(100% - 0.25rem)":""))&&u(e,"style",N)},i(T){C||(ht(v.$$.fragment,T),C=!0)},o(T){vt(v.$$.fragment,T),C=!1},d(T){T&&p(e),F.d(),Xt(H,T),Ot(v),M&&M.d()}}}const vr=376,Pn=(t,e)=>e.total-t.total,Cn=t=>t.total>0,Tn=(t,e)=>e.total-t.total,Vn=t=>t.total>0,Dn=(t,e)=>e.total-t.total,Mn=t=>t.total>0,Ln=(t,e)=>e.total-t.total,Rn=t=>t.total>0;function Hi(t,e,r){let n,{representativeRecord:l}=e,{governmentParties:o}=e,{oppositionParties:i}=e,{governmentPoints:s}=e,{toggleSide:a}=e,{toggleIsShare:f}=e,h=null,_=!1;const v=()=>r(7,_=!_),m=I=>r(6,h=I),w=()=>r(6,h=null),d=()=>a(),y=I=>a(I.Name),b=I=>a(I.Name);return t.$$set=I=>{"representativeRecord"in I&&r(9,l=I.representativeRecord),"governmentParties"in I&&r(0,o=I.governmentParties),"oppositionParties"in I&&r(1,i=I.oppositionParties),"governmentPoints"in I&&r(2,s=I.governmentPoints),"toggleSide"in I&&r(3,a=I.toggleSide),"toggleIsShare"in I&&r(4,f=I.toggleIsShare)},t.$$.update=()=>{t.$$.dirty&512&&r(5,n=l.reduce((I,P)=>I+P.total,0)),t.$$.dirty&44&&n/2>s&&a()},[o,i,s,a,f,n,h,_,v,l,m,w,d,y,b]}class Fi extends Kt{constructor(e){super(),Wt(this,e,Hi,Bi,Qt,{representativeRecord:9,governmentParties:0,oppositionParties:1,governmentPoints:2,toggleSide:3,toggleIsShare:4})}}function Sn(t,e,r){const n=t.slice();return n[9]=e[r].party,n[10]=e[r].fromDistrict,n[11]=e[r].fromPartylist,n[12]=e[r].total,n}function An(t){let e;function r(o,i){return o[12]>o[3][o[9].Name]?Ui:o[12]<o[3][o[9].Name]?qi:Oi}let n=r(t),l=n(t);return{c(){l.c(),e=Me()},l(o){l.l(o),e=Me()},m(o,i){l.m(o,i),Q(o,e,i)},p(o,i){n!==(n=r(o))&&(l.d(1),l=n(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&p(e)}}}function Oi(t){let e;return{c(){e=x("div"),this.h()},l(r){e=k(r,"DIV",{class:!0}),g(e).forEach(p),this.h()},h(){u(e,"class","w-[16px] h-[17px]")},m(r,n){Q(r,e,n)},d(r){r&&p(e)}}}function qi(t){let e,r;return{c(){e=et("svg"),r=et("path"),this.h()},l(n){e=rt(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=g(e);r=rt(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(r).forEach(p),l.forEach(p),this.h()},h(){u(r,"fill-rule","evenodd"),u(r,"clip-rule","evenodd"),u(r,"d","M13 9L12.295 8.295L8.5 12.085L8.5 2.5L7.5 2.5L7.5 12.085L3.705 8.295L3 9L8 14L13 9Z"),u(r,"fill","#FF0000"),u(e,"width","16"),u(e,"height","17"),u(e,"viewBox","0 0 16 17"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){Q(n,e,l),c(e,r)},d(n){n&&p(e)}}}function Ui(t){let e,r;return{c(){e=et("svg"),r=et("path"),this.h()},l(n){e=rt(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=g(e);r=rt(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(r).forEach(p),l.forEach(p),this.h()},h(){u(r,"fill-rule","evenodd"),u(r,"clip-rule","evenodd"),u(r,"d","M3 7.5L3.705 8.205L7.5 4.415V14H8.5V4.415L12.295 8.205L13 7.5L8 2.5L3 7.5Z"),u(r,"fill","#1FE43F"),u(e,"width","16"),u(e,"height","17"),u(e,"viewBox","0 0 16 17"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){Q(n,e,l),c(e,r)},d(n){n&&p(e)}}}function zn(t){let e,r,n=t[9].Name+"",l,o,i,s=t[10]+"",a,f,h,_=t[11]+"",v,m,w,d=t[12]+"",y,b,I,P,z,A,D,$,Z=t[0]===t[4].Elect66&&An(t);return{c(){e=x("div"),r=x("div"),l=O(n),o=R(),i=x("div"),a=O(s),f=R(),h=x("div"),v=O(_),m=R(),w=x("div"),y=O(d),b=R(),Z&&Z.c(),I=R(),P=x("div"),z=x("div"),A=R(),D=x("div"),$=R(),this.h()},l(J){e=k(J,"DIV",{class:!0});var G=g(e);r=k(G,"DIV",{class:!0});var K=g(r);l=q(K,n),K.forEach(p),o=S(G),i=k(G,"DIV",{class:!0});var B=g(i);a=q(B,s),B.forEach(p),f=S(G),h=k(G,"DIV",{class:!0});var tt=g(h);v=q(tt,_),tt.forEach(p),m=S(G),w=k(G,"DIV",{class:!0});var E=g(w);y=q(E,d),b=S(E),Z&&Z.l(E),E.forEach(p),G.forEach(p),I=S(J),P=k(J,"DIV",{class:!0});var L=g(P);z=k(L,"DIV",{class:!0,style:!0}),g(z).forEach(p),A=S(L),D=k(L,"DIV",{class:!0,style:!0}),g(D).forEach(p),$=S(L),L.forEach(p),this.h()},h(){u(r,"class","typo-b6 flex-1"),u(i,"class","typo-b6 w-[92px] text-right"),u(h,"class","typo-b6 w-[80px] md:w-[102px] text-right"),u(w,"class","typo-b6 w-16 md:w-[72px] text-right items-start md:items-center justify-end flex"),u(e,"class","flex mt-2 md:mt-5"),u(z,"class","h-4 mt-1 transition-all duration-300"),lt(z,"width",t[12]/t[2].total*100+"%"),lt(z,"background-color",t[9].Color),u(D,"class","absolute top-0 bottom-0 right-0 stripe-white transition-all duration-300"),lt(D,"left",t[10]/t[2].total*100+"%"),lt(D,"pointer-events","none"),lt(D,"border-left","1px solid white"),u(P,"class","flex flex-row relative")},m(J,G){Q(J,e,G),c(e,r),c(r,l),c(e,o),c(e,i),c(i,a),c(e,f),c(e,h),c(h,v),c(e,m),c(e,w),c(w,y),c(w,b),Z&&Z.m(w,null),Q(J,I,G),Q(J,P,G),c(P,z),c(P,A),c(P,D),c(P,$)},p(J,G){G&2&&n!==(n=J[9].Name+"")&&ft(l,n),G&2&&s!==(s=J[10]+"")&&ft(a,s),G&2&&_!==(_=J[11]+"")&&ft(v,_),G&2&&d!==(d=J[12]+"")&&ft(y,d),J[0]===J[4].Elect66?Z?Z.p(J,G):(Z=An(J),Z.c(),Z.m(w,null)):Z&&(Z.d(1),Z=null),G&6&&lt(z,"width",J[12]/J[2].total*100+"%"),G&2&&lt(z,"background-color",J[9].Color),G&6&&lt(D,"left",J[10]/J[2].total*100+"%")},d(J){J&&p(e),Z&&Z.d(),J&&p(I),J&&p(P)}}}function Zi(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,b,I=t[1],P=[];for(let z=0;z<I.length;z+=1)P[z]=zn(Sn(t,I,z));return{c(){e=x("div"),r=x("div"),n=x("div"),l=O("พรรค"),o=R(),i=x("div"),s=O("ส.ส. เขต "),a=x("div"),f=R(),h=x("div"),_=O("ส.ส. บัญชีฯ "),v=x("div"),m=x("div"),w=R(),d=x("div"),y=O("รวม"),b=R();for(let z=0;z<P.length;z+=1)P[z].c();this.h()},l(z){e=k(z,"DIV",{class:!0});var A=g(e);r=k(A,"DIV",{class:!0});var D=g(r);n=k(D,"DIV",{class:!0});var $=g(n);l=q($,"พรรค"),$.forEach(p),o=S(D),i=k(D,"DIV",{class:!0});var Z=g(i);s=q(Z,"ส.ส. เขต "),a=k(Z,"DIV",{class:!0,style:!0}),g(a).forEach(p),Z.forEach(p),f=S(D),h=k(D,"DIV",{class:!0});var J=g(h);_=q(J,"ส.ส. บัญชีฯ "),v=k(J,"DIV",{class:!0,style:!0});var G=g(v);m=k(G,"DIV",{class:!0}),g(m).forEach(p),G.forEach(p),J.forEach(p),w=S(D),d=k(D,"DIV",{class:!0});var K=g(d);y=q(K,"รวม"),K.forEach(p),D.forEach(p),b=S(A);for(let B=0;B<P.length;B+=1)P[B].l(A);A.forEach(p),this.h()},h(){u(n,"class","typo-b6 font-bold flex-1"),u(a,"class","w-4 h-4 ml-2"),lt(a,"background-color","#CCCCCC"),u(i,"class","typo-b6 font-bold w-[80px] text-right items-center justify-end flex"),u(m,"class","stripe-white w-full h-full"),u(v,"class","w-4 h-4 ml-2"),lt(v,"background-color","#CCCCCC"),u(h,"class","typo-b6 font-bold w-[92px] md:w-[102px] text-right items-center justify-end flex"),u(d,"class","typo-b6 font-bold w-16 md:w-[72px] text-right"),u(r,"class","flex mt-5"),u(e,"class","w-full flex flex-col")},m(z,A){Q(z,e,A),c(e,r),c(r,n),c(n,l),c(r,o),c(r,i),c(i,s),c(i,a),c(r,f),c(r,h),c(h,_),c(h,v),c(v,m),c(r,w),c(r,d),c(d,y),c(e,b);for(let D=0;D<P.length;D+=1)P[D].m(e,null)},p(z,[A]){if(A&31){I=z[1];let D;for(D=0;D<I.length;D+=1){const $=Sn(z,I,D);P[D]?P[D].p($,A):(P[D]=zn($),P[D].c(),P[D].m(e,null))}for(;D<P.length;D+=1)P[D].d(1);P.length=I.length}},i:Ct,o:Ct,d(z){z&&p(e),Xt(P,z)}}}const Bn=5;function Xi(t,e,r){let n,l,o,{representativeRecord:i}=e,{elect62Record:s}=e,{year:a}=e;const f={Name:"อื่นๆ",Color:"#CCCCCC"},h=s.reduce((v,m)=>(v[m.party.Name]=m.total,v),{});var _=(v=>(v.Elect66="elect66",v.Elect62="elect62",v))(_||{});return t.$$set=v=>{"representativeRecord"in v&&r(5,i=v.representativeRecord),"elect62Record"in v&&r(6,s=v.elect62Record),"year"in v&&r(0,a=v.year)},t.$$.update=()=>{t.$$.dirty&32&&r(2,n=i.reduce((v,m)=>v.total>m.total?v:m)),t.$$.dirty&32&&r(7,l=i.reduce((v,{fromDistrict:m,fromPartylist:w,total:d})=>(d<=Bn&&(v.fromDistrict+=m,v.fromPartylist+=w,v.total+=d),v),{party:f,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&160&&r(1,o=[...i.filter(v=>v.total>Bn),l])},[a,o,n,h,_,i,s,l]}class Gi extends Kt{constructor(e){super(),Wt(this,e,Xi,Zi,Qt,{representativeRecord:5,elect62Record:6,year:0})}}function Yi(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w;return _=new Gi({props:{year:t[2],representativeRecord:t[1],elect62Record:t[0]}}),{c(){e=x("div"),r=x("button"),n=O("แบบจำลองผลปี 66 ของคุณ"),o=R(),i=x("button"),s=O("ผลเลือกตั้ง 62"),f=R(),h=x("div"),Bt(_.$$.fragment),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"BUTTON",{class:!0});var b=g(r);n=q(b,"แบบจำลองผลปี 66 ของคุณ"),b.forEach(p),o=S(y),i=k(y,"BUTTON",{class:!0});var I=g(i);s=q(I,"ผลเลือกตั้ง 62"),I.forEach(p),y.forEach(p),f=S(d),h=k(d,"DIV",{class:!0});var P=g(h);Ht(_.$$.fragment,P),P.forEach(p),this.h()},h(){u(r,"class",l="typo-b6 py-[5px] px-[10px] border border-black "+(t[2]===t[3].Elect66?"bg-black text-white":"")),u(i,"class",a="typo-b6 py-[5px] px-[10px] border border-black "+(t[2]===t[3].Elect62?"bg-black text-white":"")),u(e,"class","flex gap-x-[10px] mt-5"),u(h,"class","w-full mb-[172px]")},m(d,y){Q(d,e,y),c(e,r),c(r,n),c(e,o),c(e,i),c(i,s),Q(d,f,y),Q(d,h,y),Ft(_,h,null),v=!0,m||(w=[gt(r,"click",t[6]),gt(i,"click",t[7])],m=!0)},p(d,[y]){(!v||y&4&&l!==(l="typo-b6 py-[5px] px-[10px] border border-black "+(d[2]===d[3].Elect66?"bg-black text-white":"")))&&u(r,"class",l),(!v||y&4&&a!==(a="typo-b6 py-[5px] px-[10px] border border-black "+(d[2]===d[3].Elect62?"bg-black text-white":"")))&&u(i,"class",a);const b={};y&4&&(b.year=d[2]),y&2&&(b.representativeRecord=d[1]),y&1&&(b.elect62Record=d[0]),_.$set(b)},i(d){v||(ht(_.$$.fragment,d),v=!0)},o(d){vt(_.$$.fragment,d),v=!1},d(d){d&&p(e),d&&p(f),d&&p(h),Ot(_),m=!1,ge(w)}}}function Ki(t,e,r){let n,l,{elect66Record:o}=e,{elect62Record:i}=e;var s=(_=>(_.Elect66="elect66",_.Elect62="elect62",_))(s||{});const a=_=>{r(2,n=_),_==="elect66"?r(1,l=o):r(1,l=i)},f=()=>a(s.Elect66),h=()=>a(s.Elect62);return t.$$set=_=>{"elect66Record"in _&&r(5,o=_.elect66Record),"elect62Record"in _&&r(0,i=_.elect62Record)},t.$$.update=()=>{t.$$.dirty&32&&r(1,l=o)},r(2,n="elect66"),[i,l,n,s,a,o,f,h]}class Wi extends Kt{constructor(e){super(),Wt(this,e,Ki,Yi,Qt,{elect66Record:5,elect62Record:0})}}var Qi={value:()=>{}};function Wr(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new fr(r)}function fr(t){this._=t}function Ji(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",l=r.indexOf(".");if(l>=0&&(n=r.slice(l+1),r=r.slice(0,l)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}fr.prototype=Wr.prototype={constructor:fr,on:function(t,e){var r=this._,n=Ji(t+"",r),l,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((l=(t=n[o]).type)&&(l=ji(r[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<i;)if(l=(t=n[o]).type)r[l]=Hn(r[l],t.name,e);else if(e==null)for(l in r)r[l]=Hn(r[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new fr(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var r=new Array(l),n=0,l,o;n<l;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,l=o.length;n<l;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],l=0,o=n.length;l<o;++l)n[l].value.apply(e,r)}};function ji(t,e){for(var r=0,n=t.length,l;r<n;++r)if((l=t[r]).name===e)return l.value}function Hn(t,e,r){for(var n=0,l=t.length;n<l;++n)if(t[n].name===e){t[n]=Qi,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var zr="http://www.w3.org/1999/xhtml";const Fn={svg:"http://www.w3.org/2000/svg",xhtml:zr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kr(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Fn.hasOwnProperty(e)?{space:Fn[e],local:t}:t}function $i(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===zr&&e.documentElement.namespaceURI===zr?e.createElement(t):e.createElementNS(r,t)}}function to(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Al(t){var e=kr(t);return(e.local?to:$i)(e)}function eo(){}function Qr(t){return t==null?eo:function(){return this.querySelector(t)}}function ro(t){typeof t!="function"&&(t=Qr(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,s=n[l]=new Array(i),a,f,h=0;h<i;++h)(a=o[h])&&(f=t.call(a,a.__data__,h,o))&&("__data__"in a&&(f.__data__=a.__data__),s[h]=f);return new Dt(n,this._parents)}function zl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function no(){return[]}function Bl(t){return t==null?no:function(){return this.querySelectorAll(t)}}function lo(t){return function(){return zl(t.apply(this,arguments))}}function io(t){typeof t=="function"?t=lo(t):t=Bl(t);for(var e=this._groups,r=e.length,n=[],l=[],o=0;o<r;++o)for(var i=e[o],s=i.length,a,f=0;f<s;++f)(a=i[f])&&(n.push(t.call(a,a.__data__,f,i)),l.push(a));return new Dt(n,l)}function Hl(t){return function(){return this.matches(t)}}function Fl(t){return function(e){return e.matches(t)}}var oo=Array.prototype.find;function so(t){return function(){return oo.call(this.children,t)}}function ao(){return this.firstElementChild}function uo(t){return this.select(t==null?ao:so(typeof t=="function"?t:Fl(t)))}var co=Array.prototype.filter;function fo(){return Array.from(this.children)}function ho(t){return function(){return co.call(this.children,t)}}function po(t){return this.selectAll(t==null?fo:ho(typeof t=="function"?t:Fl(t)))}function _o(t){typeof t!="function"&&(t=Hl(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,s=n[l]=[],a,f=0;f<i;++f)(a=o[f])&&t.call(a,a.__data__,f,o)&&s.push(a);return new Dt(n,this._parents)}function Ol(t){return new Array(t.length)}function vo(){return new Dt(this._enter||this._groups.map(Ol),this._parents)}function mr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}mr.prototype={constructor:mr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mo(t){return function(){return t}}function go(t,e,r,n,l,o){for(var i=0,s,a=e.length,f=o.length;i<f;++i)(s=e[i])?(s.__data__=o[i],n[i]=s):r[i]=new mr(t,o[i]);for(;i<a;++i)(s=e[i])&&(l[i]=s)}function wo(t,e,r,n,l,o,i){var s,a,f=new Map,h=e.length,_=o.length,v=new Array(h),m;for(s=0;s<h;++s)(a=e[s])&&(v[s]=m=i.call(a,a.__data__,s,e)+"",f.has(m)?l[s]=a:f.set(m,a));for(s=0;s<_;++s)m=i.call(t,o[s],s,o)+"",(a=f.get(m))?(n[s]=a,a.__data__=o[s],f.delete(m)):r[s]=new mr(t,o[s]);for(s=0;s<h;++s)(a=e[s])&&f.get(v[s])===a&&(l[s]=a)}function yo(t){return t.__data__}function bo(t,e){if(!arguments.length)return Array.from(this,yo);var r=e?wo:go,n=this._parents,l=this._groups;typeof t!="function"&&(t=mo(t));for(var o=l.length,i=new Array(o),s=new Array(o),a=new Array(o),f=0;f<o;++f){var h=n[f],_=l[f],v=_.length,m=Eo(t.call(h,h&&h.__data__,f,n)),w=m.length,d=s[f]=new Array(w),y=i[f]=new Array(w),b=a[f]=new Array(v);r(h,_,d,y,b,m,e);for(var I=0,P=0,z,A;I<w;++I)if(z=d[I]){for(I>=P&&(P=I+1);!(A=y[P])&&++P<w;);z._next=A||null}}return i=new Dt(i,n),i._enter=s,i._exit=a,i}function Eo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xo(){return new Dt(this._exit||this._groups.map(Ol),this._parents)}function ko(t,e,r){var n=this.enter(),l=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),r==null?o.remove():r(o),n&&l?n.merge(l).order():l}function Io(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,l=r.length,o=n.length,i=Math.min(l,o),s=new Array(l),a=0;a<i;++a)for(var f=r[a],h=n[a],_=f.length,v=s[a]=new Array(_),m,w=0;w<_;++w)(m=f[w]||h[w])&&(v[w]=m);for(;a<l;++a)s[a]=r[a];return new Dt(s,this._parents)}function No(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],l=n.length-1,o=n[l],i;--l>=0;)(i=n[l])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function Po(t){t||(t=Co);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var r=this._groups,n=r.length,l=new Array(n),o=0;o<n;++o){for(var i=r[o],s=i.length,a=l[o]=new Array(s),f,h=0;h<s;++h)(f=i[h])&&(a[h]=f);a.sort(e)}return new Dt(l,this._parents).order()}function Co(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function To(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Vo(){return Array.from(this)}function Do(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],l=0,o=n.length;l<o;++l){var i=n[l];if(i)return i}return null}function Mo(){let t=0;for(const e of this)++t;return t}function Lo(){return!this.node()}function Ro(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var l=e[r],o=0,i=l.length,s;o<i;++o)(s=l[o])&&t.call(s,s.__data__,o,l);return this}function So(t){return function(){this.removeAttribute(t)}}function Ao(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zo(t,e){return function(){this.setAttribute(t,e)}}function Bo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ho(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Fo(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Oo(t,e){var r=kr(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Ao:So:typeof e=="function"?r.local?Fo:Ho:r.local?Bo:zo)(r,e))}function ql(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qo(t){return function(){this.style.removeProperty(t)}}function Uo(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Zo(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Xo(t,e,r){return arguments.length>1?this.each((e==null?qo:typeof e=="function"?Zo:Uo)(t,e,r??"")):Ae(this.node(),t)}function Ae(t,e){return t.style.getPropertyValue(e)||ql(t).getComputedStyle(t,null).getPropertyValue(e)}function Go(t){return function(){delete this[t]}}function Yo(t,e){return function(){this[t]=e}}function Ko(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Wo(t,e){return arguments.length>1?this.each((e==null?Go:typeof e=="function"?Ko:Yo)(t,e)):this.node()[t]}function Ul(t){return t.trim().split(/^|\s+/)}function Jr(t){return t.classList||new Zl(t)}function Zl(t){this._node=t,this._names=Ul(t.getAttribute("class")||"")}Zl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xl(t,e){for(var r=Jr(t),n=-1,l=e.length;++n<l;)r.add(e[n])}function Gl(t,e){for(var r=Jr(t),n=-1,l=e.length;++n<l;)r.remove(e[n])}function Qo(t){return function(){Xl(this,t)}}function Jo(t){return function(){Gl(this,t)}}function jo(t,e){return function(){(e.apply(this,arguments)?Xl:Gl)(this,t)}}function $o(t,e){var r=Ul(t+"");if(arguments.length<2){for(var n=Jr(this.node()),l=-1,o=r.length;++l<o;)if(!n.contains(r[l]))return!1;return!0}return this.each((typeof e=="function"?jo:e?Qo:Jo)(r,e))}function ts(){this.textContent=""}function es(t){return function(){this.textContent=t}}function rs(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ns(t){return arguments.length?this.each(t==null?ts:(typeof t=="function"?rs:es)(t)):this.node().textContent}function ls(){this.innerHTML=""}function is(t){return function(){this.innerHTML=t}}function os(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ss(t){return arguments.length?this.each(t==null?ls:(typeof t=="function"?os:is)(t)):this.node().innerHTML}function as(){this.nextSibling&&this.parentNode.appendChild(this)}function us(){return this.each(as)}function cs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fs(){return this.each(cs)}function hs(t){var e=typeof t=="function"?t:Al(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ds(){return null}function ps(t,e){var r=typeof t=="function"?t:Al(t),n=e==null?ds:typeof e=="function"?e:Qr(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function _s(){var t=this.parentNode;t&&t.removeChild(this)}function vs(){return this.each(_s)}function ms(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gs(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ws(t){return this.select(t?gs:ms)}function ys(t){return arguments.length?this.property("__data__",t):this.node().__data__}function bs(t){return function(e){t.call(this,e,this.__data__)}}function Es(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function xs(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,l=e.length,o;r<l;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function ks(t,e,r){return function(){var n=this.__on,l,o=bs(e);if(n){for(var i=0,s=n.length;i<s;++i)if((l=n[i]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=o,l.options=r),l.value=e;return}}this.addEventListener(t.type,o,r),l={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(l):this.__on=[l]}}function Is(t,e,r){var n=Es(t+""),l,o=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,f=s.length,h;a<f;++a)for(l=0,h=s[a];l<o;++l)if((i=n[l]).type===h.type&&i.name===h.name)return h.value}return}for(s=e?ks:xs,l=0;l<o;++l)this.each(s(n[l],e,r));return this}function Yl(t,e,r){var n=ql(t),l=n.CustomEvent;typeof l=="function"?l=new l(e,r):(l=n.document.createEvent("Event"),r?(l.initEvent(e,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function Ns(t,e){return function(){return Yl(this,t,e)}}function Ps(t,e){return function(){return Yl(this,t,e.apply(this,arguments))}}function Cs(t,e){return this.each((typeof e=="function"?Ps:Ns)(t,e))}function*Ts(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],l=0,o=n.length,i;l<o;++l)(i=n[l])&&(yield i)}var jr=[null];function Dt(t,e){this._groups=t,this._parents=e}function er(){return new Dt([[document.documentElement]],jr)}function Vs(){return this}Dt.prototype=er.prototype={constructor:Dt,select:ro,selectAll:io,selectChild:uo,selectChildren:po,filter:_o,data:bo,enter:vo,exit:xo,join:ko,merge:Io,selection:Vs,order:No,sort:Po,call:To,nodes:Vo,node:Do,size:Mo,empty:Lo,each:Ro,attr:Oo,style:Xo,property:Wo,classed:$o,text:ns,html:ss,raise:us,lower:fs,append:hs,insert:ps,remove:vs,clone:ws,datum:ys,on:Is,dispatch:Cs,[Symbol.iterator]:Ts};function _e(t){return typeof t=="string"?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],jr)}function Ds(t){let e;for(;e=t.sourceEvent;)t=e;return t}function de(t,e){if(t=Ds(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}function Ms(t){return typeof t=="string"?new Dt([document.querySelectorAll(t)],[document.documentElement]):new Dt([zl(t)],jr)}const Br={capture:!0,passive:!1};function Hr(t){t.preventDefault(),t.stopImmediatePropagation()}function Ls(t){var e=t.document.documentElement,r=_e(t).on("dragstart.drag",Hr,Br);"onselectstart"in e?r.on("selectstart.drag",Hr,Br):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Rs(t,e){var r=t.document.documentElement,n=_e(t).on("dragstart.drag",null);e&&(n.on("click.drag",Hr,Br),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function $r(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Kl(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function rr(){}var Je=.7,gr=1/Je,De="\\s*([+-]?\\d+)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ss=/^#([0-9a-f]{3,8})$/,As=new RegExp(`^rgb\\(${De},${De},${De}\\)$`),zs=new RegExp(`^rgb\\(${ne},${ne},${ne}\\)$`),Bs=new RegExp(`^rgba\\(${De},${De},${De},${je}\\)$`),Hs=new RegExp(`^rgba\\(${ne},${ne},${ne},${je}\\)$`),Fs=new RegExp(`^hsl\\(${je},${ne},${ne}\\)$`),Os=new RegExp(`^hsla\\(${je},${ne},${ne},${je}\\)$`),On={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$r(rr,$e,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qn,formatHex:qn,formatHex8:qs,formatHsl:Us,formatRgb:Un,toString:Un});function qn(){return this.rgb().formatHex()}function qs(){return this.rgb().formatHex8()}function Us(){return Wl(this).formatHsl()}function Un(){return this.rgb().formatRgb()}function $e(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ss.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Zn(e):r===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ir(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ir(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=As.exec(t))?new St(e[1],e[2],e[3],1):(e=zs.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bs.exec(t))?ir(e[1],e[2],e[3],e[4]):(e=Hs.exec(t))?ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fs.exec(t))?Yn(e[1],e[2]/100,e[3]/100,1):(e=Os.exec(t))?Yn(e[1],e[2]/100,e[3]/100,e[4]):On.hasOwnProperty(t)?Zn(On[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function Zn(t){return new St(t>>16&255,t>>8&255,t&255,1)}function ir(t,e,r,n){return n<=0&&(t=e=r=NaN),new St(t,e,r,n)}function Zs(t){return t instanceof rr||(t=$e(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function Fr(t,e,r,n){return arguments.length===1?Zs(t):new St(t,e,r,n??1)}function St(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$r(St,Fr,Kl(rr,{brighter(t){return t=t==null?gr:Math.pow(gr,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Je:Math.pow(Je,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(ke(this.r),ke(this.g),ke(this.b),wr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:Xs,formatRgb:Gn,toString:Gn}));function Xn(){return`#${xe(this.r)}${xe(this.g)}${xe(this.b)}`}function Xs(){return`#${xe(this.r)}${xe(this.g)}${xe(this.b)}${xe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gn(){const t=wr(this.opacity);return`${t===1?"rgb(":"rgba("}${ke(this.r)}, ${ke(this.g)}, ${ke(this.b)}${t===1?")":`, ${t})`}`}function wr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ke(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xe(t){return t=ke(t),(t<16?"0":"")+t.toString(16)}function Yn(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zt(t,e,r,n)}function Wl(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);if(t instanceof rr||(t=$e(t)),!t)return new Zt;if(t instanceof Zt)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,l=Math.min(e,r,n),o=Math.max(e,r,n),i=NaN,s=o-l,a=(o+l)/2;return s?(e===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-e)/s+2:i=(e-r)/s+4,s/=a<.5?o+l:2-o-l,i*=60):s=a>0&&a<1?0:i,new Zt(i,s,a,t.opacity)}function Gs(t,e,r,n){return arguments.length===1?Wl(t):new Zt(t,e,r,n??1)}function Zt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$r(Zt,Gs,Kl(rr,{brighter(t){return t=t==null?gr:Math.pow(gr,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Je:Math.pow(Je,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,l=2*r-n;return new St(Lr(t>=240?t-240:t+120,l,n),Lr(t,l,n),Lr(t<120?t+240:t-120,l,n),this.opacity)},clamp(){return new Zt(Kn(this.h),or(this.s),or(this.l),wr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wr(this.opacity);return`${t===1?"hsl(":"hsla("}${Kn(this.h)}, ${or(this.s)*100}%, ${or(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kn(t){return t=(t||0)%360,t<0?t+360:t}function or(t){return Math.max(0,Math.min(1,t||0))}function Lr(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Ql=t=>()=>t;function Ys(t,e){return function(r){return t+r*e}}function Ks(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ws(t){return(t=+t)==1?Jl:function(e,r){return r-e?Ks(e,r,t):Ql(isNaN(e)?r:e)}}function Jl(t,e){var r=e-t;return r?Ys(t,r):Ql(isNaN(t)?e:t)}const Wn=function t(e){var r=Ws(e);function n(l,o){var i=r((l=Fr(l)).r,(o=Fr(o)).r),s=r(l.g,o.g),a=r(l.b,o.b),f=Jl(l.opacity,o.opacity);return function(h){return l.r=i(h),l.g=s(h),l.b=a(h),l.opacity=f(h),l+""}}return n.gamma=t,n}(1);function pe(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Or=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rr=new RegExp(Or.source,"g");function Qs(t){return function(){return t}}function Js(t){return function(e){return t(e)+""}}function js(t,e){var r=Or.lastIndex=Rr.lastIndex=0,n,l,o,i=-1,s=[],a=[];for(t=t+"",e=e+"";(n=Or.exec(t))&&(l=Rr.exec(e));)(o=l.index)>r&&(o=e.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(l=l[0])?s[i]?s[i]+=l:s[++i]=l:(s[++i]=null,a.push({i,x:pe(n,l)})),r=Rr.lastIndex;return r<e.length&&(o=e.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?a[0]?Js(a[0].x):Qs(e):(e=a.length,function(f){for(var h=0,_;h<e;++h)s[(_=a[h]).i]=_.x(f);return s.join("")})}var Qn=180/Math.PI,qr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jl(t,e,r,n,l,o){var i,s,a;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(a=t*r+e*n)&&(r-=t*a,n-=e*a),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,a/=s),t*n<e*r&&(t=-t,e=-e,a=-a,i=-i),{translateX:l,translateY:o,rotate:Math.atan2(e,t)*Qn,skewX:Math.atan(a)*Qn,scaleX:i,scaleY:s}}var sr;function $s(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qr:jl(e.a,e.b,e.c,e.d,e.e,e.f)}function ta(t){return t==null||(sr||(sr=document.createElementNS("http://www.w3.org/2000/svg","g")),sr.setAttribute("transform",t),!(t=sr.transform.baseVal.consolidate()))?qr:(t=t.matrix,jl(t.a,t.b,t.c,t.d,t.e,t.f))}function $l(t,e,r,n){function l(f){return f.length?f.pop()+" ":""}function o(f,h,_,v,m,w){if(f!==_||h!==v){var d=m.push("translate(",null,e,null,r);w.push({i:d-4,x:pe(f,_)},{i:d-2,x:pe(h,v)})}else(_||v)&&m.push("translate("+_+e+v+r)}function i(f,h,_,v){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),v.push({i:_.push(l(_)+"rotate(",null,n)-2,x:pe(f,h)})):h&&_.push(l(_)+"rotate("+h+n)}function s(f,h,_,v){f!==h?v.push({i:_.push(l(_)+"skewX(",null,n)-2,x:pe(f,h)}):h&&_.push(l(_)+"skewX("+h+n)}function a(f,h,_,v,m,w){if(f!==_||h!==v){var d=m.push(l(m)+"scale(",null,",",null,")");w.push({i:d-4,x:pe(f,_)},{i:d-2,x:pe(h,v)})}else(_!==1||v!==1)&&m.push(l(m)+"scale("+_+","+v+")")}return function(f,h){var _=[],v=[];return f=t(f),h=t(h),o(f.translateX,f.translateY,h.translateX,h.translateY,_,v),i(f.rotate,h.rotate,_,v),s(f.skewX,h.skewX,_,v),a(f.scaleX,f.scaleY,h.scaleX,h.scaleY,_,v),f=h=null,function(m){for(var w=-1,d=v.length,y;++w<d;)_[(y=v[w]).i]=y.x(m);return _.join("")}}}var ea=$l($s,"px, ","px)","deg)"),ra=$l(ta,", ",")",")"),na=1e-12;function Jn(t){return((t=Math.exp(t))+1/t)/2}function la(t){return((t=Math.exp(t))-1/t)/2}function ia(t){return((t=Math.exp(2*t))-1)/(t+1)}const oa=function t(e,r,n){function l(o,i){var s=o[0],a=o[1],f=o[2],h=i[0],_=i[1],v=i[2],m=h-s,w=_-a,d=m*m+w*w,y,b;if(d<na)b=Math.log(v/f)/e,y=function($){return[s+$*m,a+$*w,f*Math.exp(e*$*b)]};else{var I=Math.sqrt(d),P=(v*v-f*f+n*d)/(2*f*r*I),z=(v*v-f*f-n*d)/(2*v*r*I),A=Math.log(Math.sqrt(P*P+1)-P),D=Math.log(Math.sqrt(z*z+1)-z);b=(D-A)/e,y=function($){var Z=$*b,J=Jn(A),G=f/(r*I)*(J*ia(e*Z+A)-la(A));return[s+G*m,a+G*w,f*J/Jn(e*Z+A)]}}return y.duration=b*1e3*e/Math.SQRT2,y}return l.rho=function(o){var i=Math.max(.001,+o),s=i*i,a=s*s;return t(i,s,a)},l}(Math.SQRT2,2,4);var ze=0,Ge=0,Ze=0,ti=1e3,yr,Ye,br=0,Ie=0,Ir=0,tr=typeof performance=="object"&&performance.now?performance:Date,ei=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tn(){return Ie||(ei(sa),Ie=tr.now()+Ir)}function sa(){Ie=0}function Er(){this._call=this._time=this._next=null}Er.prototype=ri.prototype={constructor:Er,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?tn():+r)+(e==null?0:+e),!this._next&&Ye!==this&&(Ye?Ye._next=this:yr=this,Ye=this),this._call=t,this._time=r,Ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ur())}};function ri(t,e,r){var n=new Er;return n.restart(t,e,r),n}function aa(){tn(),++ze;for(var t=yr,e;t;)(e=Ie-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ze}function jn(){Ie=(br=tr.now())+Ir,ze=Ge=0;try{aa()}finally{ze=0,ca(),Ie=0}}function ua(){var t=tr.now(),e=t-br;e>ti&&(Ir-=e,br=t)}function ca(){for(var t,e=yr,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:yr=r);Ye=t,Ur(n)}function Ur(t){if(!ze){Ge&&(Ge=clearTimeout(Ge));var e=t-Ie;e>24?(t<1/0&&(Ge=setTimeout(jn,t-tr.now()-Ir)),Ze&&(Ze=clearInterval(Ze))):(Ze||(br=tr.now(),Ze=setInterval(ua,ti)),ze=1,ei(jn))}}function $n(t,e,r){var n=new Er;return e=e==null?0:+e,n.restart(l=>{n.stop(),t(l+e)},e,r),n}var fa=Wr("start","end","cancel","interrupt"),ha=[],ni=0,tl=1,Zr=2,hr=3,el=4,Xr=5,dr=6;function Nr(t,e,r,n,l,o){var i=t.__transition;if(!i)t.__transition={};else if(r in i)return;da(t,r,{name:e,index:n,group:l,on:fa,tween:ha,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ni})}function en(t,e){var r=Jt(t,e);if(r.state>ni)throw new Error("too late; already scheduled");return r}function le(t,e){var r=Jt(t,e);if(r.state>hr)throw new Error("too late; already running");return r}function Jt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function da(t,e,r){var n=t.__transition,l;n[e]=r,r.timer=ri(o,0,r.time);function o(f){r.state=tl,r.timer.restart(i,r.delay,r.time),r.delay<=f&&i(f-r.delay)}function i(f){var h,_,v,m;if(r.state!==tl)return a();for(h in n)if(m=n[h],m.name===r.name){if(m.state===hr)return $n(i);m.state===el?(m.state=dr,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete n[h]):+h<e&&(m.state=dr,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete n[h])}if($n(function(){r.state===hr&&(r.state=el,r.timer.restart(s,r.delay,r.time),s(f))}),r.state=Zr,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Zr){for(r.state=hr,l=new Array(v=r.tween.length),h=0,_=-1;h<v;++h)(m=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(l[++_]=m);l.length=_+1}}function s(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(a),r.state=Xr,1),_=-1,v=l.length;++_<v;)l[_].call(t,h);r.state===Xr&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){r.state=dr,r.timer.stop(),delete n[e];for(var f in n)return;delete t.__transition}}function pr(t,e){var r=t.__transition,n,l,o=!0,i;if(r){e=e==null?null:e+"";for(i in r){if((n=r[i]).name!==e){o=!1;continue}l=n.state>Zr&&n.state<Xr,n.state=dr,n.timer.stop(),n.on.call(l?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]}o&&delete t.__transition}}function pa(t){return this.each(function(){pr(this,t)})}function _a(t,e){var r,n;return function(){var l=le(this,t),o=l.tween;if(o!==r){n=r=o;for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n=n.slice(),n.splice(i,1);break}}l.tween=n}}function va(t,e,r){var n,l;if(typeof r!="function")throw new Error;return function(){var o=le(this,t),i=o.tween;if(i!==n){l=(n=i).slice();for(var s={name:e,value:r},a=0,f=l.length;a<f;++a)if(l[a].name===e){l[a]=s;break}a===f&&l.push(s)}o.tween=l}}function ma(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Jt(this.node(),r).tween,l=0,o=n.length,i;l<o;++l)if((i=n[l]).name===t)return i.value;return null}return this.each((e==null?_a:va)(r,t,e))}function rn(t,e,r){var n=t._id;return t.each(function(){var l=le(this,n);(l.value||(l.value={}))[e]=r.apply(this,arguments)}),function(l){return Jt(l,n).value[e]}}function li(t,e){var r;return(typeof e=="number"?pe:e instanceof $e?Wn:(r=$e(e))?(e=r,Wn):js)(t,e)}function ga(t){return function(){this.removeAttribute(t)}}function wa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ya(t,e,r){var n,l=r+"",o;return function(){var i=this.getAttribute(t);return i===l?null:i===n?o:o=e(n=i,r)}}function ba(t,e,r){var n,l=r+"",o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===l?null:i===n?o:o=e(n=i,r)}}function Ea(t,e,r){var n,l,o;return function(){var i,s=r(this),a;return s==null?void this.removeAttribute(t):(i=this.getAttribute(t),a=s+"",i===a?null:i===n&&a===l?o:(l=a,o=e(n=i,s)))}}function xa(t,e,r){var n,l,o;return function(){var i,s=r(this),a;return s==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),a=s+"",i===a?null:i===n&&a===l?o:(l=a,o=e(n=i,s)))}}function ka(t,e){var r=kr(t),n=r==="transform"?ra:li;return this.attrTween(t,typeof e=="function"?(r.local?xa:Ea)(r,n,rn(this,"attr."+t,e)):e==null?(r.local?wa:ga)(r):(r.local?ba:ya)(r,n,e))}function Ia(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Na(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Pa(t,e){var r,n;function l(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&Na(t,o)),r}return l._value=e,l}function Ca(t,e){var r,n;function l(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&Ia(t,o)),r}return l._value=e,l}function Ta(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=kr(t);return this.tween(r,(n.local?Pa:Ca)(n,e))}function Va(t,e){return function(){en(this,t).delay=+e.apply(this,arguments)}}function Da(t,e){return e=+e,function(){en(this,t).delay=e}}function Ma(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Va:Da)(e,t)):Jt(this.node(),e).delay}function La(t,e){return function(){le(this,t).duration=+e.apply(this,arguments)}}function Ra(t,e){return e=+e,function(){le(this,t).duration=e}}function Sa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?La:Ra)(e,t)):Jt(this.node(),e).duration}function Aa(t,e){if(typeof e!="function")throw new Error;return function(){le(this,t).ease=e}}function za(t){var e=this._id;return arguments.length?this.each(Aa(e,t)):Jt(this.node(),e).ease}function Ba(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;le(this,t).ease=r}}function Ha(t){if(typeof t!="function")throw new Error;return this.each(Ba(this._id,t))}function Fa(t){typeof t!="function"&&(t=Hl(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,s=n[l]=[],a,f=0;f<i;++f)(a=o[f])&&t.call(a,a.__data__,f,o)&&s.push(a);return new ce(n,this._parents,this._name,this._id)}function Oa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,l=r.length,o=Math.min(n,l),i=new Array(n),s=0;s<o;++s)for(var a=e[s],f=r[s],h=a.length,_=i[s]=new Array(h),v,m=0;m<h;++m)(v=a[m]||f[m])&&(_[m]=v);for(;s<n;++s)i[s]=e[s];return new ce(i,this._parents,this._name,this._id)}function qa(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Ua(t,e,r){var n,l,o=qa(e)?en:le;return function(){var i=o(this,t),s=i.on;s!==n&&(l=(n=s).copy()).on(e,r),i.on=l}}function Za(t,e){var r=this._id;return arguments.length<2?Jt(this.node(),r).on.on(t):this.each(Ua(r,t,e))}function Xa(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Ga(){return this.on("end.remove",Xa(this._id))}function Ya(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Qr(t));for(var n=this._groups,l=n.length,o=new Array(l),i=0;i<l;++i)for(var s=n[i],a=s.length,f=o[i]=new Array(a),h,_,v=0;v<a;++v)(h=s[v])&&(_=t.call(h,h.__data__,v,s))&&("__data__"in h&&(_.__data__=h.__data__),f[v]=_,Nr(f[v],e,r,v,f,Jt(h,r)));return new ce(o,this._parents,e,r)}function Ka(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Bl(t));for(var n=this._groups,l=n.length,o=[],i=[],s=0;s<l;++s)for(var a=n[s],f=a.length,h,_=0;_<f;++_)if(h=a[_]){for(var v=t.call(h,h.__data__,_,a),m,w=Jt(h,r),d=0,y=v.length;d<y;++d)(m=v[d])&&Nr(m,e,r,d,v,w);o.push(v),i.push(h)}return new ce(o,i,e,r)}var Wa=er.prototype.constructor;function Qa(){return new Wa(this._groups,this._parents)}function Ja(t,e){var r,n,l;return function(){var o=Ae(this,t),i=(this.style.removeProperty(t),Ae(this,t));return o===i?null:o===r&&i===n?l:l=e(r=o,n=i)}}function ii(t){return function(){this.style.removeProperty(t)}}function ja(t,e,r){var n,l=r+"",o;return function(){var i=Ae(this,t);return i===l?null:i===n?o:o=e(n=i,r)}}function $a(t,e,r){var n,l,o;return function(){var i=Ae(this,t),s=r(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(t),Ae(this,t))),i===a?null:i===n&&a===l?o:(l=a,o=e(n=i,s))}}function tu(t,e){var r,n,l,o="style."+e,i="end."+o,s;return function(){var a=le(this,t),f=a.on,h=a.value[o]==null?s||(s=ii(e)):void 0;(f!==r||l!==h)&&(n=(r=f).copy()).on(i,l=h),a.on=n}}function eu(t,e,r){var n=(t+="")=="transform"?ea:li;return e==null?this.styleTween(t,Ja(t,n)).on("end.style."+t,ii(t)):typeof e=="function"?this.styleTween(t,$a(t,n,rn(this,"style."+t,e))).each(tu(this._id,t)):this.styleTween(t,ja(t,n,e),r).on("end.style."+t,null)}function ru(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function nu(t,e,r){var n,l;function o(){var i=e.apply(this,arguments);return i!==l&&(n=(l=i)&&ru(t,i,r)),n}return o._value=e,o}function lu(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,nu(t,e,r??""))}function iu(t){return function(){this.textContent=t}}function ou(t){return function(){var e=t(this);this.textContent=e??""}}function su(t){return this.tween("text",typeof t=="function"?ou(rn(this,"text",t)):iu(t==null?"":t+""))}function au(t){return function(e){this.textContent=t.call(this,e)}}function uu(t){var e,r;function n(){var l=t.apply(this,arguments);return l!==r&&(e=(r=l)&&au(l)),e}return n._value=t,n}function cu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,uu(t))}function fu(){for(var t=this._name,e=this._id,r=oi(),n=this._groups,l=n.length,o=0;o<l;++o)for(var i=n[o],s=i.length,a,f=0;f<s;++f)if(a=i[f]){var h=Jt(a,e);Nr(a,t,r,f,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ce(n,this._parents,t,r)}function hu(){var t,e,r=this,n=r._id,l=r.size();return new Promise(function(o,i){var s={value:i},a={value:function(){--l===0&&o()}};r.each(function(){var f=le(this,n),h=f.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(a)),f.on=e}),l===0&&o()})}var du=0;function ce(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function oi(){return++du}var ae=er.prototype;ce.prototype={constructor:ce,select:Ya,selectAll:Ka,selectChild:ae.selectChild,selectChildren:ae.selectChildren,filter:Fa,merge:Oa,selection:Qa,transition:fu,call:ae.call,nodes:ae.nodes,node:ae.node,size:ae.size,empty:ae.empty,each:ae.each,on:Za,attr:ka,attrTween:Ta,style:eu,styleTween:lu,text:su,textTween:cu,remove:Ga,tween:ma,delay:Ma,duration:Sa,ease:za,easeVarying:Ha,end:hu,[Symbol.iterator]:ae[Symbol.iterator]};function pu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _u={time:null,delay:0,duration:250,ease:pu};function vu(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function mu(t){var e,r;t instanceof ce?(e=t._id,t=t._name):(e=oi(),(r=_u).time=tn(),t=t==null?null:t+"");for(var n=this._groups,l=n.length,o=0;o<l;++o)for(var i=n[o],s=i.length,a,f=0;f<s;++f)(a=i[f])&&Nr(a,t,e,f,i,r||vu(a,e));return new ce(n,this._parents,t,e)}er.prototype.interrupt=pa;er.prototype.transition=mu;const ar=t=>()=>t;function gu(t,{sourceEvent:e,target:r,transform:n,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:l}})}function ue(t,e,r){this.k=t,this.x=e,this.y=r}ue.prototype={constructor:ue,scale:function(t){return t===1?this:new ue(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ue(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nn=new ue(1,0,0);ue.prototype;function Sr(t){t.stopImmediatePropagation()}function Xe(t){t.preventDefault(),t.stopImmediatePropagation()}function wu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function yu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function rl(){return this.__zoom||nn}function bu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Eu(){return navigator.maxTouchPoints||"ontouchstart"in this}function xu(t,e,r){var n=t.invertX(e[0][0])-r[0][0],l=t.invertX(e[1][0])-r[1][0],o=t.invertY(e[0][1])-r[0][1],i=t.invertY(e[1][1])-r[1][1];return t.translate(l>n?(n+l)/2:Math.min(0,n)||Math.max(0,l),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function ku(){var t=wu,e=yu,r=xu,n=bu,l=Eu,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,a=oa,f=Wr("start","zoom","end"),h,_,v,m=500,w=150,d=0,y=10;function b(E){E.property("__zoom",rl).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",G).filter(l).on("touchstart.zoom",K).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",tt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(E,L,N,C){var X=E.selection?E.selection():E;X.property("__zoom",rl),E!==X?A(E,L,N,C):X.interrupt().each(function(){D(this,arguments).event(C).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},b.scaleBy=function(E,L,N,C){b.scaleTo(E,function(){var X=this.__zoom.k,U=typeof L=="function"?L.apply(this,arguments):L;return X*U},N,C)},b.scaleTo=function(E,L,N,C){b.transform(E,function(){var X=e.apply(this,arguments),U=this.__zoom,F=N==null?z(X):typeof N=="function"?N.apply(this,arguments):N,j=U.invert(F),H=typeof L=="function"?L.apply(this,arguments):L;return r(P(I(U,H),F,j),X,i)},N,C)},b.translateBy=function(E,L,N,C){b.transform(E,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof N=="function"?N.apply(this,arguments):N),e.apply(this,arguments),i)},null,C)},b.translateTo=function(E,L,N,C,X){b.transform(E,function(){var U=e.apply(this,arguments),F=this.__zoom,j=C==null?z(U):typeof C=="function"?C.apply(this,arguments):C;return r(nn.translate(j[0],j[1]).scale(F.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof N=="function"?-N.apply(this,arguments):-N),U,i)},C,X)};function I(E,L){return L=Math.max(o[0],Math.min(o[1],L)),L===E.k?E:new ue(L,E.x,E.y)}function P(E,L,N){var C=L[0]-N[0]*E.k,X=L[1]-N[1]*E.k;return C===E.x&&X===E.y?E:new ue(E.k,C,X)}function z(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function A(E,L,N,C){E.on("start.zoom",function(){D(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(C).end()}).tween("zoom",function(){var X=this,U=arguments,F=D(X,U).event(C),j=e.apply(X,U),H=N==null?z(j):typeof N=="function"?N.apply(X,U):N,M=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),T=X.__zoom,V=typeof L=="function"?L.apply(X,U):L,Y=a(T.invert(H).concat(M/T.k),V.invert(H).concat(M/V.k));return function(st){if(st===1)st=V;else{var ot=Y(st),dt=M/ot[2];st=new ue(dt,H[0]-ot[0]*dt,H[1]-ot[1]*dt)}F.zoom(null,st)}})}function D(E,L,N){return!N&&E.__zooming||new $(E,L)}function $(E,L){this.that=E,this.args=L,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,L),this.taps=0}$.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,L){return this.mouse&&E!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var L=_e(this.that).datum();f.call(E,this.that,new gu(E,{sourceEvent:this.sourceEvent,target:b,type:E,transform:this.that.__zoom,dispatch:f}),L)}};function Z(E,...L){if(!t.apply(this,arguments))return;var N=D(this,L).event(E),C=this.__zoom,X=Math.max(o[0],Math.min(o[1],C.k*Math.pow(2,n.apply(this,arguments)))),U=de(E);if(N.wheel)(N.mouse[0][0]!==U[0]||N.mouse[0][1]!==U[1])&&(N.mouse[1]=C.invert(N.mouse[0]=U)),clearTimeout(N.wheel);else{if(C.k===X)return;N.mouse=[U,C.invert(U)],pr(this),N.start()}Xe(E),N.wheel=setTimeout(F,w),N.zoom("mouse",r(P(I(C,X),N.mouse[0],N.mouse[1]),N.extent,i));function F(){N.wheel=null,N.end()}}function J(E,...L){if(v||!t.apply(this,arguments))return;var N=E.currentTarget,C=D(this,L,!0).event(E),X=_e(E.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",M,!0),U=de(E,N),F=E.clientX,j=E.clientY;Ls(E.view),Sr(E),C.mouse=[U,this.__zoom.invert(U)],pr(this),C.start();function H(T){if(Xe(T),!C.moved){var V=T.clientX-F,Y=T.clientY-j;C.moved=V*V+Y*Y>d}C.event(T).zoom("mouse",r(P(C.that.__zoom,C.mouse[0]=de(T,N),C.mouse[1]),C.extent,i))}function M(T){X.on("mousemove.zoom mouseup.zoom",null),Rs(T.view,C.moved),Xe(T),C.event(T).end()}}function G(E,...L){if(t.apply(this,arguments)){var N=this.__zoom,C=de(E.changedTouches?E.changedTouches[0]:E,this),X=N.invert(C),U=N.k*(E.shiftKey?.5:2),F=r(P(I(N,U),C,X),e.apply(this,L),i);Xe(E),s>0?_e(this).transition().duration(s).call(A,F,C,E):_e(this).call(b.transform,F,C,E)}}function K(E,...L){if(t.apply(this,arguments)){var N=E.touches,C=N.length,X=D(this,L,E.changedTouches.length===C).event(E),U,F,j,H;for(Sr(E),F=0;F<C;++F)j=N[F],H=de(j,this),H=[H,this.__zoom.invert(H),j.identifier],X.touch0?!X.touch1&&X.touch0[2]!==H[2]&&(X.touch1=H,X.taps=0):(X.touch0=H,U=!0,X.taps=1+!!h);h&&(h=clearTimeout(h)),U&&(X.taps<2&&(_=H[0],h=setTimeout(function(){h=null},m)),pr(this),X.start())}}function B(E,...L){if(this.__zooming){var N=D(this,L).event(E),C=E.changedTouches,X=C.length,U,F,j,H;for(Xe(E),U=0;U<X;++U)F=C[U],j=de(F,this),N.touch0&&N.touch0[2]===F.identifier?N.touch0[0]=j:N.touch1&&N.touch1[2]===F.identifier&&(N.touch1[0]=j);if(F=N.that.__zoom,N.touch1){var M=N.touch0[0],T=N.touch0[1],V=N.touch1[0],Y=N.touch1[1],st=(st=V[0]-M[0])*st+(st=V[1]-M[1])*st,ot=(ot=Y[0]-T[0])*ot+(ot=Y[1]-T[1])*ot;F=I(F,Math.sqrt(st/ot)),j=[(M[0]+V[0])/2,(M[1]+V[1])/2],H=[(T[0]+Y[0])/2,(T[1]+Y[1])/2]}else if(N.touch0)j=N.touch0[0],H=N.touch0[1];else return;N.zoom("touch",r(P(F,j,H),N.extent,i))}}function tt(E,...L){if(this.__zooming){var N=D(this,L).event(E),C=E.changedTouches,X=C.length,U,F;for(Sr(E),v&&clearTimeout(v),v=setTimeout(function(){v=null},m),U=0;U<X;++U)F=C[U],N.touch0&&N.touch0[2]===F.identifier?delete N.touch0:N.touch1&&N.touch1[2]===F.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(F=de(F,this),Math.hypot(_[0]-F[0],_[1]-F[1])<y)){var j=_e(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return b.wheelDelta=function(E){return arguments.length?(n=typeof E=="function"?E:ar(+E),b):n},b.filter=function(E){return arguments.length?(t=typeof E=="function"?E:ar(!!E),b):t},b.touchable=function(E){return arguments.length?(l=typeof E=="function"?E:ar(!!E),b):l},b.extent=function(E){return arguments.length?(e=typeof E=="function"?E:ar([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),b):e},b.scaleExtent=function(E){return arguments.length?(o[0]=+E[0],o[1]=+E[1],b):[o[0],o[1]]},b.translateExtent=function(E){return arguments.length?(i[0][0]=+E[0][0],i[1][0]=+E[1][0],i[0][1]=+E[0][1],i[1][1]=+E[1][1],b):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},b.constrain=function(E){return arguments.length?(r=E,b):r},b.duration=function(E){return arguments.length?(s=+E,b):s},b.interpolate=function(E){return arguments.length?(a=E,b):a},b.on=function(){var E=f.on.apply(f,arguments);return E===f?b:E},b.clickDistance=function(E){return arguments.length?(d=(E=+E)*E,b):Math.sqrt(d)},b.tapDistance=function(E){return arguments.length?(y=+E,b):y},b}const Iu=`,,,,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,,,,,พะเยา,พะเยา,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,ลำปาง,ลำปาง,ลำปาง,,พะเยา,พะเยา,,น่าน,,,,,,,,,,,,,,,,,,,,,\r
,,,,,ลำปาง,ลำปาง,,,,,,น่าน,,,,,,,,,,,,,,,,,,,,,\r
แม่ฮ่องสอน,,ลำพูน,ลำพูน,,,,,,แพร่,แพร่,,น่าน,,,,,,,,,,,บึงกาฬ,บึงกาฬ,บึงกาฬ,,,,,,,,\r
แม่ฮ่องสอน,,ลำพูน,,,,สุโขทัย,สุโขทัย,,แพร่,,,น่าน,,,,,,หนองคาย,หนองคาย,หนองคาย,หนองคาย,,,,,,,,,,,,\r
,,,,,,สุโขทัย,สุโขทัย,,,,,,,เลย,,หนองบัวลำภู,,,,,,,สกลนคร,สกลนคร,สกลนคร,,นครพนม,,,,,,\r
,,กำแพงเพชร,กำแพงเพชร,กำแพงเพชร,,,,,,อุตรดิตถ์,อุตรดิตถ์,อุตรดิตถ์,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,อุดรธานี,อุดรธานี,,สกลนคร,สกลนคร,สกลนคร,,นครพนม,,,,,,\r
,,กำแพงเพชร,กำแพงเพชร,,,พิจิตร,พิจิตร,,,,,,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,อุดรธานี,อุดรธานี,,สกลนคร,สกลนคร,,,นครพนม,,มุกดาหาร,,,,\r
,,,,,,พิจิตร,พิจิตร,,พิษณุโลก,พิษณุโลก,พิษณุโลก,พิษณุโลก,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,,,,,,,,นครพนม,,มุกดาหาร,,,,\r
,,,อุทัยธานี,อุทัยธานี,,,,,พิษณุโลก,พิษณุโลก,พิษณุโลก,,,,,,,,,,,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,,นครพนม,,มุกดาหาร,,,,\r
,ตาก,,อุทัยธานี,,,นครสวรรค์,นครสวรรค์,,,,,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,,,,,,,ยโสธร,,\r
,ตาก,,,,,นครสวรรค์,นครสวรรค์,,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,,,,,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,ตาก,,ชัยนาท,ชัยนาท,,นครสวรรค์,นครสวรรค์,,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,มหาสารคาม,มหาสารคาม,มหาสารคาม,มหาสารคาม,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,ตาก,,ชัยนาท,,,นครสวรรค์,นครสวรรค์,,,,,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,,,,,มหาสารคาม,มหาสารคาม,มหาสารคาม,,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,,,,,,,,,ลพบุรี,ลพบุรี,,สระบุรี,,,,,,,,,,,,,,,,,,,,,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,สุพรรณบุรี,,สิงห์บุรี,,ลพบุรี,ลพบุรี,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,สุพรรณบุรี,,สิงห์บุรี,,ลพบุรี,,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,,,,,,,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,,,,,,อ่างทอง,,พระนครศรีอยุธยา,พระนครศรีอยุธยา,,,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,,,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,,,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,,,,,สมุทรสงคราม,,อ่างทอง,,พระนครศรีอยุธยา,พระนครศรีอยุธยา,,นครนายก,,นครราชสีมา,นครราชสีมา,,,,,,,,สุรินทร์,,,,,,,อุบลราชธานี,,,\r
,ราชบุรี,ราชบุรี,ราชบุรี,,สมุทรสงคราม,,,,พระนครศรีอยุธยา,,,นครนายก,,,,,,,,,,,,,,,,,,,,,\r
,ราชบุรี,ราชบุรี,ราชบุรี,,,,,,,,,,,ฉะเชิงเทรา,ฉะเชิงเทรา,ฉะเชิงเทรา,,ปราจีนบุรี,ปราจีนบุรี,,สระแก้ว,สระแก้ว,,,,,,,,,,,\r
,ราชบุรี,,,,,,,,,,,,,ฉะเชิงเทรา,ฉะเชิงเทรา,,,ปราจีนบุรี,ปราจีนบุรี,,สระแก้ว,สระแก้ว,,,,,,,,,,,\r
,,,เพชรบุรี,เพชรบุรี,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,เพชรบุรี,เพชรบุรี,,,,,,,,,,ชลบุรี,ชลบุรี,ชลบุรี,ชลบุรี,,ระยอง,ระยอง,,,,,,,,,,,,,\r
,,,,,,,,,,,,,,ชลบุรี,ชลบุรี,ชลบุรี,ชลบุรี,,ระยอง,ระยอง,,จันทบุรี,จันทบุรี,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,ชลบุรี,ชลบุรี,,,,ระยอง,,,จันทบุรี,จันทบุรี,,ตราด,ตราด,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,,,,,,,,,,,,,,,,,นนทบุรี,นนทบุรี,นนทบุรี,นนทบุรี,,ปทุมธานี,ปทุมธานี,ปทุมธานี,ปทุมธานี,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,,,,นนทบุรี,นนทบุรี,นนทบุรี,นนทบุรี,,ปทุมธานี,ปทุมธานี,ปทุมธานี,ปทุมธานี,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,,,,,,,,,,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,,,,,,,,,,,,,,,,นครปฐม,,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,ระนอง,,สุราษฎร์ธานี,สุราษฎร์ธานี,,,,,,,,,,,,,,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,ระนอง,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,,,\r
,,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,,,,,,,,,,,,,,,\r
,พังงา,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,,,,,,,,,,\r
,พังงา,,,,,นครศรีธรรมราช,,,,,,,,,,,สมุทรสาคร,,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,,,,,,,,,,,\r
,,,กระบี่,กระบี่,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,กระบี่,,,พัทลุง,พัทลุง,พัทลุง,พัทลุง,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,ตรัง,ตรัง,,,สงขลา,สงขลา,สงขลา,,ปัตตานี,ปัตตานี,ปัตตานี,,,,,,,,,,,,,,,,,,,,\r
,,,ตรัง,ตรัง,,,สงขลา,สงขลา,สงขลา,,ปัตตานี,ปัตตานี,,,,,,,,,,,,,,,,,,,,,\r
,,,,,,,สงขลา,สงขลา,สงขลา,,,,,นราธิวาส,นราธิวาส,นราธิวาส,,,,,,,,,,,,,,,,,\r
,,,สตูล,สตูล,สตูล,,สงขลา,,,,ยะลา,ยะลา,,นราธิวาส,นราธิวาส,,,,,,,,,,,,,,,,,,\r
,,,,,,,,,,,ยะลา,ยะลา,,,,,,,,,,,,,,,,,,,,,`;function nl(t){let e,r,n,l,o;return{c(){e=et("text"),r=O(t[1]),this.h()},l(i){e=rt(i,"text",{y:!0,x:!0,"alignment-baseline":!0,"font-size":!0});var s=g(e);r=q(s,t[1]),s.forEach(p),this.h()},h(){u(e,"y",n=t[3].y-t[4]/4),u(e,"x",l=t[3].x),u(e,"alignment-baseline","baseline"),u(e,"font-size",o=t[4]*.6)},m(i,s){Q(i,e,s),c(e,r)},p(i,s){s&2&&ft(r,i[1]),s&24&&n!==(n=i[3].y-i[4]/4)&&u(e,"y",n),s&8&&l!==(l=i[3].x)&&u(e,"x",l),s&16&&o!==(o=i[4]*.6)&&u(e,"font-size",o)},d(i){i&&p(e)}}}function Nu(t){let e,r,n,l,o,i,s,a=t[2]===1&&nl(t);return{c(){e=et("g"),a&&a.c(),r=et("rect"),this.h()},l(f){e=rt(f,"g",{class:!0});var h=g(e);a&&a.l(h),r=rt(h,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"stroke-width":!0,class:!0}),g(r).forEach(p),h.forEach(p),this.h()},h(){var f;u(r,"x",n=t[3].x),u(r,"y",l=t[3].y),u(r,"width",t[4]),u(r,"height",t[4]),u(r,"fill",o="url(#party-bg-"+((f=t[5][0].party)==null?void 0:f.Name)+")"),u(r,"stroke-width","0.7"),u(r,"class","stroke-white"),u(e,"class","cursor-default")},m(f,h){Q(f,e,h),a&&a.m(e,null),c(e,r),i||(s=[gt(e,"mouseenter",t[10]),gt(e,"mouseleave",t[11])],i=!0)},p(f,[h]){var _;f[2]===1?a?a.p(f,h):(a=nl(f),a.c(),a.m(e,r)):a&&(a.d(1),a=null),h&8&&n!==(n=f[3].x)&&u(r,"x",n),h&8&&l!==(l=f[3].y)&&u(r,"y",l),h&16&&u(r,"width",f[4]),h&16&&u(r,"height",f[4]),h&32&&o!==(o="url(#party-bg-"+((_=f[5][0].party)==null?void 0:_.Name)+")")&&u(r,"fill",o)},i:Ct,o:Ct,d(f){f&&p(e),a&&a.d(),i=!1,ge(s)}}}function Pu(t,e,r){let n,l,o,i;ve(t,Se,d=>r(9,i=d));let{province:s}=e,{districtNumber:a}=e,{position:f}=e,{size:h}=e,{districtTooltip:_=null}=e;const v=({target:d})=>{const{x:y,y:b,width:I,height:P}=d.getBoundingClientRect();r(0,_={province:s,districtNumber:a,popularityRanking:o,x:y+I,y:b+P,totalPoints:l})},m=d=>v(d),w=()=>r(0,_=null);return t.$$set=d=>{"province"in d&&r(1,s=d.province),"districtNumber"in d&&r(2,a=d.districtNumber),"position"in d&&r(3,f=d.position),"size"in d&&r(4,h=d.size),"districtTooltip"in d&&r(0,_=d.districtTooltip)},t.$$.update=()=>{t.$$.dirty&518&&r(8,n=i[s][a]),t.$$.dirty&256&&r(7,l=n.reduce((d,{points:y})=>d+y,0)),t.$$.dirty&384&&r(5,o=n.map(({party:d,points:y})=>({party:d,percentage:Math.round(y*100/l)})))},[_,s,a,f,h,o,v,l,n,i,m,w]}class Cu extends Kt{constructor(e){super(),Wt(this,e,Pu,Nu,Qt,{province:1,districtNumber:2,position:3,size:4,districtTooltip:0})}}function ll(t,e,r){const n=t.slice();return n[1]=e[r].party,n[2]=e[r].percentage,n[4]=r,n}function il(t){var w;let e,r,n,l,o,i=((w=t[1])==null?void 0:w.Name)+"",s,a,f,h=t[2]+"",_,v,m;return{c(){e=x("div"),r=x("div"),n=x("div"),l=R(),o=x("p"),s=O(i),a=R(),f=x("p"),_=O(h),v=O("%"),m=R(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0});var b=g(r);n=k(b,"DIV",{class:!0,style:!0}),g(n).forEach(p),l=S(b),o=k(b,"P",{class:!0});var I=g(o);s=q(I,i),I.forEach(p),a=S(b),f=k(b,"P",{});var P=g(f);_=q(P,h),v=q(P,"%"),P.forEach(p),b.forEach(p),m=S(y),y.forEach(p),this.h()},h(){var d,y;u(n,"class","w-3 h-3 mt-1"),lt(n,"background","url('/party-icons/"+((d=t[1])==null?void 0:d.Name)+".svg') "+((y=t[1])==null?void 0:y.Color)+" center/65% no-repeat"),u(o,"class","flex-1"),an(o,"font-bold",t[4]===0),an(f,"font-bold",t[4]===0),u(r,"class","flex flex-row space-x-2"),u(e,"class","flex flex-col")},m(d,y){Q(d,e,y),c(e,r),c(r,n),c(r,l),c(r,o),c(o,s),c(r,a),c(r,f),c(f,_),c(f,v),c(e,m)},p(d,y){var b,I,P;y&1&&lt(n,"background","url('/party-icons/"+((b=d[1])==null?void 0:b.Name)+".svg') "+((I=d[1])==null?void 0:I.Color)+" center/65% no-repeat"),y&1&&i!==(i=((P=d[1])==null?void 0:P.Name)+"")&&ft(s,i),y&1&&h!==(h=d[2]+"")&&ft(_,h)},d(d){d&&p(e)}}}function Tu(t){let e,r,n,l=t[0].province+"",o,i,s,a,f=t[0].districtNumber+"",h,_,v,m=t[0].popularityRanking.slice(0,ol),w=[];for(let d=0;d<m.length;d+=1)w[d]=il(ll(t,m,d));return{c(){e=x("div"),r=x("div"),n=x("p"),o=O(l),i=R(),s=x("p"),a=O("เขต "),h=O(f),_=R(),v=x("div");for(let d=0;d<w.length;d+=1)w[d].c();this.h()},l(d){e=k(d,"DIV",{class:!0,style:!0});var y=g(e);r=k(y,"DIV",{});var b=g(r);n=k(b,"P",{});var I=g(n);o=q(I,l),I.forEach(p),i=S(b),s=k(b,"P",{});var P=g(s);a=q(P,"เขต "),h=q(P,f),P.forEach(p),b.forEach(p),_=S(y),v=k(y,"DIV",{});var z=g(v);for(let A=0;A<w.length;A+=1)w[A].l(z);z.forEach(p),y.forEach(p),this.h()},h(){u(e,"class","fixed rounded bg-black py-2 px-4 text-white space-y-2 transform z-50"),lt(e,"left",t[0].x+"px"),lt(e,"top",t[0].y+"px")},m(d,y){Q(d,e,y),c(e,r),c(r,n),c(n,o),c(r,i),c(r,s),c(s,a),c(s,h),c(e,_),c(e,v);for(let b=0;b<w.length;b+=1)w[b].m(v,null)},p(d,[y]){if(y&1&&l!==(l=d[0].province+"")&&ft(o,l),y&1&&f!==(f=d[0].districtNumber+"")&&ft(h,f),y&1){m=d[0].popularityRanking.slice(0,ol);let b;for(b=0;b<m.length;b+=1){const I=ll(d,m,b);w[b]?w[b].p(I,y):(w[b]=il(I),w[b].c(),w[b].m(v,null))}for(;b<w.length;b+=1)w[b].d(1);w.length=m.length}y&1&&lt(e,"left",d[0].x+"px"),y&1&&lt(e,"top",d[0].y+"px")},i:Ct,o:Ct,d(d){d&&p(e),Xt(w,d)}}}const ol=3;function Vu(t,e,r){let{districtTooltip:n}=e;return t.$$set=l=>{"districtTooltip"in l&&r(0,n=l.districtTooltip)},[n]}class Du extends Kt{constructor(e){super(),Wt(this,e,Vu,Tu,Qt,{districtTooltip:0})}}function sl(t,e,r){const n=t.slice();return n[6]=e[r].x,n[7]=e[r].y,n}function al(t){let e,r,n,l;return{c(){e=et("rect"),this.h()},l(o){e=rt(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"stroke-width":!0,class:!0}),g(e).forEach(p),this.h()},h(){u(e,"x",r=t[6]),u(e,"y",n=t[7]),u(e,"width",t[3]),u(e,"height",t[3]),u(e,"fill",l="url(#party-bg-"+t[1].Name+")"),u(e,"stroke-width","0.7"),u(e,"class","stroke-white")},m(o,i){Q(o,e,i)},p(o,i){i&4&&r!==(r=o[6])&&u(e,"x",r),i&4&&n!==(n=o[7])&&u(e,"y",n),i&8&&u(e,"width",o[3]),i&8&&u(e,"height",o[3]),i&2&&l!==(l="url(#party-bg-"+o[1].Name+")")&&u(e,"fill",l)},d(o){o&&p(e)}}}function Mu(t){let e,r,n,l=t[2],o=[];for(let i=0;i<l.length;i+=1)o[i]=al(sl(t,l,i));return{c(){e=et("g");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=rt(i,"g",{class:!0});var s=g(e);for(let a=0;a<o.length;a+=1)o[a].l(s);s.forEach(p),this.h()},h(){u(e,"class","cursor-default")},m(i,s){Q(i,e,s);for(let a=0;a<o.length;a+=1)o[a].m(e,null);r||(n=[gt(e,"mouseenter",t[4]),gt(e,"mouseleave",t[5])],r=!0)},p(i,[s]){if(s&14){l=i[2];let a;for(a=0;a<l.length;a+=1){const f=sl(i,l,a);o[a]?o[a].p(f,s):(o[a]=al(f),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}},i:Ct,o:Ct,d(i){i&&p(e),Xt(o,i),r=!1,ge(n)}}}function Lu(t,e,r){let{party:n}=e,{cells:l}=e,{size:o}=e,{partylistTooltip:i}=e;const s=({target:f})=>{const{x:h,y:_}=f.getBoundingClientRect();r(0,i={party:n,count:l.length,position:{x:h,y:_}})},a=()=>r(0,i=null);return t.$$set=f=>{"party"in f&&r(1,n=f.party),"cells"in f&&r(2,l=f.cells),"size"in f&&r(3,o=f.size),"partylistTooltip"in f&&r(0,i=f.partylistTooltip)},[i,n,l,o,s,a]}class Ru extends Kt{constructor(e){super(),Wt(this,e,Lu,Mu,Qt,{party:1,cells:2,size:3,partylistTooltip:0})}}function Su(t){let e,r,n,l,o,i,s,a,f,h=t[0].party.Name+"",_,v,m,w=t[0].count+"",d,y;return{c(){e=x("div"),r=x("p"),n=O("บัญชีรายชื่อ"),l=R(),o=x("div"),i=x("div"),s=R(),a=x("div"),f=x("p"),_=O(h),v=R(),m=x("p"),d=O(w),y=O(" ที่นั่ง"),this.h()},l(b){e=k(b,"DIV",{class:!0,style:!0});var I=g(e);r=k(I,"P",{});var P=g(r);n=q(P,"บัญชีรายชื่อ"),P.forEach(p),l=S(I),o=k(I,"DIV",{class:!0});var z=g(o);i=k(z,"DIV",{class:!0,style:!0}),g(i).forEach(p),s=S(z),a=k(z,"DIV",{});var A=g(a);f=k(A,"P",{class:!0});var D=g(f);_=q(D,h),D.forEach(p),v=S(A),m=k(A,"P",{class:!0});var $=g(m);d=q($,w),y=q($," ที่นั่ง"),$.forEach(p),A.forEach(p),z.forEach(p),I.forEach(p),this.h()},h(){u(i,"class","w-3 h-3 mt-1"),lt(i,"background","url('/party-icons/"+t[0].party.Name+".svg') "+t[0].party.Color+" center/65% no-repeat"),u(f,"class","font-bold"),u(m,"class","opacity-70"),u(o,"class","flex flex-row space-x-2"),u(e,"class","fixed rounded bg-black py-2 px-4 text-white space-y-2 transform -translate-x-full z-50"),lt(e,"left",t[0].position.x-8+"px"),lt(e,"top",t[0].position.y+"px")},m(b,I){Q(b,e,I),c(e,r),c(r,n),c(e,l),c(e,o),c(o,i),c(o,s),c(o,a),c(a,f),c(f,_),c(a,v),c(a,m),c(m,d),c(m,y)},p(b,[I]){I&1&&lt(i,"background","url('/party-icons/"+b[0].party.Name+".svg') "+b[0].party.Color+" center/65% no-repeat"),I&1&&h!==(h=b[0].party.Name+"")&&ft(_,h),I&1&&w!==(w=b[0].count+"")&&ft(d,w),I&1&&lt(e,"left",b[0].position.x-8+"px"),I&1&&lt(e,"top",b[0].position.y+"px")},i:Ct,o:Ct,d(b){b&&p(e)}}}function Au(t,e,r){let{partylistTooltip:n}=e;return t.$$set=l=>{"partylistTooltip"in l&&r(0,n=l.partylistTooltip)},[n]}class zu extends Kt{constructor(e){super(),Wt(this,e,Au,Su,Qt,{partylistTooltip:0})}}function ul(t,e,r){const n=t.slice();return n[25]=e[r],n}function cl(t,e,r){const n=t.slice();return n[28]=e[r],n}function fl(t,e,r){const n=t.slice();return n[31]=e[r].Name,n[32]=e[r].Color,n}function hl(t){let e,r;return{c(){e=et("image"),this.h()},l(n){e=rt(n,"image",{href:!0,height:!0,width:!0,x:!0,y:!0}),g(e).forEach(p),this.h()},h(){u(e,"href",r=Gt+"/party-icons/"+t[31]+".svg"),u(e,"height",Pt*.6),u(e,"width",Pt*.6),u(e,"x",Pt*.2),u(e,"y",Pt*.2)},m(n,l){Q(n,e,l)},p(n,l){l[0]&2048&&r!==(r=Gt+"/party-icons/"+n[31]+".svg")&&u(e,"href",r)},d(n){n&&p(e)}}}function dl(t){let e,r,n,l=t[0].includes(t[31]),o,i=l&&hl(t);return{c(){e=et("pattern"),r=et("rect"),i&&i.c(),this.h()},l(s){e=rt(s,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0});var a=g(e);r=rt(a,"rect",{width:!0,height:!0,fill:!0}),g(r).forEach(p),i&&i.l(a),a.forEach(p),this.h()},h(){u(r,"width","100%"),u(r,"height","100%"),u(r,"fill",n=t[32]),u(e,"id",o="party-bg-"+t[31]),u(e,"x","0"),u(e,"y","0"),u(e,"width",Pt),u(e,"height",Pt)},m(s,a){Q(s,e,a),c(e,r),i&&i.m(e,null)},p(s,a){a[0]&2048&&n!==(n=s[32])&&u(r,"fill",n),a[0]&2049&&(l=s[0].includes(s[31])),l?i?i.p(s,a):(i=hl(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a[0]&2048&&o!==(o="party-bg-"+s[31])&&u(e,"id",o)},d(s){s&&p(e),i&&i.d()}}}function pl(t){let e,r,n;const l=[t[28],{size:Pt}];function o(s){t[19](s)}let i={};for(let s=0;s<l.length;s+=1)i=Nl(i,l[s]);return t[2]!==void 0&&(i.districtTooltip=t[2]),e=new Cu({props:i}),Pl.push(()=>Cl(e,"districtTooltip",o)),{c(){Bt(e.$$.fragment)},l(s){Ht(e.$$.fragment,s)},m(s,a){Ft(e,s,a),n=!0},p(s,a){const f=a[0]&1024?Tl(l,[a[0]&1024&&Vl(s[28]),a&0&&{size:Pt}]):{};!r&&a[0]&4&&(r=!0,f.districtTooltip=s[2],Dl(()=>r=!1)),e.$set(f)},i(s){n||(ht(e.$$.fragment,s),n=!0)},o(s){vt(e.$$.fragment,s),n=!1},d(s){Ot(e,s)}}}function _l(t){let e,r,n;const l=[t[25],{size:Pt}];function o(s){t[20](s)}let i={};for(let s=0;s<l.length;s+=1)i=Nl(i,l[s]);return t[1]!==void 0&&(i.partylistTooltip=t[1]),e=new Ru({props:i}),Pl.push(()=>Cl(e,"partylistTooltip",o)),{c(){Bt(e.$$.fragment)},l(s){Ht(e.$$.fragment,s)},m(s,a){Ft(e,s,a),n=!0},p(s,a){const f=a[0]&512?Tl(l,[a[0]&512&&Vl(s[25]),a&0&&{size:Pt}]):{};!r&&a[0]&2&&(r=!0,f.partylistTooltip=s[1],Dl(()=>r=!1)),e.$set(f)},i(s){n||(ht(e.$$.fragment,s),n=!0)},o(s){vt(e.$$.fragment,s),n=!1},d(s){Ot(e,s)}}}function vl(t){let e,r,n,l;return{c(){e=et("text"),r=O("ส.ส. บัญชีรายชื่อ"),this.h()},l(o){e=rt(o,"text",{x:!0,y:!0,class:!0});var i=g(e);r=q(i,"ส.ส. บัญชีรายชื่อ"),i.forEach(p),this.h()},h(){u(e,"x",n=t[9][0].cells[0].x-18),u(e,"y",l=t[9][0].cells[0].y-10),u(e,"class","typo-b7")},m(o,i){Q(o,e,i),c(e,r)},p(o,i){i[0]&512&&n!==(n=o[9][0].cells[0].x-18)&&u(e,"x",n),i[0]&512&&l!==(l=o[9][0].cells[0].y-10)&&u(e,"y",l)},d(o){o&&p(e)}}}function ml(t){let e,r;return e=new zu({props:{partylistTooltip:t[1]}}),{c(){Bt(e.$$.fragment)},l(n){Ht(e.$$.fragment,n)},m(n,l){Ft(e,n,l),r=!0},p(n,l){const o={};l[0]&2&&(o.partylistTooltip=n[1]),e.$set(o)},i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){vt(e.$$.fragment,n),r=!1},d(n){Ot(e,n)}}}function gl(t){let e,r;return e=new Du({props:{districtTooltip:t[2]}}),{c(){Bt(e.$$.fragment)},l(n){Ht(e.$$.fragment,n)},m(n,l){Ft(e,n,l),r=!0},p(n,l){const o={};l[0]&4&&(o.districtTooltip=n[2]),e.$set(o)},i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){vt(e.$$.fragment,n),r=!1},d(n){Ot(e,n)}}}function wl(t){let e,r,n,l,o;return{c(){e=x("button"),r=et("svg"),n=et("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var s=g(e);r=rt(s,"svg",{viewBox:!0,class:!0});var a=g(r);n=rt(a,"path",{fill:!0,d:!0}),g(n).forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){u(n,"fill","currentColor"),u(n,"d","M22.448 21A10.855 10.855 0 0 0 25 14A10.99 10.99 0 0 0 6 6.466V2H4v8h8V8H7.332a8.977 8.977 0 1 1-2.1 8h-2.04A11.012 11.012 0 0 0 14 25a10.855 10.855 0 0 0 7-2.552L28.586 30L30 28.586Z"),u(r,"viewBox","0 0 32 32"),u(r,"class","svelte-kwb01f"),u(e,"class","svelte-kwb01f")},m(i,s){Q(i,e,s),c(e,r),c(r,n),l||(o=gt(e,"click",function(){We(t[4])&&t[4].apply(this,arguments)}),l=!0)},p(i,s){t=i},d(i){i&&p(e),l=!1,o()}}}function Bu(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,b,I,P,z,A,D,$,Z,J,G,K=t[11].list,B=[];for(let M=0;M<K.length;M+=1)B[M]=dl(fl(t,K,M));let tt=t[10],E=[];for(let M=0;M<tt.length;M+=1)E[M]=pl(cl(t,tt,M));const L=M=>vt(E[M],1,1,()=>{E[M]=null});let N=t[9],C=[];for(let M=0;M<N.length;M+=1)C[M]=_l(ul(t,N,M));const X=M=>vt(C[M],1,1,()=>{C[M]=null});let U=t[9].length>0&&vl(t),F=t[1]&&ml(t),j=t[2]&&gl(t),H=t[3]&&wl(t);return{c(){e=x("div"),r=et("svg"),n=et("defs");for(let M=0;M<B.length;M+=1)B[M].c();l=et("g");for(let M=0;M<E.length;M+=1)E[M].c();o=Me();for(let M=0;M<C.length;M+=1)C[M].c();i=et("text"),s=O("ส.ส. เขต"),U&&U.c(),h=R(),F&&F.c(),_=R(),j&&j.c(),v=R(),m=x("div"),w=x("button"),d=et("svg"),y=et("path"),b=et("path"),I=R(),P=x("button"),z=et("svg"),A=et("path"),D=et("path"),$=R(),H&&H.c(),this.h()},l(M){e=k(M,"DIV",{class:!0});var T=g(e);r=rt(T,"svg",{viewBox:!0,class:!0,id:!0});var V=g(r);n=rt(V,"defs",{});var Y=g(n);for(let _t=0;_t<B.length;_t+=1)B[_t].l(Y);Y.forEach(p),l=rt(V,"g",{id:!0});var st=g(l);for(let _t=0;_t<E.length;_t+=1)E[_t].l(st);o=Me();for(let _t=0;_t<C.length;_t+=1)C[_t].l(st);i=rt(st,"text",{x:!0,y:!0,class:!0});var ot=g(i);s=q(ot,"ส.ส. เขต"),ot.forEach(p),U&&U.l(st),st.forEach(p),V.forEach(p),h=S(T),F&&F.l(T),_=S(T),j&&j.l(T),v=S(T),m=k(T,"DIV",{class:!0});var dt=g(m);w=k(dt,"BUTTON",{class:!0});var kt=g(w);d=rt(kt,"svg",{viewBox:!0,class:!0});var mt=g(d);y=rt(mt,"path",{fill:!0,d:!0}),g(y).forEach(p),b=rt(mt,"path",{fill:!0,d:!0}),g(b).forEach(p),mt.forEach(p),kt.forEach(p),I=S(dt),P=k(dt,"BUTTON",{class:!0});var wt=g(P);z=rt(wt,"svg",{xmlns:!0,viewBox:!0,class:!0});var bt=g(z);A=rt(bt,"path",{fill:!0,d:!0}),g(A).forEach(p),D=rt(bt,"path",{fill:!0,d:!0}),g(D).forEach(p),bt.forEach(p),wt.forEach(p),$=S(dt),H&&H.l(dt),dt.forEach(p),T.forEach(p),this.h()},h(){u(i,"x","10"),u(i,"y","18"),u(i,"class","typo-b7"),u(l,"id","map-container"),u(r,"viewBox",a="0 0 "+t[8]+" "+t[7]),u(r,"class",f="w-full relative h-full "+(t[3]?"cursor-move":"")),u(r,"id","waffle-map-svg"),u(y,"fill","currentColor"),u(y,"d","M18 12h-4V8h-2v4H8v2h4v4h2v-4h4v-2z"),u(b,"fill","currentColor"),u(b,"d","M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"),u(d,"viewBox","0 0 32 32"),u(d,"class","svelte-kwb01f"),u(w,"class","svelte-kwb01f"),u(A,"fill","currentColor"),u(A,"d","M8 12h10v2H8z"),u(D,"fill","currentColor"),u(D,"d","M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"),u(z,"xmlns","http://www.w3.org/2000/svg"),u(z,"viewBox","0 0 32 32"),u(z,"class","svelte-kwb01f"),u(P,"class","svelte-kwb01f"),u(m,"class","absolute right-0 top-6 flex flex-col space-y-2"),u(e,"class","absolute inset-0 w-full flex-1")},m(M,T){Q(M,e,T),c(e,r),c(r,n);for(let V=0;V<B.length;V+=1)B[V].m(n,null);c(r,l);for(let V=0;V<E.length;V+=1)E[V].m(l,null);c(l,o);for(let V=0;V<C.length;V+=1)C[V].m(l,null);c(l,i),c(i,s),U&&U.m(l,null),c(e,h),F&&F.m(e,null),c(e,_),j&&j.m(e,null),c(e,v),c(e,m),c(m,w),c(w,d),c(d,y),c(d,b),c(m,I),c(m,P),c(P,z),c(z,A),c(z,D),c(m,$),H&&H.m(m,null),Z=!0,J||(G=[gt(w,"click",function(){We(t[5])&&t[5].apply(this,arguments)}),gt(P,"click",function(){We(t[6])&&t[6].apply(this,arguments)})],J=!0)},p(M,T){if(t=M,T[0]&2049){K=t[11].list;let V;for(V=0;V<K.length;V+=1){const Y=fl(t,K,V);B[V]?B[V].p(Y,T):(B[V]=dl(Y),B[V].c(),B[V].m(n,null))}for(;V<B.length;V+=1)B[V].d(1);B.length=K.length}if(T[0]&1028){tt=t[10];let V;for(V=0;V<tt.length;V+=1){const Y=cl(t,tt,V);E[V]?(E[V].p(Y,T),ht(E[V],1)):(E[V]=pl(Y),E[V].c(),ht(E[V],1),E[V].m(l,o))}for(Te(),V=tt.length;V<E.length;V+=1)L(V);Ve()}if(T[0]&514){N=t[9];let V;for(V=0;V<N.length;V+=1){const Y=ul(t,N,V);C[V]?(C[V].p(Y,T),ht(C[V],1)):(C[V]=_l(Y),C[V].c(),ht(C[V],1),C[V].m(l,i))}for(Te(),V=N.length;V<C.length;V+=1)X(V);Ve()}t[9].length>0?U?U.p(t,T):(U=vl(t),U.c(),U.m(l,null)):U&&(U.d(1),U=null),(!Z||T[0]&384&&a!==(a="0 0 "+t[8]+" "+t[7]))&&u(r,"viewBox",a),(!Z||T[0]&8&&f!==(f="w-full relative h-full "+(t[3]?"cursor-move":"")))&&u(r,"class",f),t[1]?F?(F.p(t,T),T[0]&2&&ht(F,1)):(F=ml(t),F.c(),ht(F,1),F.m(e,_)):F&&(Te(),vt(F,1,1,()=>{F=null}),Ve()),t[2]?j?(j.p(t,T),T[0]&4&&ht(j,1)):(j=gl(t),j.c(),ht(j,1),j.m(e,v)):j&&(Te(),vt(j,1,1,()=>{j=null}),Ve()),t[3]?H?H.p(t,T):(H=wl(t),H.c(),H.m(m,null)):H&&(H.d(1),H=null)},i(M){if(!Z){for(let T=0;T<tt.length;T+=1)ht(E[T]);for(let T=0;T<N.length;T+=1)ht(C[T]);ht(F),ht(j),Z=!0}},o(M){E=E.filter(Boolean);for(let T=0;T<E.length;T+=1)vt(E[T]);C=C.filter(Boolean);for(let T=0;T<C.length;T+=1)vt(C[T]);vt(F),vt(j),Z=!1},d(M){M&&p(e),Xt(B,M),Xt(E,M),Xt(C,M),U&&U.d(),F&&F.d(),j&&j.d(),H&&H.d(),J=!1,ge(G)}}}const Ce=30,Pt=10,ur=5;function Hu(t,e,r){let n,l,o,i,s,a,f,h,_,v,m,w;ve(t,Sl,B=>r(17,v=B)),ve(t,Se,B=>r(18,m=B)),ve(t,Yt,B=>r(11,w=B));const d=Pt*7;let{availablePartyIcons:y}=e;const b=Iu.split(`\r
`).map(B=>B.split(",")),I=Pt*ur;let P=null,z=null,A={zoom:ku,zoomIdentity:nn,select:_e,selectAll:Ms,pointer:de},D=!1,$,Z,J;Il(()=>{const B=A.select("svg#waffle-map-svg"),tt=A.select("#map-container"),E=A.zoom().translateExtent([[0,0],[h,_]]).scaleExtent([1,5]).on("zoom",L);B.call(E);function L({transform:N}){tt.attr("transform",N),r(3,D=!(N.x===0&&N.y===0&&N.k===1))}r(4,$=()=>{B.transition().duration(500).call(E.transform,A.zoomIdentity),r(3,D=!1)}),r(5,Z=()=>B.transition().duration(500).call(E.scaleBy,1.4)),r(6,J=()=>B.transition().duration(500).call(E.scaleBy,.7))});function G(B){z=B,r(2,z)}function K(B){P=B,r(1,P)}return t.$$set=B=>{"availablePartyIcons"in B&&r(0,y=B.availablePartyIcons)},t.$$.update=()=>{t.$$.dirty[0]&262144&&r(10,n=(()=>{const B=new Map;return b.flatMap((tt,E)=>tt.reduce((L,N,C)=>{var U;if(N.length===0)return L;const X=(B.get(N)||0)+1;return(U=m[N])!=null&&U[X]?(B.set(N,X),[...L,{province:N,districtNumber:X,position:{x:C*Pt+Ce,y:E*Pt+Ce}}]):L},[]))})()),t.$$.dirty[0]&131072&&r(13,i=v.reduce((B,{fromPartylist:tt})=>B+tt,0)),t.$$.dirty[0]&8192&&r(16,s=Pt*Math.floor(i/ur)),t.$$.dirty[0]&69632&&r(15,a=(o-s)/2+Ce),t.$$.dirty[0]&180224&&r(9,[f]=v.filter(({fromPartylist:B})=>B>0).sort((B,tt)=>tt.fromPartylist-B.fromPartylist).reduce(([B,tt],{party:E,fromPartylist:L})=>[[...B,{party:E,cells:new Array(L).fill(null).map((N,C)=>({x:(tt+C)%ur*Pt+l+d+Ce,y:Math.floor((tt+C)/ur)*Pt+a}))}],tt+L],[[],0]),f),t.$$.dirty[0]&24576&&r(8,h=l+(i>0?I+d:0)+Ce*2),t.$$.dirty[0]&4096&&r(7,_=o+Ce*2)},r(14,l=Pt*b[0].length),r(12,o=Pt*b.length),[y,P,z,D,$,Z,J,_,h,f,n,w,o,i,l,a,s,v,m,G,K]}class Fu extends Kt{constructor(e){super(),Wt(this,e,Hu,Bu,Qt,{availablePartyIcons:0},null,[-1,-1])}}function yl(t,e,r){const n=t.slice();return n[12]=e[r].party,n[13]=e[r].total,n}function bl(t,e,r){const n=t.slice();return n[12]=e[r].party,n[13]=e[r].total,n}function Ou(t){let e,r,n,l,o;return{c(){e=x("div"),r=R(),n=x("div"),l=R(),o=x("div"),this.h()},l(i){e=k(i,"DIV",{class:!0}),g(e).forEach(p),r=S(i),n=k(i,"DIV",{class:!0}),g(n).forEach(p),l=S(i),o=k(i,"DIV",{class:!0}),g(o).forEach(p),this.h()},h(){u(e,"class","w-1 h-1 bg-white rounded-full"),u(n,"class","w-1 h-1 bg-white rounded-full"),u(o,"class","w-1 h-1 bg-white rounded-full")},m(i,s){Q(i,e,s),Q(i,r,s),Q(i,n,s),Q(i,l,s),Q(i,o,s)},p:Ct,d(i){i&&p(e),i&&p(r),i&&p(n),i&&p(l),i&&p(o)}}}function qu(t){let e,r,n;return{c(){e=x("img"),this.h()},l(l){e=k(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){u(e,"class","w-16 h-16 rounded-full border-slate-200 border"),Qe(e.src,r=t[12].Images[0].url)||u(e,"src",r),u(e,"alt",n=t[12].Images[0].title)},m(l,o){Q(l,e,o)},p(l,o){o&8&&!Qe(e.src,r=l[12].Images[0].url)&&u(e,"src",r),o&8&&n!==(n=l[12].Images[0].title)&&u(e,"alt",n)},d(l){l&&p(e)}}}function El(t){let e,r,n,l,o=t[12].Name+"",i,s,a,f=t[13]+"",h,_;function v(d,y){return d[12].Images?qu:Ou}let m=v(t),w=m(t);return{c(){e=x("div"),r=x("div"),w.c(),n=R(),l=x("h6"),i=O(o),s=R(),a=x("h6"),h=O(f),_=R(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0,style:!0});var b=g(r);w.l(b),b.forEach(p),n=S(y),l=k(y,"H6",{class:!0});var I=g(l);i=q(I,o),I.forEach(p),s=S(y),a=k(y,"H6",{class:!0});var P=g(a);h=q(P,f),P.forEach(p),_=S(y),y.forEach(p),this.h()},h(){u(r,"class","w-16 h-16 flex items-center justify-center gap-x-1 rounded-full"),lt(r,"background-color",t[12].Color),u(l,"class","typo-b6 mt-1 text-center whitespace-nowrap"),u(a,"class","typo-b6"),u(e,"class","flex flex-col items-center mb-2 w-16 overflow-visible")},m(d,y){Q(d,e,y),c(e,r),w.m(r,null),c(e,n),c(e,l),c(l,i),c(e,s),c(e,a),c(a,h),c(e,_)},p(d,y){m===(m=v(d))&&w?w.p(d,y):(w.d(1),w=m(d),w&&(w.c(),w.m(r,null))),y&8&&lt(r,"background-color",d[12].Color),y&8&&o!==(o=d[12].Name+"")&&ft(i,o),y&8&&f!==(f=d[13]+"")&&ft(h,f)},d(d){d&&p(e),w.d()}}}function Uu(t){let e,r,n,l,o;return{c(){e=x("div"),r=R(),n=x("div"),l=R(),o=x("div"),this.h()},l(i){e=k(i,"DIV",{class:!0}),g(e).forEach(p),r=S(i),n=k(i,"DIV",{class:!0}),g(n).forEach(p),l=S(i),o=k(i,"DIV",{class:!0}),g(o).forEach(p),this.h()},h(){u(e,"class","w-1 h-1 bg-white rounded-full"),u(n,"class","w-1 h-1 bg-white rounded-full"),u(o,"class","w-1 h-1 bg-white rounded-full")},m(i,s){Q(i,e,s),Q(i,r,s),Q(i,n,s),Q(i,l,s),Q(i,o,s)},p:Ct,d(i){i&&p(e),i&&p(r),i&&p(n),i&&p(l),i&&p(o)}}}function Zu(t){let e,r,n;return{c(){e=x("img"),this.h()},l(l){e=k(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){u(e,"class","w-16 h-16 rounded-full border-slate-200 border"),Qe(e.src,r=t[12].Images[0].url)||u(e,"src",r),u(e,"alt",n=t[12].Images[0].title)},m(l,o){Q(l,e,o)},p(l,o){o&4&&!Qe(e.src,r=l[12].Images[0].url)&&u(e,"src",r),o&4&&n!==(n=l[12].Images[0].title)&&u(e,"alt",n)},d(l){l&&p(e)}}}function xl(t){let e,r,n,l,o=t[12].Name+"",i,s,a,f=t[13]+"",h,_;function v(d,y){return d[12].Images?Zu:Uu}let m=v(t),w=m(t);return{c(){e=x("div"),r=x("div"),w.c(),n=R(),l=x("h6"),i=O(o),s=R(),a=x("h6"),h=O(f),_=R(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0,style:!0});var b=g(r);w.l(b),b.forEach(p),n=S(y),l=k(y,"H6",{class:!0});var I=g(l);i=q(I,o),I.forEach(p),s=S(y),a=k(y,"H6",{class:!0});var P=g(a);h=q(P,f),P.forEach(p),_=S(y),y.forEach(p),this.h()},h(){u(r,"class","w-16 h-16 flex items-center justify-center gap-x-1 rounded-full"),lt(r,"background-color",t[12].Color),u(l,"class","typo-b6 mt-1 text-center whitespace-nowrap"),u(a,"class","typo-b6"),u(e,"class","flex flex-col items-center mb-2 w-16 overflow-visible")},m(d,y){Q(d,e,y),c(e,r),w.m(r,null),c(e,n),c(e,l),c(l,i),c(e,s),c(e,a),c(a,h),c(e,_)},p(d,y){m===(m=v(d))&&w?w.p(d,y):(w.d(1),w=m(d),w&&(w.c(),w.m(r,null))),y&4&&lt(r,"background-color",d[12].Color),y&4&&o!==(o=d[12].Name+"")&&ft(i,o),y&4&&f!==(f=d[13]+"")&&ft(h,f)},d(d){d&&p(e),w.d()}}}function kl(t){let e,r,n,l,o,i,s,a,f,h=xr-t[0]+"",_,v;return{c(){e=x("div"),r=et("svg"),n=et("rect"),l=et("path"),o=R(),i=x("h5"),s=O("ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),a=R(),f=x("h5"),_=O(h),v=O("+"),this.h()},l(m){e=k(m,"DIV",{class:!0});var w=g(e);r=rt(w,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var d=g(r);n=rt(d,"rect",{width:!0,height:!0,rx:!0,fill:!0}),g(n).forEach(p),l=rt(d,"path",{d:!0,fill:!0}),g(l).forEach(p),d.forEach(p),o=S(w),i=k(w,"H5",{class:!0});var y=g(i);s=q(y,"ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),y.forEach(p),a=S(w),f=k(w,"H5",{class:!0});var b=g(f);_=q(b,h),v=q(b,"+"),b.forEach(p),w.forEach(p),this.h()},h(){u(n,"width","24"),u(n,"height","24"),u(n,"rx","12"),u(n,"fill","#D09D03"),u(l,"d","M11.5778 13.42L10.9198 9.444V6.728H13.1038V9.444L12.4598 13.42H11.5778ZM11.9978 16.668C11.5498 16.668 11.2278 16.5653 11.0318 16.36C10.8451 16.1547 10.7518 15.9027 10.7518 15.604V15.268C10.7518 14.9693 10.8451 14.7173 11.0318 14.512C11.2278 14.3067 11.5498 14.204 11.9978 14.204C12.4458 14.204 12.7631 14.3067 12.9498 14.512C13.1458 14.7173 13.2438 14.9693 13.2438 15.268V15.604C13.2438 15.9027 13.1458 16.1547 12.9498 16.36C12.7631 16.5653 12.4458 16.668 11.9978 16.668Z"),u(l,"fill","#231F20"),u(r,"width","24"),u(r,"height","24"),u(r,"viewBox","0 0 24 24"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(r,"class","mr-[10px]"),u(i,"class","typo-b5 flex-1"),u(f,"class","typo-b4 font-bold ml-2"),u(e,"class","py-3 px-5 flex items-center mt-5 mb-10 bg-gray-4")},m(m,w){Q(m,e,w),c(e,r),c(r,n),c(r,l),c(e,o),c(e,i),c(i,s),c(e,a),c(e,f),c(f,_),c(f,v)},p(m,w){w&1&&h!==(h=xr-m[0]+"")&&ft(_,h)},d(m){m&&p(e)}}}function Xu(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,b,I,P,z,A,D,$,Z,J,G,K,B,tt,E,L,N,C,X,U=t[4]-t[0]+"",F,j,H,M,T,V,Y,st,ot,dt,kt,mt,wt,bt,_t,jt,fe,qt,Vt,Ne,ie,$t,te,yt,Et,ee,pt,At,xt,W,ut=t[3],nt=[];for(let ct=0;ct<ut.length;ct+=1)nt[ct]=El(bl(t,ut,ct));let Tt=t[2],It=[];for(let ct=0;ct<Tt.length;ct+=1)It[ct]=xl(yl(t,Tt,ct));let Nt=t[0]<=xr&&kl(t);return{c(){e=x("div"),r=x("div"),n=x("button"),l=et("svg"),o=et("path"),i=O(`
			ย้อนกลับ`),s=R(),a=x("a"),f=et("svg"),h=et("path"),_=O(`
			หน้าแรก`),v=R(),m=x("h4"),w=O("โฉมหน้า #สภา66 "),d=x("br"),y=O("จากการวิเคราะห์ของคุณ"),b=R(),I=x("div"),P=x("h6"),z=O("ฝ่ายรัฐบาล"),A=R(),D=x("h6"),$=O("("),Z=O(t[0]),J=O(")"),G=R(),K=x("div");for(let ct=0;ct<nt.length;ct+=1)nt[ct].c();B=R(),tt=x("div"),E=x("h6"),L=O("ฝ่ายค้าน"),N=R(),C=x("h6"),X=O("("),F=O(U),j=O(")"),H=R(),M=x("div");for(let ct=0;ct<It.length;ct+=1)It[ct].c();T=R(),Nt&&Nt.c(),V=R(),Y=x("h4"),st=O("ไม่ว่าคุณจะชอบผลวิเคราะห์ที่ออกมา หรือไม่ ก็"),ot=x("span"),dt=O("ต้องไม่ลืมออกไปเลือกตั้ง"),kt=R(),mt=x("br"),wt=O(`
		กำหนดชะตาประเทศไทย 14 พ.ค. 66 นี้`),bt=R(),_t=x("div"),jt=x("h4"),fe=O("ร่วมพัฒนาโดย"),qt=R(),Vt=x("img"),ie=R(),$t=x("div"),te=x("p"),yt=x("b"),Et=O("Disclaimer"),ee=O(`: ผลการวิเคราะห์นี้เป็นเพียงการทดลองประมาณการแบบคร่าวๆ
			บนฐานข้อมูลผลการเลือกตั้งเดิมบนกติกาเลือกตั้งใหม่และข้อสันนิษฐานที่กำหนดไว้เท่านั้น
			อาจมีปัจจัยอื่นที่ส่งผลต่อผลลัพธ์ในการเลือกตั้ง
			และไม่ได้มีเจตนาในการชี้นำผลการเลือกตั้งแต่อย่างใด`),this.h()},l(ct){e=k(ct,"DIV",{class:!0});var at=g(e);r=k(at,"DIV",{class:!0});var it=g(r);n=k(it,"BUTTON",{class:!0});var Mt=g(n);l=rt(Mt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var Be=g(l);o=rt(Be,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(o).forEach(p),Be.forEach(p),i=q(Mt,`
			ย้อนกลับ`),Mt.forEach(p),s=S(it),a=k(it,"A",{href:!0,class:!0});var re=g(a);f=rt(re,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var He=g(f);h=rt(He,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(h).forEach(p),He.forEach(p),_=q(re,`
			หน้าแรก`),re.forEach(p),it.forEach(p),v=S(at),m=k(at,"H4",{class:!0});var we=g(m);w=q(we,"โฉมหน้า #สภา66 "),d=k(we,"BR",{class:!0}),y=q(we,"จากการวิเคราะห์ของคุณ"),we.forEach(p),b=S(at),I=k(at,"DIV",{class:!0});var oe=g(I);P=k(oe,"H6",{class:!0});var ye=g(P);z=q(ye,"ฝ่ายรัฐบาล"),ye.forEach(p),A=S(oe),D=k(oe,"H6",{class:!0});var Ut=g(D);$=q(Ut,"("),Z=q(Ut,t[0]),J=q(Ut,")"),Ut.forEach(p),oe.forEach(p),G=S(at),K=k(at,"DIV",{class:!0});var Fe=g(K);for(let Ee=0;Ee<nt.length;Ee+=1)nt[Ee].l(Fe);Fe.forEach(p),B=S(at),tt=k(at,"DIV",{class:!0});var be=g(tt);E=k(be,"H6",{class:!0});var Oe=g(E);L=q(Oe,"ฝ่ายค้าน"),Oe.forEach(p),N=S(be),C=k(be,"H6",{class:!0});var he=g(C);X=q(he,"("),F=q(he,U),j=q(he,")"),he.forEach(p),be.forEach(p),H=S(at),M=k(at,"DIV",{class:!0});var qe=g(M);for(let Ee=0;Ee<It.length;Ee+=1)It[Ee].l(qe);qe.forEach(p),T=S(at),Nt&&Nt.l(at),V=S(at),Y=k(at,"H4",{class:!0});var se=g(Y);st=q(se,"ไม่ว่าคุณจะชอบผลวิเคราะห์ที่ออกมา หรือไม่ ก็"),ot=k(se,"SPAN",{class:!0});var Pe=g(ot);dt=q(Pe,"ต้องไม่ลืมออกไปเลือกตั้ง"),Pe.forEach(p),kt=S(se),mt=k(se,"BR",{}),wt=q(se,`
		กำหนดชะตาประเทศไทย 14 พ.ค. 66 นี้`),se.forEach(p),bt=S(at),_t=k(at,"DIV",{class:!0});var zt=g(_t);jt=k(zt,"H4",{class:!0});var ln=g(jt);fe=q(ln,"ร่วมพัฒนาโดย"),ln.forEach(p),qt=S(zt),Vt=k(zt,"IMG",{src:!0,alt:!0}),zt.forEach(p),ie=S(at),$t=k(at,"DIV",{class:!0});var on=g($t);te=k(on,"P",{class:!0});var Pr=g(te);yt=k(Pr,"B",{});var sn=g(yt);Et=q(sn,"Disclaimer"),sn.forEach(p),ee=q(Pr,`: ผลการวิเคราะห์นี้เป็นเพียงการทดลองประมาณการแบบคร่าวๆ
			บนฐานข้อมูลผลการเลือกตั้งเดิมบนกติกาเลือกตั้งใหม่และข้อสันนิษฐานที่กำหนดไว้เท่านั้น
			อาจมีปัจจัยอื่นที่ส่งผลต่อผลลัพธ์ในการเลือกตั้ง
			และไม่ได้มีเจตนาในการชี้นำผลการเลือกตั้งแต่อย่างใด`),Pr.forEach(p),on.forEach(p),at.forEach(p),this.h()},h(){u(o,"fill-rule","evenodd"),u(o,"clip-rule","evenodd"),u(o,"d","M8.16098 12.98L15.362 5.77999L16.3701 6.78799L10.1773 12.98L16.3701 19.172L15.362 20.18L8.16098 12.98Z"),u(o,"fill","#0000FF"),u(l,"width","25"),u(l,"height","25"),u(l,"viewBox","0 0 25 25"),u(l,"fill","none"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","flex items-center typo-b5 text-byx-blue mb-5 cursor-pointer mr-5"),u(h,"fill-rule","evenodd"),u(h,"clip-rule","evenodd"),u(h,"d","M10.3847 1.88124C10.1575 1.70174 9.83682 1.70174 9.60967 1.88124L0.628418 8.88749L1.40342 9.87499L2.50342 9.01249V16.75C2.50342 17.4403 3.06306 18 3.75342 18H16.2534C16.9438 18 17.5034 17.4403 17.5034 16.75V9.01874L18.6034 9.87499L19.3784 8.89374L10.3847 1.88124ZM11.2534 16.75H8.75342V11.75H11.2534V16.75ZM12.5034 16.75V11.75C12.5034 11.0596 11.9438 10.5 11.2534 10.5H8.75342C8.06306 10.5 7.50342 11.0596 7.50342 11.75V16.75H3.75342V8.03749L10.0034 3.16874L16.2534 8.04374V16.75H12.5034Z"),u(h,"fill","#0000FF"),u(f,"width","21"),u(f,"height","21"),u(f,"viewBox","0 0 21 21"),u(f,"fill","none"),u(f,"xmlns","http://www.w3.org/2000/svg"),u(f,"class","mr-1"),u(a,"href",Gt+"/"),u(a,"class","flex items-center typo-b5 text-byx-blue mb-5 cursor-pointer"),u(r,"class","flex w-full"),u(d,"class","hidden md:inline"),u(m,"class","typo-h4 font-bold beyonx-text-gradient text-center"),u(P,"class","typo-h6 font-bold"),u(D,"class","typo-h6"),u(I,"class","flex w-full justify-center mt-5 mb-3"),u(K,"class","flex justify-center flex-wrap gap-x-10"),u(E,"class","typo-h7 font-bold"),u(C,"class","typo-h7"),u(tt,"class","flex w-full justify-center mt-3 mb-3"),u(M,"class","flex justify-center flex-wrap gap-x-10"),u(ot,"class","beyonx-text-gradient font-bold"),u(Y,"class","typo-b4 text-center"),u(jt,"class","typo-b4 mr-4"),Qe(Vt.src,Ne=hi)||u(Vt,"src",Ne),u(Vt,"alt","beyondx"),u(_t,"class","flex items-center my-10"),u(te,"class","typo-b6 py-2 px-4"),u($t,"class","w-full bg-gray-4"),u(e,"class","flex flex-col items-center w-full max-w-[698px] px-6 py-10")},m(ct,at){Q(ct,e,at),c(e,r),c(r,n),c(n,l),c(l,o),c(n,i),c(r,s),c(r,a),c(a,f),c(f,h),c(a,_),c(e,v),c(e,m),c(m,w),c(m,d),c(m,y),c(e,b),c(e,I),c(I,P),c(P,z),c(I,A),c(I,D),c(D,$),c(D,Z),c(D,J),c(e,G),c(e,K);for(let it=0;it<nt.length;it+=1)nt[it].m(K,null);c(e,B),c(e,tt),c(tt,E),c(E,L),c(tt,N),c(tt,C),c(C,X),c(C,F),c(C,j),c(e,H),c(e,M);for(let it=0;it<It.length;it+=1)It[it].m(M,null);c(e,T),Nt&&Nt.m(e,null),c(e,V),c(e,Y),c(Y,st),c(Y,ot),c(ot,dt),c(Y,kt),c(Y,mt),c(Y,wt),c(e,bt),c(e,_t),c(_t,jt),c(jt,fe),c(_t,qt),c(_t,Vt),c(e,ie),c(e,$t),c($t,te),c(te,yt),c(yt,Et),c(te,ee),At=!0,xt||(W=[gt(n,"click",function(){We(t[1])&&t[1].apply(this,arguments)}),gt(a,"click",t[5])],xt=!0)},p(ct,[at]){if(t=ct,(!At||at&1)&&ft(Z,t[0]),at&8){ut=t[3];let it;for(it=0;it<ut.length;it+=1){const Mt=bl(t,ut,it);nt[it]?nt[it].p(Mt,at):(nt[it]=El(Mt),nt[it].c(),nt[it].m(K,null))}for(;it<nt.length;it+=1)nt[it].d(1);nt.length=ut.length}if((!At||at&17)&&U!==(U=t[4]-t[0]+"")&&ft(F,U),at&4){Tt=t[2];let it;for(it=0;it<Tt.length;it+=1){const Mt=yl(t,Tt,it);It[it]?It[it].p(Mt,at):(It[it]=xl(Mt),It[it].c(),It[it].m(M,null))}for(;it<It.length;it+=1)It[it].d(1);It.length=Tt.length}t[0]<=xr?Nt?Nt.p(t,at):(Nt=kl(t),Nt.c(),Nt.m(e,V)):Nt&&(Nt.d(1),Nt=null)},i(ct){At||(Gr(()=>{pt||(pt=Le(e,Re,{x:400},!0)),pt.run(1)}),At=!0)},o(ct){pt||(pt=Le(e,Re,{x:400},!1)),pt.run(0),At=!1},d(ct){ct&&p(e),Xt(nt,ct),Xt(It,ct),Nt&&Nt.d(),ct&&pt&&pt.end(),xt=!1,ge(W)}}}const xr=376,cr=5;function Gu(t,e,r){let n,l,o,i,s,{representativeRecord:a}=e,{governmentParties:f}=e,{oppositionParties:h}=e,{governmentPoints:_}=e,{toggleIsShare:v}=e;const m={Name:"อื่นๆ",Color:"#CCCCCC"},w=()=>{Kr.reset(),Ke.updateContent(Ml.Analytics),Ke.reset()};return t.$$set=d=>{"representativeRecord"in d&&r(6,a=d.representativeRecord),"governmentParties"in d&&r(7,f=d.governmentParties),"oppositionParties"in d&&r(8,h=d.oppositionParties),"governmentPoints"in d&&r(0,_=d.governmentPoints),"toggleIsShare"in d&&r(1,v=d.toggleIsShare)},t.$$.update=()=>{t.$$.dirty&64&&r(4,n=a.reduce((d,y)=>d+y.total,0)),t.$$.dirty&128&&r(10,l=f.reduce((d,{fromDistrict:y,fromPartylist:b,total:I})=>(I<=cr&&(d.fromDistrict+=y,d.fromPartylist+=b,d.total+=I),d),{party:m,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&256&&r(9,o=h.reduce((d,{fromDistrict:y,fromPartylist:b,total:I})=>(I<=cr&&(d.fromDistrict+=y,d.fromPartylist+=b,d.total+=I),d),{party:m,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&1152&&r(3,i=[...f.sort((d,y)=>y.total-d.total).filter(d=>d.total>cr),l].filter(d=>d.total>0)),t.$$.dirty&768&&r(2,s=[...h.sort((d,y)=>y.total-d.total).filter(d=>d.total>cr),o].filter(d=>d.total>0))},[_,v,s,i,n,w,a,f,h,o,l]}class Yu extends Kt{constructor(e){super(),Wt(this,e,Gu,Xu,Qt,{representativeRecord:6,governmentParties:7,oppositionParties:8,governmentPoints:0,toggleIsShare:1})}}function Ku(t){let e,r,n,l,o,i,s,a,f,h,_,v;return s=new Yu({props:{representativeRecord:t[1],governmentParties:t[8],oppositionParties:t[7],governmentPoints:t[6],toggleIsShare:t[13]}}),{c(){e=x("div"),r=x("election-header"),n=R(),l=x("div"),o=R(),i=x("div"),Bt(s.$$.fragment),a=R(),f=x("election-bottom"),h=R(),_=x("election-footer"),this.h()},l(m){e=k(m,"DIV",{class:!0});var w=g(e);r=k(w,"ELECTION-HEADER",{}),g(r).forEach(p),n=S(w),l=k(w,"DIV",{class:!0}),g(l).forEach(p),o=S(w),i=k(w,"DIV",{class:!0});var d=g(i);Ht(s.$$.fragment,d),d.forEach(p),a=S(w),f=k(w,"ELECTION-BOTTOM",{"index-path":!0,"about-path":!0}),g(f).forEach(p),h=S(w),_=k(w,"ELECTION-FOOTER",{}),g(_).forEach(p),w.forEach(p),this.h()},h(){u(l,"class","sticky top-0 w-full h-1 beyondx-gradient-bg"),u(i,"class","flex-1 flex justify-center items-center"),un(f,"index-path",Gt),un(f,"about-path",Gt+"/about"),u(e,"class","h-full flex flex-col")},m(m,w){Q(m,e,w),c(e,r),c(e,n),c(e,l),c(e,o),c(e,i),Ft(s,i,null),c(e,a),c(e,f),c(e,h),c(e,_),v=!0},p(m,w){const d={};w&2&&(d.representativeRecord=m[1]),w&256&&(d.governmentParties=m[8]),w&128&&(d.oppositionParties=m[7]),w&64&&(d.governmentPoints=m[6]),s.$set(d)},i(m){v||(ht(s.$$.fragment,m),v=!0)},o(m){vt(s.$$.fragment,m),v=!1},d(m){m&&p(e),Ot(s)}}}function Wu(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,b,I,P,z,A,D,$,Z,J,G,K,B,tt,E,L,N,C,X;const U=[ju,Ju],F=[];function j(H,M){return H[5]===H[10].Map?0:1}return B=j(t),tt=F[B]=U[B](t),L=new Fi({props:{representativeRecord:t[1],governmentParties:t[8],oppositionParties:t[7],governmentPoints:t[6],toggleSide:Yt.toggleSide,toggleIsShare:t[13]}}),{c(){e=x("div"),r=x("div"),n=R(),l=x("div"),o=x("div"),i=x("div"),s=x("h7"),a=O("จำลองผล #เลือกตั้ง66 "),f=x("br"),h=O(" จากคำตอบของคุณ"),_=R(),v=x("a"),m=x("span"),w=O("แก้ไขคำตอบ"),d=R(),y=et("svg"),b=et("path"),I=R(),P=x("div"),z=x("button"),A=O("รายเขต"),$=R(),Z=x("button"),J=O("รวมจำนวน ส.ส."),K=R(),tt.c(),E=R(),Bt(L.$$.fragment),this.h()},l(H){e=k(H,"DIV",{class:!0});var M=g(e);r=k(M,"DIV",{class:!0}),g(r).forEach(p),n=S(M),l=k(M,"DIV",{class:!0});var T=g(l);o=k(T,"DIV",{class:!0});var V=g(o);i=k(V,"DIV",{class:!0});var Y=g(i);s=k(Y,"H7",{class:!0});var st=g(s);a=q(st,"จำลองผล #เลือกตั้ง66 "),f=k(st,"BR",{class:!0}),h=q(st," จากคำตอบของคุณ"),st.forEach(p),_=S(Y),v=k(Y,"A",{href:!0,class:!0});var ot=g(v);m=k(ot,"SPAN",{class:!0});var dt=g(m);w=q(dt,"แก้ไขคำตอบ"),dt.forEach(p),d=S(ot),y=rt(ot,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var kt=g(y);b=rt(kt,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(b).forEach(p),kt.forEach(p),ot.forEach(p),Y.forEach(p),I=S(V),P=k(V,"DIV",{class:!0});var mt=g(P);z=k(mt,"BUTTON",{class:!0});var wt=g(z);A=q(wt,"รายเขต"),wt.forEach(p),$=S(mt),Z=k(mt,"BUTTON",{class:!0});var bt=g(Z);J=q(bt,"รวมจำนวน ส.ส."),bt.forEach(p),mt.forEach(p),K=S(V),tt.l(V),V.forEach(p),T.forEach(p),E=S(M),Ht(L.$$.fragment,M),M.forEach(p),this.h()},h(){u(r,"class","fixed top-0 w-full h-1 beyondx-gradient-bg"),u(f,"class","inline md:hidden"),u(s,"class","typo-h7 font-bold grow"),u(m,"class","typo-b5 text-byx-blue ml-1 underline text-right"),u(b,"fill-rule","evenodd"),u(b,"clip-rule","evenodd"),u(b,"d","M19.0575 6.74987C19.3392 6.46852 19.4974 6.08674 19.4974 5.68862C19.4974 5.29051 19.3392 4.90872 19.0575 4.62737L16.3725 1.94237C16.0911 1.66071 15.7094 1.50244 15.3112 1.50244C14.9131 1.50244 14.5314 1.66071 14.25 1.94237L3 13.1924V17.9999H7.8075L19.0575 6.74987ZM15.3075 2.99987L18 5.69237L15.75 7.94237L13.0575 5.24987L15.3075 2.99987ZM4.5 16.4999V13.8074L12 6.30737L14.6925 8.99987L7.1925 16.4999H4.5Z"),u(b,"fill","#0000FF"),u(y,"width","24"),u(y,"height","24"),u(y,"viewBox","0 0 24 24"),u(y,"fill","none"),u(y,"xmlns","http://www.w3.org/2000/svg"),u(y,"class","ml-1"),u(v,"href",Gt+"/quiz"),u(v,"class","cursor-pointer flex"),u(i,"class","flex w-full items-start md:items-center"),u(z,"class",D="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(t[5]===t[10].Map?"font-bold border-black":"")),u(Z,"class",G="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(t[5]===t[10].Graph?"font-bold border-black":"")),u(P,"class","w-full flex justify-center items-center mt-3"),u(o,"class","flex-1 flex flex-col items-center container svelte-438yzl"),u(l,"class","flex-1 flex flex-col items-center pt-10"),u(e,"class","h-screen flex flex-col relative")},m(H,M){Q(H,e,M),c(e,r),c(e,n),c(e,l),c(l,o),c(o,i),c(i,s),c(s,a),c(s,f),c(s,h),c(i,_),c(i,v),c(v,m),c(m,w),c(v,d),c(v,y),c(y,b),c(o,I),c(o,P),c(P,z),c(z,A),c(P,$),c(P,Z),c(Z,J),c(o,K),F[B].m(o,null),c(e,E),Ft(L,e,null),N=!0,C||(X=[gt(v,"click",t[12]),gt(z,"click",t[15]),gt(Z,"click",t[16])],C=!0)},p(H,M){(!N||M&32&&D!==(D="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(H[5]===H[10].Map?"font-bold border-black":"")))&&u(z,"class",D),(!N||M&32&&G!==(G="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(H[5]===H[10].Graph?"font-bold border-black":"")))&&u(Z,"class",G);let T=B;B=j(H),B===T?F[B].p(H,M):(Te(),vt(F[T],1,1,()=>{F[T]=null}),Ve(),tt=F[B],tt?tt.p(H,M):(tt=F[B]=U[B](H),tt.c()),ht(tt,1),tt.m(o,null));const V={};M&2&&(V.representativeRecord=H[1]),M&256&&(V.governmentParties=H[8]),M&128&&(V.oppositionParties=H[7]),M&64&&(V.governmentPoints=H[6]),L.$set(V)},i(H){N||(ht(tt),ht(L.$$.fragment,H),N=!0)},o(H){vt(tt),vt(L.$$.fragment,H),N=!1},d(H){H&&p(e),F[B].d(),Ot(L),C=!1,ge(X)}}}function Qu(t){let e,r;return e=new fi({}),{c(){Bt(e.$$.fragment)},l(n){Ht(e.$$.fragment,n)},m(n,l){Ft(e,n,l),r=!0},p:Ct,i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){vt(e.$$.fragment,n),r=!1},d(n){Ot(e,n)}}}function Ju(t){let e,r,n,l;return r=new Wi({props:{elect66Record:t[1],elect62Record:t[9]}}),{c(){e=x("div"),Bt(r.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var i=g(e);Ht(r.$$.fragment,i),i.forEach(p),this.h()},h(){u(e,"class","w-full")},m(o,i){Q(o,e,i),Ft(r,e,null),l=!0},p(o,i){const s={};i&2&&(s.elect66Record=o[1]),i&512&&(s.elect62Record=o[9]),r.$set(s)},i(o){l||(ht(r.$$.fragment,o),Gr(()=>{n||(n=Le(e,Re,{x:400},!0)),n.run(1)}),l=!0)},o(o){vt(r.$$.fragment,o),n||(n=Le(e,Re,{x:400},!1)),n.run(0),l=!1},d(o){o&&p(e),Ot(r),o&&n&&n.end()}}}function ju(t){let e,r,n,l;return r=new Fu({props:{availablePartyIcons:t[0].availablePartyIcons}}),{c(){e=x("div"),Bt(r.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var i=g(e);Ht(r.$$.fragment,i),i.forEach(p),this.h()},h(){u(e,"class","grow relative w-full mb-[112px]")},m(o,i){Q(o,e,i),Ft(r,e,null),l=!0},p(o,i){const s={};i&1&&(s.availablePartyIcons=o[0].availablePartyIcons),r.$set(s)},i(o){l||(ht(r.$$.fragment,o),Gr(()=>{n||(n=Le(e,Re,{x:-400},!0)),n.run(1)}),l=!0)},o(o){vt(r.$$.fragment,o),n||(n=Le(e,Re,{x:-400},!1)),n.run(0),l=!1},d(o){o&&p(e),Ot(r),o&&n&&n.end()}}}function $u(t){let e,r,n,l,o,i;e=new di({props:{pageTitle:"ผลลัพธ์"}});const s=[Qu,Wu,Ku],a=[];function f(h,_){return!h[2]&&!h[3]?0:h[4]?2:1}return n=f(t),l=a[n]=s[n](t),{c(){Bt(e.$$.fragment),r=R(),l.c(),o=Me()},l(h){Ht(e.$$.fragment,h),r=S(h),l.l(h),o=Me()},m(h,_){Ft(e,h,_),Q(h,r,_),a[n].m(h,_),Q(h,o,_),i=!0},p(h,[_]){let v=n;n=f(h),n===v?a[n].p(h,_):(Te(),vt(a[v],1,1,()=>{a[v]=null}),Ve(),l=a[n],l?l.p(h,_):(l=a[n]=s[n](h),l.c()),ht(l,1),l.m(o.parentNode,o))},i(h){i||(ht(e.$$.fragment,h),ht(l),i=!0)},o(h){vt(e.$$.fragment,h),vt(l),i=!1},d(h){Ot(e,h),h&&p(r),a[n].d(h),h&&p(o)}}}function tc(t,e,r){let n,l,o,i,s,a,f;ve(t,Yt,A=>r(14,i=A)),ve(t,Sl,A=>r(1,s=A)),ve(t,Ke,A=>r(17,a=A)),ve(t,_n,A=>r(9,f=A));var h=(A=>(A.Map="map",A.Graph="graph",A))(h||{});let{data:_}=e,v=!1,m=!1,w=!1;Il(async()=>{a.isFinished||(ci(Gt),r(2,v=!1),r(3,m=!1),r(4,w=!1)),setTimeout(()=>{r(3,m=!0)},2e3),a.isEdited||await Yt.load(),await Se.load(),Se.calculate(),await Rl.load(),await _n.load(),r(2,v=!0)});let d="map";const y=A=>{r(5,d=A)},b=()=>{Ke.startEdit(),Ke.updateContent(Ml.EditQuiz)},I=()=>{r(4,w=!w)},P=()=>y(h.Map),z=()=>y(h.Graph);return t.$$set=A=>{"data"in A&&r(0,_=A.data)},t.$$.update=()=>{t.$$.dirty&16386&&r(8,[n,l,o]=s.reduce(([A,D,$],Z)=>{var J;return((J=i.list.find(({Name:G})=>Z.party.Name===G))==null?void 0:J.PartyGroup)===Ar.Government?[[...A,Z],D,$+Z.total]:[A,[Z,...D],$]},[[],[],0]),n,(r(7,l),r(1,s),r(14,i)),(r(6,o),r(1,s),r(14,i)))},[_,s,v,m,w,d,o,l,n,f,h,y,b,I,i,P,z]}class uc extends Kt{constructor(e){super(),Wt(this,e,tc,$u,Qt,{data:0})}}export{uc as default};
