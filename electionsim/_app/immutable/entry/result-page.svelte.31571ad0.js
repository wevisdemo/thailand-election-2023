var ii=Object.defineProperty;var oi=(t,e,r)=>e in t?ii(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var tr=(t,e,r)=>(oi(t,typeof e!="symbol"?e+"":e,r),r);import{V as fe,S as Yt,i as Kt,s as Wt,k as x,q as F,l as k,m as g,r as O,h as p,n as u,b as J,G as c,u as ct,H as Pt,a as S,y as Bt,c as A,z as Ht,p as nt,A as Ft,g as ht,d as _t,P as Zt,B as Ot,K as bt,Q as he,N as tt,O as et,U as Ue,e as Te,I as ce,W as an,v as Ne,f as Ie,o as xl,X as kl,w as Nl,Y as Il,Z as Cl,_ as Tl,$ as Pl,J as Ze,R as Ur,T as Pe,M as un}from"../chunks/index.c14cb923.js";import{b as Xt}from"../chunks/paths.e85604c7.js";import{w as Zr,d as si}from"../chunks/index.a27e6e1d.js";import{p as Gt,S as St,P as Lr,i as Xr,f as Ve,g as ai,C as ui}from"../chunks/party.39753cc8.js";import{c as qe,C as Vl}from"../chunks/content.dae6d267.js";import{b as ci}from"../chunks/byx-mobile.fa54e4c2.js";import{M as fi}from"../chunks/metadata.04462c26.js";var cn={},Nr={},Ir=34,ze=10,Cr=13;function Dl(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function hi(t,e){var r=Dl(t);return function(n,l){return e(r(n),l,t)}}function fn(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var l in n)l in e||r.push(e[l]=l)}),r}function Rt(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function di(t){return t<0?"-"+Rt(-t,6):t>9999?"+"+Rt(t,6):Rt(t,4)}function pi(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),l=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":di(t.getUTCFullYear())+"-"+Rt(t.getUTCMonth()+1,2)+"-"+Rt(t.getUTCDate(),2)+(l?"T"+Rt(e,2)+":"+Rt(r,2)+":"+Rt(n,2)+"."+Rt(l,3)+"Z":n?"T"+Rt(e,2)+":"+Rt(r,2)+":"+Rt(n,2)+"Z":r||e?"T"+Rt(e,2)+":"+Rt(r,2)+"Z":"")}function _i(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(_,v){var m,w,d=l(_,function(y,E){if(m)return m(y,E-1);w=y,m=v?hi(y,v):Dl(y)});return d.columns=w||[],d}function l(_,v){var m=[],w=_.length,d=0,y=0,E,N=w<=0,C=!1;_.charCodeAt(w-1)===ze&&--w,_.charCodeAt(w-1)===Cr&&--w;function D(){if(N)return Nr;if(C)return C=!1,cn;var M,W=d,X;if(_.charCodeAt(W)===Ir){for(;d++<w&&_.charCodeAt(d)!==Ir||_.charCodeAt(++d)===Ir;);return(M=d)>=w?N=!0:(X=_.charCodeAt(d++))===ze?C=!0:X===Cr&&(C=!0,_.charCodeAt(d)===ze&&++d),_.slice(W+1,M-1).replace(/""/g,'"')}for(;d<w;){if((X=_.charCodeAt(M=d++))===ze)C=!0;else if(X===Cr)C=!0,_.charCodeAt(d)===ze&&++d;else if(X!==r)continue;return _.slice(W,M)}return N=!0,_.slice(W,w)}for(;(E=D())!==Nr;){for(var U=[];E!==cn&&E!==Nr;)U.push(E),E=D();v&&(U=v(U,y++))==null||m.push(U)}return m}function o(_,v){return _.map(function(m){return v.map(function(w){return h(m[w])}).join(t)})}function i(_,v){return v==null&&(v=fn(_)),[v.map(h).join(t)].concat(o(_,v)).join(`
`)}function s(_,v){return v==null&&(v=fn(_)),o(_,v).join(`
`)}function a(_){return _.map(f).join(`
`)}function f(_){return _.map(h).join(t)}function h(_){return _==null?"":_ instanceof Date?pi(_):e.test(_+="")?'"'+_.replace(/"/g,'""')+'"':_}return{parse:n,parseRows:l,format:i,formatBody:s,formatRows:a,formatRow:f,formatValue:h}}var vi=_i(","),mi=vi.parse;function gi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function wi(t,e){return fetch(t,e).then(gi)}function yi(t){return function(e,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),wi(e,r).then(function(l){return t(l,n)})}}var hr=yi(mi);const bi=Math.random,Ei=function t(e){function r(n,l){var o,i;return n=n==null?0:+n,l=l==null?1:+l,function(){var s;if(o!=null)s=o,o=null;else do o=e()*2-1,s=e()*2-1,i=o*o+s*s;while(!i||i>1);return n+l*s*Math.sqrt(-2*Math.log(i)/i)}}return r.source=t,r}(bi),xi=.03;class ki{constructor(){tr(this,"parties");tr(this,"globalMatrix");tr(this,"districtMatrix");this.parties=fe(Gt).list,this.globalMatrix=this.createVoteFlowMatrix(),this.districtMatrix=new Map}createVoteFlowMatrix(){return this.parties.reduce((e,r)=>({...e,[r.Name]:this.parties.reduce((n,l)=>({...n,[l.Name]:r.Name===l.Name?1:0}),{})}),{})}updateVoteFlow(e,r,n,l=this.globalMatrix){const o=n<l[e][e]?n:l[e][e];l[e][r]+=n,l[e][e]-=o}updateDistrictVoteFlow(e,r,n,l,o){const i=this.getDistrictVoteFlowKey(e,r);this.districtMatrix.has(i)||this.districtMatrix.set(i,this.createVoteFlowMatrix()),this.updateVoteFlow(n,l,o,this.districtMatrix.get(i))}getDistrictVoteFlowKey(e,r){return`${e}-${r}`}updateVoteFlowBetweenGroups(e,r,n){const[l,o]=n>0?[e,r]:[r,e];l.forEach(i=>{const s=Math.min(Math.abs(n),this.globalMatrix[i][i])/(l.length+o.length);o.forEach(a=>{this.updateVoteFlow(i,a,Math.min(s))})})}applyVoteFlow(e,r){const n=fe(Gt).map,l=Object.keys(r),o=l.reduce((s,a)=>{var f;return{...s,[a]:((f=e.find(({party:h})=>a===h.Name))==null?void 0:f.points)||0}},{}),i=e.reduce((s,{points:a})=>s+a,0);return l.map(s=>({party:n.get(s),points:l.reduce((a,f)=>{const h=r[f][s],_=h>0&&h<1?Math.max(0,Math.min(Ei(r[f][s],xi)(),1)):h;return a+o[f]*_},0)*i})).filter(({points:s})=>s>0).sort((s,a)=>a.points-s.points)}calculateVoteFlowResult(e){return Object.entries(e).reduce((r,[n,l])=>({...r,[n]:Object.entries(l).reduce((o,[i,s])=>{if(!s)return o;const a=this.districtMatrix.get(this.getDistrictVoteFlowKey(n,i));return{...o,[i]:this.applyVoteFlow(a?this.applyVoteFlow(s,a):s,this.globalMatrix)}},{})}),{})}}const hn={[St.Scale0]:0,[St.Scale10]:.1,[St.Scale30]:.3,[St.Scale50]:.5,[St.Scale70]:.7,[St.Scale90]:.9,[St.Scale100]:1},er={[St.Scale0]:-.3,[St.Scale10]:-.2,[St.Scale30]:-.1,[St.Scale50]:0,[St.Scale70]:.1,[St.Scale90]:.2,[St.Scale100]:.3};let Tr,dn,Pr,pn;const Ni=()=>{const{subscribe:t,update:e}=Zr({});return{subscribe:t,load:async()=>{const r=fe(Gt);Tr=(await hr(`${Xt}/data/popularity-projection-2566.csv`)).reduce((l,{province:o,electorialDistrictNumber:i,party:s,points:a})=>(l[o]||(l[o]={}),l[o][+i]||(l[o][+i]=[]),r.map.get(s)||Gt.add({Name:s}),l[o][+i].push({party:r.map.get(s),points:+a}),l),{}),dn=await hr(`${Xt}/data/candidate-party-changes-66.csv`),pn=r.list.filter(({PartyGroup:l})=>l===Lr.Opposition).map(({Name:l})=>l),Pr=r.list.filter(({PartyGroup:l})=>l===Lr.Government).map(({Name:l})=>l),e(()=>Tr)},calculate(){var l,o,i;const{input:r}=fe(Xr),n=new ki;if(r.quiz1){const s=1-hn[r.quiz1];s>0&&dn.forEach(({province:a,electorialDistrictNumber:f,fromParty:h,toParty:_})=>n.updateDistrictVoteFlow(a,f,h,_,s))}if(r.quiz2&&n.updateVoteFlow("พลังประชารัฐ","รวมไทยสร้างชาติ",hn[r.quiz2]),r.quiz3){const s=er[r.quiz3];s>0?n.updateVoteFlow("ก้าวไกล","เพื่อไทย",s):s<0&&n.updateVoteFlow("เพื่อไทย","ก้าวไกล",-s)}if(r.quiz4){const s=er[r.quiz4];if(s!==0){const a=["พลังประชารัฐ","รวมไทยสร้างชาติ"],f=Pr.filter(h=>!a.includes(h));n.updateVoteFlowBetweenGroups(f,a,s)}}if(r.quiz5){const s=er[r.quiz5];s!==0&&n.updateVoteFlowBetweenGroups(pn,Pr,s)}r.quiz7&&((l=r.quiz8)!=null&&l.percent)&&((o=r.quiz8)!=null&&o.from)&&((i=r.quiz8)!=null&&i.to)&&n.updateVoteFlow(r.quiz8.from,r.quiz8.to,er[r.quiz8.percent]),e(()=>n.calculateVoteFlowResult(Tr))}}},De=Ni(),Ii=`${Xt}/data/result-2562.csv`,Ci=()=>{const{subscribe:t,update:e}=Zr([]);return{subscribe:t,load:async()=>{const r=fe(Gt),l=(await hr(Ii)).reduce((o,{party:i,district:s,partylist:a})=>i==="อนาคตใหม่"?[...o,{party:r.map.get("ก้าวไกล"),fromDistrict:parseInt(s),fromPartylist:parseInt(a),total:parseInt(s)+parseInt(a)}]:(r.map.get(i)||Gt.add({Name:i}),[...o,{party:r.map.get(i),fromDistrict:parseInt(s),fromPartylist:parseInt(a),total:parseInt(s)+parseInt(a)}]),[]);e(()=>l.sort((o,i)=>i.total-o.total))}}},_n=Ci(),vn=100,Ti=()=>{const{subscribe:t,update:e}=Zr([]);return{subscribe:t,load:async()=>{const{input:r}=fe(Xr),n=r.quiz6?await Pi(r.quiz6.filename):Vi(),l=n.reduce((s,{popularity:a})=>s+a,0)/vn,o=n.map(({party:s,popularity:a})=>({party:s,representatives:Math.floor(+a/l),remainder:a%l})).sort((s,a)=>a.remainder-s.remainder),i=o.reduce((s,{representatives:a})=>s+a,0);for(let s=0;s<vn-i;s++)o[s].representatives++;e(()=>o.map(({remainder:s,...a})=>a).sort((s,a)=>a.representatives-s.representatives))}}};async function Pi(t){const e=fe(Gt);return(await hr(`${Xt}/data/${t}`)).map(({party:n,popularity:l})=>({party:e.map.get(n),popularity:+l}))}function Vi(){const t=new Map;return Object.values(fe(De)).forEach(e=>Object.values(e).forEach(r=>r.forEach(({party:n,points:l})=>{var o;t.set(n.Name,{party:n,popularity:(((o=t.get(n.Name))==null?void 0:o.popularity)||0)+l})}))),[...t.values()].sort((e,r)=>r.popularity-e.popularity)}const Ml=Ti(),Ll=si([De,Ml],([t,e])=>{const r={},n=l=>{r[l.Name]||(r[l.Name]={party:l,fromDistrict:0,fromPartylist:0,total:0})};return Object.values(t).forEach(l=>Object.values(l).forEach(o=>{const{party:i}=o[0];i&&(n(i),r[i.Name].fromDistrict++,r[i.Name].total+=1)})),e.forEach(({party:l,representatives:o})=>{n(l),r[l.Name].fromPartylist+=o,r[l.Name].total+=o}),Object.values(r).sort((l,o)=>o.total-l.total)});function Di(t){let e,r,n;return{c(){e=x("div"),r=x("p"),n=F(t[0]),this.h()},l(l){e=k(l,"DIV",{class:!0,style:!0});var o=g(e);r=k(o,"P",{class:!0});var i=g(r);n=O(i,t[0]),i.forEach(p),o.forEach(p),this.h()},h(){u(r,"class","typo-b6 transform -translate-y-full -translate-x-1/2 absolute left-1/2 top-1 md:-top-1 whitespace-nowrap text-white"),u(e,"class","absolute -top-2 -bottom-2 w-[1px] bg-white"),u(e,"style",t[1])},m(l,o){J(l,e,o),c(e,r),c(r,n)},p(l,[o]){o&1&&ct(n,l[0]),o&2&&u(e,"style",l[1])},i:Pt,o:Pt,d(l){l&&p(e)}}}function Mi(t,e,r){let{label:n}=e,{style:l}=e;return t.$$set=o=>{"label"in o&&r(0,n=o.label),"style"in o&&r(1,l=o.style)},[n,l]}class Li extends Yt{constructor(e){super(),Kt(this,e,Mi,Di,Wt,{label:0,style:1})}}function mn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function gn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function wn(t,e,r){const n=t.slice();return n[15]=e[r].party,n[16]=e[r].total,n}function Ri(t){let e,r,n,l,o;return{c(){e=x("button"),r=tt("svg"),n=tt("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var s=g(e);r=et(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=g(r);n=et(a,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(n).forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){u(n,"fill-rule","evenodd"),u(n,"clip-rule","evenodd"),u(n,"d","M15.3598 10.8802L24.9598 20.4802L23.6158 21.8242L15.3598 13.5682L7.10377 21.8242L5.75977 20.4802L15.3598 10.8802Z"),u(n,"fill","white"),u(r,"width","32"),u(r,"height","32"),u(r,"viewBox","0 0 32 32"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","w-12 h-12 rounded-full beyondx-gradient-bg absolute flex justify-center items-center -top-10 right-6")},m(i,s){J(i,e,s),c(e,r),c(r,n),l||(o=bt(e,"click",t[8]),l=!0)},p:Pt,d(i){i&&p(e),l=!1,o()}}}function Si(t){let e,r,n,l,o;return{c(){e=x("button"),r=tt("svg"),n=tt("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var s=g(e);r=et(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=g(r);n=et(a,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(n).forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){u(n,"fill-rule","evenodd"),u(n,"clip-rule","evenodd"),u(n,"d","M9.4 8.99668L8 10.3969L14.6 16.9978L8 23.5987L9.4 24.9989L16 18.398L22.6 24.9989L24 23.5987L17.4 16.9978L24 10.3969L22.6 8.99668L16 15.5976L9.4 8.99668Z"),u(n,"fill","#fff"),u(r,"width","32"),u(r,"height","33"),u(r,"viewBox","0 0 32 33"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","absolute -top-10 right-6")},m(i,s){J(i,e,s),c(e,r),c(r,n),l||(o=bt(e,"click",t[8]),l=!0)},p:Pt,d(i){i&&p(e),l=!1,o()}}}function yn(t){let e,r,n,l,o=t[15].Name+"",i,s,a,f=t[16]+"",h,_;return{c(){e=x("div"),r=x("div"),n=x("p"),l=x("span"),i=F(o),s=S(),a=x("p"),h=F(f),_=F(" ที่นั่ง"),this.h()},l(v){e=k(v,"DIV",{class:!0});var m=g(e);r=k(m,"DIV",{class:!0});var w=g(r);n=k(w,"P",{class:!0});var d=g(n);l=k(d,"SPAN",{class:!0,style:!0}),g(l).forEach(p),i=O(d,o),d.forEach(p),s=A(w),a=k(w,"P",{});var y=g(a);h=O(y,f),_=O(y," ที่นั่ง"),y.forEach(p),w.forEach(p),m.forEach(p),this.h()},h(){u(l,"class","w-3 h-3 mr-2 rounded-full inline-block"),nt(l,"background",t[15].Color),u(n,"class","font-bold"),u(r,"class","absolute bottom-1 rounded bg-black py-2 px-4 text-white whitespace-nowrap transform -translate-x-1/2"),u(e,"class","relative h-0 z-10")},m(v,m){J(v,e,m),c(e,r),c(r,n),c(n,l),c(n,i),c(r,s),c(r,a),c(a,h),c(a,_)},p(v,m){m&3&&nt(l,"background",v[15].Color),m&3&&o!==(o=v[15].Name+"")&&ct(i,o),m&3&&f!==(f=v[16]+"")&&ct(h,f)},d(v){v&&p(e)}}}function bn(t){let e,r,n,l=t[5]===t[15]&&yn(t);function o(){return t[10](t[15])}return{c(){e=x("div"),l&&l.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var s=g(e);l&&l.l(s),s.forEach(p),this.h()},h(){u(e,"class","flex justify-center"),nt(e,"width",t[16]/t[7]*100+"%"),nt(e,"background-color",t[15].Color)},m(i,s){J(i,e,s),l&&l.m(e,null),r||(n=[bt(e,"mouseenter",o),bt(e,"mouseleave",t[11])],r=!0)},p(i,s){t=i,t[5]===t[15]?l?l.p(t,s):(l=yn(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),s&3&&nt(e,"width",t[16]/t[7]*100+"%"),s&3&&nt(e,"background-color",t[15].Color)},d(i){i&&p(e),l&&l.d(),r=!1,he(n)}}}function En(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,E,N,C,D,U,M,W,X,j,K,z,Z,rt,b,L,I,T,G,q,H,Q,B=t[7]-t[2]+"",R,P,V,Y,at,ot,dt,Nt,vt,kt,mt,pt,zt,de,be,wt=t[7]/2>t[2]&&xn(),It=t[2]<=dr&&kn(t),Jt=t[0].sort(Cn).filter(Tn),gt=[];for(let $=0;$<Jt.length;$+=1)gt[$]=Nn(gn(t,Jt,$));let Mt=t[1].sort(Pn).filter(Vn),yt=[];for(let $=0;$<Mt.length;$+=1)yt[$]=In(mn(t,Mt,$));return{c(){wt&&wt.c(),e=S(),r=x("div"),n=S(),l=x("button"),o=x("span"),i=F("สลับรัฐบาล/ฝ่ายค้าน"),s=S(),a=tt("svg"),f=tt("g"),h=tt("path"),_=tt("defs"),v=tt("clipPath"),m=tt("rect"),w=S(),It&&It.c(),d=S(),y=x("div"),E=x("div"),N=x("div"),C=x("h7"),D=F("ฝ่ายรัฐบาล"),U=S(),M=x("div"),W=x("p"),X=F("("),j=S(),K=F(t[2]),z=S(),Z=x("p"),rt=F(")"),b=S();for(let $=0;$<gt.length;$+=1)gt[$].c();L=S(),I=x("div"),T=x("div"),G=x("div"),q=x("p"),H=F("("),Q=S(),R=F(B),P=S(),V=x("p"),Y=F(")"),at=S(),ot=x("h7"),dt=F("ฝ่ายค้าน"),Nt=S();for(let $=0;$<yt.length;$+=1)yt[$].c();vt=S(),kt=x("div"),mt=x("button"),pt=F(`สรุปผล
					`),zt=x("div"),this.h()},l($){wt&&wt.l($),e=A($),r=k($,"DIV",{class:!0}),g(r).forEach(p),n=A($),l=k($,"BUTTON",{class:!0});var ft=g(l);o=k(ft,"SPAN",{class:!0});var lt=g(o);i=O(lt,"สลับรัฐบาล/ฝ่ายค้าน"),lt.forEach(p),s=A(ft),a=et(ft,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var Vt=g(a);f=et(Vt,"g",{"clip-path":!0});var Ee=g(f);h=et(Ee,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(h).forEach(p),Ee.forEach(p),_=et(Vt,"defs",{});var Re=g(_);v=et(Re,"clipPath",{id:!0});var re=g(v);m=et(re,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(m).forEach(p),re.forEach(p),Re.forEach(p),Vt.forEach(p),ft.forEach(p),w=A($),It&&It.l($),d=A($),y=k($,"DIV",{class:!0});var Et=g(y);E=k(Et,"DIV",{class:!0});var qt=g(E);N=k(qt,"DIV",{class:!0});var xt=g(N);C=k(xt,"H7",{class:!0});var Ct=g(C);D=O(Ct,"ฝ่ายรัฐบาล"),Ct.forEach(p),U=A(xt),M=k(xt,"DIV",{class:!0});var st=g(M);W=k(st,"P",{class:!0});var ut=g(W);X=O(ut,"("),ut.forEach(p),j=A(st),K=O(st,t[2]),z=A(st),Z=k(st,"P",{class:!0});var it=g(Z);rt=O(it,")"),it.forEach(p),st.forEach(p),xt.forEach(p),b=A(qt);for(let $t=0;$t<gt.length;$t+=1)gt[$t].l(qt);qt.forEach(p),L=A(Et),I=k(Et,"DIV",{class:!0});var Lt=g(I);T=k(Lt,"DIV",{class:!0});var pe=g(T);G=k(pe,"DIV",{class:!0});var jt=g(G);q=k(jt,"P",{class:!0});var Se=g(q);H=O(Se,"("),Se.forEach(p),Q=A(jt),R=O(jt,B),P=A(jt),V=k(jt,"P",{class:!0});var _e=g(V);Y=O(_e,")"),_e.forEach(p),jt.forEach(p),at=A(pe),ot=k(pe,"H7",{class:!0});var ve=g(ot);dt=O(ve,"ฝ่ายค้าน"),ve.forEach(p),pe.forEach(p),Nt=A(Lt);for(let $t=0;$t<yt.length;$t+=1)yt[$t].l(Lt);Lt.forEach(p),Et.forEach(p),vt=A($),kt=k($,"DIV",{class:!0});var Ae=g(kt);mt=k(Ae,"BUTTON",{class:!0});var oe=g(mt);pt=O(oe,`สรุปผล
					`),zt=k(oe,"DIV",{class:!0}),g(zt).forEach(p),oe.forEach(p),Ae.forEach(p),this.h()},h(){u(r,"class","w-full h-[1px] bg-white opacity-40 mt-4"),u(o,"class","typo-b4 underline"),u(h,"fill-rule","evenodd"),u(h,"clip-rule","evenodd"),u(h,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(h,"fill","white"),u(f,"clip-path","url(#clip0_1694_52664)"),u(m,"width","19.2"),u(m,"height","19.2"),u(m,"fill","white"),u(m,"transform","translate(0.399902 0.399902)"),u(v,"id","clip0_1694_52664"),u(a,"width","20"),u(a,"height","20"),u(a,"viewBox","0 0 20 20"),u(a,"fill","none"),u(a,"xmlns","http://www.w3.org/2000/svg"),u(a,"class","ml-1"),u(l,"class","flex items-center justify-center my-5 cursor-pointer"),u(C,"class","typo-h7 font-bold w-full md:w-auto"),u(W,"class","hidden md:block"),u(Z,"class","hidden md:block"),u(M,"class","flex typo-h7 md:ml-1"),u(N,"class","flex flex-wrap md:flex-nowrap"),u(E,"class","w-1/2 flex flex-col"),u(q,"class","hidden md:block"),u(V,"class","hidden md:block"),u(G,"class","flex typo-h7"),u(ot,"class","typo-h7 font-bold ml-1 w-full md:w-auto"),u(T,"class","flex justify-end flex-wrap-reverse md:flex-nowrap"),u(I,"class","w-1/2 flex flex-col text-right ml-10"),u(y,"class","flex items-start w-full"),u(zt,"class","border-1 border-t border-r w-2 h-2 rotate-45"),u(mt,"class","typo-b3 beyondx-gradient-bg text-white py-2 px-4 w-full md:w-52 h-[50px] flex items-center justify-between font-bold m-auto mt-2 md:mt-10 cursor-pointer"),u(kt,"class","fixed bottom-0 left-0 right-0 w-full flex justify-center py-10 px-6 bg-gradient-to-t from-black")},m($,ft){wt&&wt.m($,ft),J($,e,ft),J($,r,ft),J($,n,ft),J($,l,ft),c(l,o),c(o,i),c(l,s),c(l,a),c(a,f),c(f,h),c(a,_),c(_,v),c(v,m),J($,w,ft),It&&It.m($,ft),J($,d,ft),J($,y,ft),c(y,E),c(E,N),c(N,C),c(C,D),c(N,U),c(N,M),c(M,W),c(W,X),c(M,j),c(M,K),c(M,z),c(M,Z),c(Z,rt),c(E,b);for(let lt=0;lt<gt.length;lt+=1)gt[lt].m(E,null);c(y,L),c(y,I),c(I,T),c(T,G),c(G,q),c(q,H),c(G,Q),c(G,R),c(G,P),c(G,V),c(V,Y),c(T,at),c(T,ot),c(ot,dt),c(I,Nt);for(let lt=0;lt<yt.length;lt+=1)yt[lt].m(I,null);J($,vt,ft),J($,kt,ft),c(kt,mt),c(mt,pt),c(mt,zt),de||(be=[bt(l,"click",t[12]),bt(mt,"click",function(){Ue(t[4])&&t[4].apply(this,arguments)})],de=!0)},p($,ft){if(t=$,t[7]/2>t[2]?wt||(wt=xn(),wt.c(),wt.m(e.parentNode,e)):wt&&(wt.d(1),wt=null),t[2]<=dr?It?It.p(t,ft):(It=kn(t),It.c(),It.m(d.parentNode,d)):It&&(It.d(1),It=null),ft&4&&ct(K,t[2]),ft&9){Jt=t[0].sort(Cn).filter(Tn);let lt;for(lt=0;lt<Jt.length;lt+=1){const Vt=gn(t,Jt,lt);gt[lt]?gt[lt].p(Vt,ft):(gt[lt]=Nn(Vt),gt[lt].c(),gt[lt].m(E,null))}for(;lt<gt.length;lt+=1)gt[lt].d(1);gt.length=Jt.length}if(ft&4&&B!==(B=t[7]-t[2]+"")&&ct(R,B),ft&10){Mt=t[1].sort(Pn).filter(Vn);let lt;for(lt=0;lt<Mt.length;lt+=1){const Vt=mn(t,Mt,lt);yt[lt]?yt[lt].p(Vt,ft):(yt[lt]=In(Vt),yt[lt].c(),yt[lt].m(I,null))}for(;lt<yt.length;lt+=1)yt[lt].d(1);yt.length=Mt.length}},d($){wt&&wt.d($),$&&p(e),$&&p(r),$&&p(n),$&&p(l),$&&p(w),It&&It.d($),$&&p(d),$&&p(y),Zt(gt,$),Zt(yt,$),$&&p(vt),$&&p(kt),de=!1,he(be)}}}function xn(t){let e,r;return{c(){e=x("div"),r=F("มีฝ่ายค้านเกินครึ่งของ ส.ส.!"),this.h()},l(n){e=k(n,"DIV",{class:!0,style:!0});var l=g(e);r=O(l,"มีฝ่ายค้านเกินครึ่งของ ส.ส.!"),l.forEach(p),this.h()},h(){u(e,"class","typo-b6 font-bold text-center mt-4"),nt(e,"color","#FF6161")},m(n,l){J(n,e,l),c(e,r)},d(n){n&&p(e)}}}function kn(t){let e,r,n,l,o,i,s,a,f,h=dr-t[2]+"",_,v;return{c(){e=x("div"),r=tt("svg"),n=tt("rect"),l=tt("path"),o=S(),i=x("h5"),s=F("ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),a=S(),f=x("h5"),_=F(h),v=F("+"),this.h()},l(m){e=k(m,"DIV",{class:!0,style:!0});var w=g(e);r=et(w,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var d=g(r);n=et(d,"rect",{width:!0,height:!0,rx:!0,fill:!0}),g(n).forEach(p),l=et(d,"path",{d:!0,fill:!0}),g(l).forEach(p),d.forEach(p),o=A(w),i=k(w,"H5",{class:!0});var y=g(i);s=O(y,"ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),y.forEach(p),a=A(w),f=k(w,"H5",{class:!0});var E=g(f);_=O(E,h),v=O(E,"+"),E.forEach(p),w.forEach(p),this.h()},h(){u(n,"width","24"),u(n,"height","24"),u(n,"rx","12"),u(n,"fill","#D09D03"),u(l,"d","M11.5778 13.42L10.9198 9.444V6.728H13.1038V9.444L12.4598 13.42H11.5778ZM11.9978 16.668C11.5498 16.668 11.2278 16.5653 11.0318 16.36C10.8451 16.1547 10.7518 15.9027 10.7518 15.604V15.268C10.7518 14.9693 10.8451 14.7173 11.0318 14.512C11.2278 14.3067 11.5498 14.204 11.9978 14.204C12.4458 14.204 12.7631 14.3067 12.9498 14.512C13.1458 14.7173 13.2438 14.9693 13.2438 15.268V15.604C13.2438 15.9027 13.1458 16.1547 12.9498 16.36C12.7631 16.5653 12.4458 16.668 11.9978 16.668Z"),u(l,"fill","#231F20"),u(r,"width","24"),u(r,"height","24"),u(r,"viewBox","0 0 24 24"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(r,"class","mr-2"),u(i,"class","typo-b5 flex-1"),u(f,"class","typo-b4 font-bold ml-2"),u(e,"class","w-full py-3 px-5 flex items-center mb-5"),nt(e,"background-color","#3D3D3D")},m(m,w){J(m,e,w),c(e,r),c(r,n),c(r,l),c(e,o),c(e,i),c(i,s),c(e,a),c(e,f),c(f,_),c(f,v)},p(m,w){w&4&&h!==(h=dr-m[2]+"")&&ct(_,h)},d(m){m&&p(e)}}}function Nn(t){let e,r,n,l,o=t[15].Name+"",i,s,a,f=t[16]+"",h,_,v,m,w,d,y,E,N,C,D,U,M,W,X;function j(){return t[13](t[15])}return{c(){e=x("div"),r=x("span"),n=x("span"),l=S(),i=F(o),s=S(),a=x("h5"),h=F(f),_=S(),v=x("button"),m=tt("svg"),w=tt("g"),d=tt("path"),y=tt("defs"),E=tt("clipPath"),N=tt("rect"),C=S(),D=x("span"),U=F("เปลี่ยนขั้ว"),M=S(),this.h()},l(K){e=k(K,"DIV",{class:!0,style:!0});var z=g(e);r=k(z,"SPAN",{class:!0});var Z=g(r);n=k(Z,"SPAN",{class:!0,style:!0}),g(n).forEach(p),l=A(Z),i=O(Z,o),Z.forEach(p),s=A(z),a=k(z,"H5",{class:!0});var rt=g(a);h=O(rt,f),rt.forEach(p),_=A(z),v=k(z,"BUTTON",{class:!0});var b=g(v);m=et(b,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var L=g(m);w=et(L,"g",{"clip-path":!0});var I=g(w);d=et(I,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(d).forEach(p),I.forEach(p),y=et(L,"defs",{});var T=g(y);E=et(T,"clipPath",{id:!0});var G=g(E);N=et(G,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(N).forEach(p),G.forEach(p),T.forEach(p),L.forEach(p),C=A(b),D=k(b,"SPAN",{class:!0});var q=g(D);U=O(q,"เปลี่ยนขั้ว"),q.forEach(p),b.forEach(p),M=A(z),z.forEach(p),this.h()},h(){u(n,"class","w-4 h-4 mr-2 inline-block"),nt(n,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),u(r,"class","typo-b5 w-full flex items-center md:w-1/2 mb-2 md:mb-0"),u(a,"class","typo-b5 opacity-70 flex-1 w-2/12 ml-6 md:ml-0"),u(d,"fill-rule","evenodd"),u(d,"clip-rule","evenodd"),u(d,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(d,"fill","white"),u(w,"clip-path","url(#clip0_1694_52664)"),u(N,"width","19.2"),u(N,"height","19.2"),u(N,"fill","white"),u(N,"transform","translate(0.399902 0.399902)"),u(E,"id","clip0_1694_52664"),u(m,"width","20"),u(m,"height","20"),u(m,"viewBox","0 0 20 20"),u(m,"fill","none"),u(m,"xmlns","http://www.w3.org/2000/svg"),u(m,"class","mr-1"),u(D,"class","hidden md:block"),u(v,"class","typo-b5 w-4/12 flex justify-end items-center cursor-pointer"),u(e,"class","flex flex-wrap items-center border-b border-opacity-40 pb-[10px] mt-[10px]"),nt(e,"border-color","rgba(255, 255, 255, 0.4)")},m(K,z){J(K,e,z),c(e,r),c(r,n),c(r,l),c(r,i),c(e,s),c(e,a),c(a,h),c(e,_),c(e,v),c(v,m),c(m,w),c(w,d),c(m,y),c(y,E),c(E,N),c(v,C),c(v,D),c(D,U),c(e,M),W||(X=bt(v,"click",j),W=!0)},p(K,z){t=K,z&1&&nt(n,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),z&1&&o!==(o=t[15].Name+"")&&ct(i,o),z&1&&f!==(f=t[16]+"")&&ct(h,f)},d(K){K&&p(e),W=!1,X()}}}function In(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w=t[16]+"",d,y,E,N=t[15].Name+"",C,D,U,M,W,X;function j(){return t[14](t[15])}return{c(){e=x("div"),r=x("button"),n=tt("svg"),l=tt("g"),o=tt("path"),i=tt("defs"),s=tt("clipPath"),a=tt("rect"),f=S(),h=x("span"),_=F("เปลี่ยนขั้ว"),v=S(),m=x("h5"),d=F(w),y=S(),E=x("span"),C=F(N),D=S(),U=x("span"),M=S(),this.h()},l(K){e=k(K,"DIV",{class:!0,style:!0});var z=g(e);r=k(z,"BUTTON",{class:!0});var Z=g(r);n=et(Z,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var rt=g(n);l=et(rt,"g",{"clip-path":!0});var b=g(l);o=et(b,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(o).forEach(p),b.forEach(p),i=et(rt,"defs",{});var L=g(i);s=et(L,"clipPath",{id:!0});var I=g(s);a=et(I,"rect",{width:!0,height:!0,fill:!0,transform:!0}),g(a).forEach(p),I.forEach(p),L.forEach(p),rt.forEach(p),f=A(Z),h=k(Z,"SPAN",{class:!0});var T=g(h);_=O(T,"เปลี่ยนขั้ว"),T.forEach(p),Z.forEach(p),v=A(z),m=k(z,"H5",{class:!0});var G=g(m);d=O(G,w),G.forEach(p),y=A(z),E=k(z,"SPAN",{class:!0});var q=g(E);C=O(q,N),D=A(q),U=k(q,"SPAN",{class:!0,style:!0}),g(U).forEach(p),q.forEach(p),M=A(z),z.forEach(p),this.h()},h(){u(o,"fill-rule","evenodd"),u(o,"clip-rule","evenodd"),u(o,"d","M13.7539 2.84551L14.5999 1.99951L18.9999 6.39951L14.5999 10.7995L13.7539 9.95351L16.7019 6.99951L7.5999 6.99951V5.79951L16.7019 5.79951L13.7539 2.84551ZM5.6459 17.1534L4.7999 17.9994L0.399902 13.5994L4.7999 9.19935L5.6459 10.0454L2.6979 12.9994L11.7999 12.9994L11.7999 14.1994L2.6979 14.1994L5.6459 17.1534Z"),u(o,"fill","white"),u(l,"clip-path","url(#clip0_1694_52664)"),u(a,"width","19.2"),u(a,"height","19.2"),u(a,"fill","white"),u(a,"transform","translate(0.399902 0.399902)"),u(s,"id","clip0_1694_52664"),u(n,"width","20"),u(n,"height","20"),u(n,"viewBox","0 0 20 20"),u(n,"fill","none"),u(n,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","mr-1"),u(h,"class","hidden md:block"),u(r,"class","typo-b5 w-4/12 flex items-center cursor-pointer flex-1"),u(m,"class","typo-b5 opacity-70 w-2/12 mr-6 md:mr-0"),u(U,"class","w-4 h-4 ml-2 inline-block"),nt(U,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat"),u(E,"class","typo-b5 w-full md:w-1/2 flex justify-end mb-2 md:mb-0 items-center"),u(e,"class","flex items-center border-b border-opacity-40 pb-[10px] mt-[10px] flex-wrap-reverse"),nt(e,"border-color","rgba(255, 255, 255, 0.4)")},m(K,z){J(K,e,z),c(e,r),c(r,n),c(n,l),c(l,o),c(n,i),c(i,s),c(s,a),c(r,f),c(r,h),c(h,_),c(e,v),c(e,m),c(m,d),c(e,y),c(e,E),c(E,C),c(E,D),c(E,U),c(e,M),W||(X=bt(r,"click",j),W=!0)},p(K,z){t=K,z&2&&w!==(w=t[16]+"")&&ct(d,w),z&2&&N!==(N=t[15].Name+"")&&ct(C,N),z&2&&nt(U,"background",t[15].Color+" url(/party-icons/"+t[15].Name+".svg) center/50% no-repeat")},d(K){K&&p(e),W=!1,X()}}}function Ai(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,E,N,C,D,U,M,W,X=t[7]-t[2]+"",j,K,z,Z,rt,b,L,I,T;function G(P,V){return P[6]?Si:Ri}let q=G(t),H=q(t),Q=[...t[0],...t[1]],B=[];for(let P=0;P<Q.length;P+=1)B[P]=bn(wn(t,Q,P));v=new Li({props:{label:"ตั้งรัฐบาล",style:"right: 50%;"}});let R=t[6]&&En(t);return{c(){e=x("div"),r=x("div"),H.c(),n=S(),l=x("p"),o=F("จัดตั้งรัฐบาล"),s=S(),a=x("div");for(let P=0;P<B.length;P+=1)B[P].c();f=S(),h=x("div"),_=S(),Bt(v.$$.fragment),w=S(),d=x("div"),y=x("div"),E=x("div"),N=F(`
				รัฐบาล (`),C=F(t[2]),D=F(")"),U=S(),M=x("div"),W=F("ฝ่ายค้าน ("),j=F(X),K=F(`)
				`),z=x("div"),Z=x("div"),rt=S(),R&&R.c(),this.h()},l(P){e=k(P,"DIV",{class:!0,style:!0});var V=g(e);r=k(V,"DIV",{class:!0});var Y=g(r);H.l(Y),n=A(Y),l=k(Y,"P",{class:!0});var at=g(l);o=O(at,"จัดตั้งรัฐบาล"),at.forEach(p),s=A(Y),a=k(Y,"DIV",{class:!0});var ot=g(a);for(let mt=0;mt<B.length;mt+=1)B[mt].l(ot);f=A(ot),h=k(ot,"DIV",{class:!0,style:!0}),g(h).forEach(p),_=A(ot),Ht(v.$$.fragment,ot),ot.forEach(p),w=A(Y),d=k(Y,"DIV",{class:!0});var dt=g(d);y=k(dt,"DIV",{class:!0});var Nt=g(y);E=k(Nt,"DIV",{class:!0,style:!0}),g(E).forEach(p),N=O(Nt,`
				รัฐบาล (`),C=O(Nt,t[2]),D=O(Nt,")"),Nt.forEach(p),U=A(dt),M=k(dt,"DIV",{class:!0});var vt=g(M);W=O(vt,"ฝ่ายค้าน ("),j=O(vt,X),K=O(vt,`)
				`),z=k(vt,"DIV",{class:!0,style:!0});var kt=g(z);Z=k(kt,"DIV",{class:!0}),g(Z).forEach(p),kt.forEach(p),vt.forEach(p),dt.forEach(p),rt=A(Y),R&&R.l(Y),Y.forEach(p),V.forEach(p),this.h()},h(){u(l,"class",i=(t[6]?"typo-h6":"typo-b3")+" text-white font-bold"),u(h,"class","absolute top-0 bottom-0 right-0 stripe-white"),nt(h,"left",t[2]/t[7]*100+"%"),nt(h,"pointer-events","none"),nt(h,"border-left","1px solid white"),u(a,"class",m="flex flex-row h-6 relative "+(t[6]?"mt-[30px]":"")),u(E,"class","w-4 h-4 mr-2"),nt(E,"background-color","#CCCCCC"),u(y,"class","flex space-x-1 items-center"),u(Z,"class","stripe-white w-full h-full"),u(z,"class","w-4 h-4 ml-2"),nt(z,"background-color","#CCCCCC"),u(M,"class","flex space-x-1 items-center"),u(d,"class","flex items-center justify-between text-white typo-b6 mt-2"),u(r,"class",b="flex flex-col px-6 w-full max-w-[698px] relative transition-all duration-300 "+(t[6]?"mt-10":"")),u(e,"class",L="w-100 h-28 bg-black pt-5 flex flex-col items-center text-white transition-all duration-300 bottom-0 fixed w-full "+(t[6]?"fixed mt-1 overflow-y-scroll scrollbar-hide pb-[154px]":"")),u(e,"style",I=t[6]?"height: calc(100% - 0.25rem)":"")},m(P,V){J(P,e,V),c(e,r),H.m(r,null),c(r,n),c(r,l),c(l,o),c(r,s),c(r,a);for(let Y=0;Y<B.length;Y+=1)B[Y].m(a,null);c(a,f),c(a,h),c(a,_),Ft(v,a,null),c(r,w),c(r,d),c(d,y),c(y,E),c(y,N),c(y,C),c(y,D),c(d,U),c(d,M),c(M,W),c(M,j),c(M,K),c(M,z),c(z,Z),c(r,rt),R&&R.m(r,null),T=!0},p(P,[V]){if(q===(q=G(P))&&H?H.p(P,V):(H.d(1),H=q(P),H&&(H.c(),H.m(r,n))),(!T||V&64&&i!==(i=(P[6]?"typo-h6":"typo-b3")+" text-white font-bold"))&&u(l,"class",i),V&163){Q=[...P[0],...P[1]];let Y;for(Y=0;Y<Q.length;Y+=1){const at=wn(P,Q,Y);B[Y]?B[Y].p(at,V):(B[Y]=bn(at),B[Y].c(),B[Y].m(a,f))}for(;Y<B.length;Y+=1)B[Y].d(1);B.length=Q.length}(!T||V&4)&&nt(h,"left",P[2]/P[7]*100+"%"),(!T||V&64&&m!==(m="flex flex-row h-6 relative "+(P[6]?"mt-[30px]":"")))&&u(a,"class",m),(!T||V&4)&&ct(C,P[2]),(!T||V&4)&&X!==(X=P[7]-P[2]+"")&&ct(j,X),P[6]?R?R.p(P,V):(R=En(P),R.c(),R.m(r,null)):R&&(R.d(1),R=null),(!T||V&64&&b!==(b="flex flex-col px-6 w-full max-w-[698px] relative transition-all duration-300 "+(P[6]?"mt-10":"")))&&u(r,"class",b),(!T||V&64&&L!==(L="w-100 h-28 bg-black pt-5 flex flex-col items-center text-white transition-all duration-300 bottom-0 fixed w-full "+(P[6]?"fixed mt-1 overflow-y-scroll scrollbar-hide pb-[154px]":"")))&&u(e,"class",L),(!T||V&64&&I!==(I=P[6]?"height: calc(100% - 0.25rem)":""))&&u(e,"style",I)},i(P){T||(ht(v.$$.fragment,P),T=!0)},o(P){_t(v.$$.fragment,P),T=!1},d(P){P&&p(e),H.d(),Zt(B,P),Ot(v),R&&R.d()}}}const dr=376,Cn=(t,e)=>e.total-t.total,Tn=t=>t.total>0,Pn=(t,e)=>e.total-t.total,Vn=t=>t.total>0;function zi(t,e,r){let{representativeRecord:n}=e,{governmentParties:l}=e,{oppositionParties:o}=e,{governmentPoints:i}=e,{toggleSide:s}=e,{toggleIsShare:a}=e;const f=n.reduce((N,C)=>N+C.total,0);let h=null,_=!1;const v=()=>r(6,_=!_);f-i>i&&s();const m=N=>r(5,h=N),w=()=>r(5,h=null),d=()=>s(),y=N=>s(N.Name),E=N=>s(N.Name);return t.$$set=N=>{"representativeRecord"in N&&r(9,n=N.representativeRecord),"governmentParties"in N&&r(0,l=N.governmentParties),"oppositionParties"in N&&r(1,o=N.oppositionParties),"governmentPoints"in N&&r(2,i=N.governmentPoints),"toggleSide"in N&&r(3,s=N.toggleSide),"toggleIsShare"in N&&r(4,a=N.toggleIsShare)},[l,o,i,s,a,h,_,f,v,n,m,w,d,y,E]}class Bi extends Yt{constructor(e){super(),Kt(this,e,zi,Ai,Wt,{representativeRecord:9,governmentParties:0,oppositionParties:1,governmentPoints:2,toggleSide:3,toggleIsShare:4})}}function Dn(t,e,r){const n=t.slice();return n[9]=e[r].party,n[10]=e[r].fromDistrict,n[11]=e[r].fromPartylist,n[12]=e[r].total,n}function Mn(t){let e,r,n,l=(t[9].Name===t[3].Name||t[12]===t[4][t[9].Name])&&Ln(),o=t[12]>t[4][t[9].Name]&&Rn(),i=t[12]<t[4][t[9].Name]&&Sn();return{c(){l&&l.c(),e=S(),o&&o.c(),r=S(),i&&i.c(),n=Te()},l(s){l&&l.l(s),e=A(s),o&&o.l(s),r=A(s),i&&i.l(s),n=Te()},m(s,a){l&&l.m(s,a),J(s,e,a),o&&o.m(s,a),J(s,r,a),i&&i.m(s,a),J(s,n,a)},p(s,a){s[9].Name===s[3].Name||s[12]===s[4][s[9].Name]?l||(l=Ln(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s[12]>s[4][s[9].Name]?o||(o=Rn(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),s[12]<s[4][s[9].Name]?i||(i=Sn(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){l&&l.d(s),s&&p(e),o&&o.d(s),s&&p(r),i&&i.d(s),s&&p(n)}}}function Ln(t){let e;return{c(){e=x("div"),this.h()},l(r){e=k(r,"DIV",{class:!0}),g(e).forEach(p),this.h()},h(){u(e,"class","w-[16px] h-[17px]")},m(r,n){J(r,e,n)},d(r){r&&p(e)}}}function Rn(t){let e,r;return{c(){e=tt("svg"),r=tt("path"),this.h()},l(n){e=et(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=g(e);r=et(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(r).forEach(p),l.forEach(p),this.h()},h(){u(r,"fill-rule","evenodd"),u(r,"clip-rule","evenodd"),u(r,"d","M3 7.5L3.705 8.205L7.5 4.415V14H8.5V4.415L12.295 8.205L13 7.5L8 2.5L3 7.5Z"),u(r,"fill","#1FE43F"),u(e,"width","16"),u(e,"height","17"),u(e,"viewBox","0 0 16 17"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){J(n,e,l),c(e,r)},d(n){n&&p(e)}}}function Sn(t){let e,r;return{c(){e=tt("svg"),r=tt("path"),this.h()},l(n){e=et(n,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=g(e);r=et(l,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(r).forEach(p),l.forEach(p),this.h()},h(){u(r,"fill-rule","evenodd"),u(r,"clip-rule","evenodd"),u(r,"d","M13 9L12.295 8.295L8.5 12.085L8.5 2.5L7.5 2.5L7.5 12.085L3.705 8.295L3 9L8 14L13 9Z"),u(r,"fill","#FF0000"),u(e,"width","16"),u(e,"height","17"),u(e,"viewBox","0 0 16 17"),u(e,"fill","none"),u(e,"xmlns","http://www.w3.org/2000/svg")},m(n,l){J(n,e,l),c(e,r)},d(n){n&&p(e)}}}function An(t){let e,r,n=t[9].Name+"",l,o,i,s=t[10]+"",a,f,h,_=t[11]+"",v,m,w,d=t[12]+"",y,E,N,C,D,U,M,W,X=t[0]===t[5].Elect66&&Mn(t);return{c(){e=x("div"),r=x("div"),l=F(n),o=S(),i=x("div"),a=F(s),f=S(),h=x("div"),v=F(_),m=S(),w=x("div"),y=F(d),E=S(),X&&X.c(),N=S(),C=x("div"),D=x("div"),U=S(),M=x("div"),W=S(),this.h()},l(j){e=k(j,"DIV",{class:!0});var K=g(e);r=k(K,"DIV",{class:!0});var z=g(r);l=O(z,n),z.forEach(p),o=A(K),i=k(K,"DIV",{class:!0});var Z=g(i);a=O(Z,s),Z.forEach(p),f=A(K),h=k(K,"DIV",{class:!0});var rt=g(h);v=O(rt,_),rt.forEach(p),m=A(K),w=k(K,"DIV",{class:!0});var b=g(w);y=O(b,d),E=A(b),X&&X.l(b),b.forEach(p),K.forEach(p),N=A(j),C=k(j,"DIV",{class:!0});var L=g(C);D=k(L,"DIV",{class:!0,style:!0}),g(D).forEach(p),U=A(L),M=k(L,"DIV",{class:!0,style:!0}),g(M).forEach(p),W=A(L),L.forEach(p),this.h()},h(){u(r,"class","typo-b6 flex-1"),u(i,"class","typo-b6 w-[92px] text-right"),u(h,"class","typo-b6 w-[80px] md:w-[102px] text-right"),u(w,"class","typo-b6 w-16 md:w-[72px] text-right items-start md:items-center justify-end flex"),u(e,"class","flex mt-2 md:mt-5"),u(D,"class","h-4 mt-1 transition-all duration-300"),nt(D,"width",t[12]/t[2].total*100+"%"),nt(D,"background-color",t[9].Color),u(M,"class","absolute top-0 bottom-0 right-0 stripe-white transition-all duration-300"),nt(M,"left",t[10]/t[2].total*100+"%"),nt(M,"pointer-events","none"),nt(M,"border-left","1px solid white"),u(C,"class","flex flex-row relative")},m(j,K){J(j,e,K),c(e,r),c(r,l),c(e,o),c(e,i),c(i,a),c(e,f),c(e,h),c(h,v),c(e,m),c(e,w),c(w,y),c(w,E),X&&X.m(w,null),J(j,N,K),J(j,C,K),c(C,D),c(C,U),c(C,M),c(C,W)},p(j,K){K&2&&n!==(n=j[9].Name+"")&&ct(l,n),K&2&&s!==(s=j[10]+"")&&ct(a,s),K&2&&_!==(_=j[11]+"")&&ct(v,_),K&2&&d!==(d=j[12]+"")&&ct(y,d),j[0]===j[5].Elect66?X?X.p(j,K):(X=Mn(j),X.c(),X.m(w,null)):X&&(X.d(1),X=null),K&6&&nt(D,"width",j[12]/j[2].total*100+"%"),K&2&&nt(D,"background-color",j[9].Color),K&6&&nt(M,"left",j[10]/j[2].total*100+"%")},d(j){j&&p(e),X&&X.d(),j&&p(N),j&&p(C)}}}function Hi(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,E,N=t[1],C=[];for(let D=0;D<N.length;D+=1)C[D]=An(Dn(t,N,D));return{c(){e=x("div"),r=x("div"),n=x("div"),l=F("พรรค"),o=S(),i=x("div"),s=F("ส.ส. เขต "),a=x("div"),f=S(),h=x("div"),_=F("ส.ส. บัญชีฯ "),v=x("div"),m=x("div"),w=S(),d=x("div"),y=F("รวม"),E=S();for(let D=0;D<C.length;D+=1)C[D].c();this.h()},l(D){e=k(D,"DIV",{class:!0});var U=g(e);r=k(U,"DIV",{class:!0});var M=g(r);n=k(M,"DIV",{class:!0});var W=g(n);l=O(W,"พรรค"),W.forEach(p),o=A(M),i=k(M,"DIV",{class:!0});var X=g(i);s=O(X,"ส.ส. เขต "),a=k(X,"DIV",{class:!0,style:!0}),g(a).forEach(p),X.forEach(p),f=A(M),h=k(M,"DIV",{class:!0});var j=g(h);_=O(j,"ส.ส. บัญชีฯ "),v=k(j,"DIV",{class:!0,style:!0});var K=g(v);m=k(K,"DIV",{class:!0}),g(m).forEach(p),K.forEach(p),j.forEach(p),w=A(M),d=k(M,"DIV",{class:!0});var z=g(d);y=O(z,"รวม"),z.forEach(p),M.forEach(p),E=A(U);for(let Z=0;Z<C.length;Z+=1)C[Z].l(U);U.forEach(p),this.h()},h(){u(n,"class","typo-b6 font-bold flex-1"),u(a,"class","w-4 h-4 ml-2"),nt(a,"background-color","#CCCCCC"),u(i,"class","typo-b6 font-bold w-[80px] text-right items-center justify-end flex"),u(m,"class","stripe-white w-full h-full"),u(v,"class","w-4 h-4 ml-2"),nt(v,"background-color","#CCCCCC"),u(h,"class","typo-b6 font-bold w-[92px] md:w-[102px] text-right items-center justify-end flex"),u(d,"class","typo-b6 font-bold w-16 md:w-[72px] text-right"),u(r,"class","flex mt-5"),u(e,"class","w-full flex flex-col")},m(D,U){J(D,e,U),c(e,r),c(r,n),c(n,l),c(r,o),c(r,i),c(i,s),c(i,a),c(r,f),c(r,h),c(h,_),c(h,v),c(v,m),c(r,w),c(r,d),c(d,y),c(e,E);for(let M=0;M<C.length;M+=1)C[M].m(e,null)},p(D,[U]){if(U&63){N=D[1];let M;for(M=0;M<N.length;M+=1){const W=Dn(D,N,M);C[M]?C[M].p(W,U):(C[M]=An(W),C[M].c(),C[M].m(e,null))}for(;M<C.length;M+=1)C[M].d(1);C.length=N.length}},i:Pt,o:Pt,d(D){D&&p(e),Zt(C,D)}}}const zn=5;function Fi(t,e,r){let n,l,o,{representativeRecord:i}=e,{elect62Record:s}=e,{year:a}=e;const f={Name:"อื่นๆ",Color:"#CCCCCC"},h=s.reduce((v,m)=>(v[m.party.Name]=m.total,v),{});var _=(v=>(v.Elect66="elect66",v.Elect62="elect62",v))(_||{});return t.$$set=v=>{"representativeRecord"in v&&r(6,i=v.representativeRecord),"elect62Record"in v&&r(7,s=v.elect62Record),"year"in v&&r(0,a=v.year)},t.$$.update=()=>{t.$$.dirty&64&&r(2,n=i.reduce((v,m)=>v.total>m.total?v:m)),t.$$.dirty&64&&r(8,l=i.reduce((v,{fromDistrict:m,fromPartylist:w,total:d})=>(d<=zn&&(v.fromDistrict+=m,v.fromPartylist+=w,v.total+=d),v),{party:f,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&320&&r(1,o=[...i.filter(v=>v.total>zn),l])},[a,o,n,f,h,_,i,s,l]}class Oi extends Yt{constructor(e){super(),Kt(this,e,Fi,Hi,Wt,{representativeRecord:6,elect62Record:7,year:0})}}function qi(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w;return _=new Oi({props:{year:t[2],representativeRecord:t[1],elect62Record:t[0]}}),{c(){e=x("div"),r=x("button"),n=F("แบบจำลองผลปี 66 ของคุณ"),o=S(),i=x("button"),s=F("ผลเลือกตั้ง 62"),f=S(),h=x("div"),Bt(_.$$.fragment),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"BUTTON",{class:!0});var E=g(r);n=O(E,"แบบจำลองผลปี 66 ของคุณ"),E.forEach(p),o=A(y),i=k(y,"BUTTON",{class:!0});var N=g(i);s=O(N,"ผลเลือกตั้ง 62"),N.forEach(p),y.forEach(p),f=A(d),h=k(d,"DIV",{class:!0});var C=g(h);Ht(_.$$.fragment,C),C.forEach(p),this.h()},h(){u(r,"class",l="typo-b6 py-[5px] px-[10px] border border-black "+(t[2]===t[3].Elect66?"bg-black text-white":"")),u(i,"class",a="typo-b6 py-[5px] px-[10px] border border-black "+(t[2]===t[3].Elect62?"bg-black text-white":"")),u(e,"class","flex gap-x-[10px] mt-5"),u(h,"class","w-full mb-[172px]")},m(d,y){J(d,e,y),c(e,r),c(r,n),c(e,o),c(e,i),c(i,s),J(d,f,y),J(d,h,y),Ft(_,h,null),v=!0,m||(w=[bt(r,"click",t[6]),bt(i,"click",t[7])],m=!0)},p(d,[y]){(!v||y&4&&l!==(l="typo-b6 py-[5px] px-[10px] border border-black "+(d[2]===d[3].Elect66?"bg-black text-white":"")))&&u(r,"class",l),(!v||y&4&&a!==(a="typo-b6 py-[5px] px-[10px] border border-black "+(d[2]===d[3].Elect62?"bg-black text-white":"")))&&u(i,"class",a);const E={};y&4&&(E.year=d[2]),y&2&&(E.representativeRecord=d[1]),y&1&&(E.elect62Record=d[0]),_.$set(E)},i(d){v||(ht(_.$$.fragment,d),v=!0)},o(d){_t(_.$$.fragment,d),v=!1},d(d){d&&p(e),d&&p(f),d&&p(h),Ot(_),m=!1,he(w)}}}function Ui(t,e,r){let n,l,{elect66Record:o}=e,{elect62Record:i}=e;var s=(_=>(_.Elect66="elect66",_.Elect62="elect62",_))(s||{});const a=_=>{r(2,n=_),_==="elect66"?r(1,l=o):r(1,l=i)},f=()=>a(s.Elect66),h=()=>a(s.Elect62);return t.$$set=_=>{"elect66Record"in _&&r(5,o=_.elect66Record),"elect62Record"in _&&r(0,i=_.elect62Record)},t.$$.update=()=>{t.$$.dirty&32&&r(1,l=o)},r(2,n="elect66"),[i,l,n,s,a,o,f,h]}class Zi extends Yt{constructor(e){super(),Kt(this,e,Ui,qi,Wt,{elect66Record:5,elect62Record:0})}}var Xi={value:()=>{}};function Gr(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new ar(r)}function ar(t){this._=t}function Gi(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",l=r.indexOf(".");if(l>=0&&(n=r.slice(l+1),r=r.slice(0,l)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}ar.prototype=Gr.prototype={constructor:ar,on:function(t,e){var r=this._,n=Gi(t+"",r),l,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((l=(t=n[o]).type)&&(l=Yi(r[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<i;)if(l=(t=n[o]).type)r[l]=Bn(r[l],t.name,e);else if(e==null)for(l in r)r[l]=Bn(r[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new ar(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var r=new Array(l),n=0,l,o;n<l;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,l=o.length;n<l;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],l=0,o=n.length;l<o;++l)n[l].value.apply(e,r)}};function Yi(t,e){for(var r=0,n=t.length,l;r<n;++r)if((l=t[r]).name===e)return l.value}function Bn(t,e,r){for(var n=0,l=t.length;n<l;++n)if(t[n].name===e){t[n]=Xi,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var Rr="http://www.w3.org/1999/xhtml";const Hn={svg:"http://www.w3.org/2000/svg",xhtml:Rr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function br(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Hn.hasOwnProperty(e)?{space:Hn[e],local:t}:t}function Ki(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Rr&&e.documentElement.namespaceURI===Rr?e.createElement(t):e.createElementNS(r,t)}}function Wi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Rl(t){var e=br(t);return(e.local?Wi:Ki)(e)}function Qi(){}function Yr(t){return t==null?Qi:function(){return this.querySelector(t)}}function Ji(t){typeof t!="function"&&(t=Yr(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,s=n[l]=new Array(i),a,f,h=0;h<i;++h)(a=o[h])&&(f=t.call(a,a.__data__,h,o))&&("__data__"in a&&(f.__data__=a.__data__),s[h]=f);return new Dt(n,this._parents)}function Sl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ji(){return[]}function Al(t){return t==null?ji:function(){return this.querySelectorAll(t)}}function $i(t){return function(){return Sl(t.apply(this,arguments))}}function to(t){typeof t=="function"?t=$i(t):t=Al(t);for(var e=this._groups,r=e.length,n=[],l=[],o=0;o<r;++o)for(var i=e[o],s=i.length,a,f=0;f<s;++f)(a=i[f])&&(n.push(t.call(a,a.__data__,f,i)),l.push(a));return new Dt(n,l)}function zl(t){return function(){return this.matches(t)}}function Bl(t){return function(e){return e.matches(t)}}var eo=Array.prototype.find;function ro(t){return function(){return eo.call(this.children,t)}}function no(){return this.firstElementChild}function lo(t){return this.select(t==null?no:ro(typeof t=="function"?t:Bl(t)))}var io=Array.prototype.filter;function oo(){return Array.from(this.children)}function so(t){return function(){return io.call(this.children,t)}}function ao(t){return this.selectAll(t==null?oo:so(typeof t=="function"?t:Bl(t)))}function uo(t){typeof t!="function"&&(t=zl(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,s=n[l]=[],a,f=0;f<i;++f)(a=o[f])&&t.call(a,a.__data__,f,o)&&s.push(a);return new Dt(n,this._parents)}function Hl(t){return new Array(t.length)}function co(){return new Dt(this._enter||this._groups.map(Hl),this._parents)}function pr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}pr.prototype={constructor:pr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fo(t){return function(){return t}}function ho(t,e,r,n,l,o){for(var i=0,s,a=e.length,f=o.length;i<f;++i)(s=e[i])?(s.__data__=o[i],n[i]=s):r[i]=new pr(t,o[i]);for(;i<a;++i)(s=e[i])&&(l[i]=s)}function po(t,e,r,n,l,o,i){var s,a,f=new Map,h=e.length,_=o.length,v=new Array(h),m;for(s=0;s<h;++s)(a=e[s])&&(v[s]=m=i.call(a,a.__data__,s,e)+"",f.has(m)?l[s]=a:f.set(m,a));for(s=0;s<_;++s)m=i.call(t,o[s],s,o)+"",(a=f.get(m))?(n[s]=a,a.__data__=o[s],f.delete(m)):r[s]=new pr(t,o[s]);for(s=0;s<h;++s)(a=e[s])&&f.get(v[s])===a&&(l[s]=a)}function _o(t){return t.__data__}function vo(t,e){if(!arguments.length)return Array.from(this,_o);var r=e?po:ho,n=this._parents,l=this._groups;typeof t!="function"&&(t=fo(t));for(var o=l.length,i=new Array(o),s=new Array(o),a=new Array(o),f=0;f<o;++f){var h=n[f],_=l[f],v=_.length,m=mo(t.call(h,h&&h.__data__,f,n)),w=m.length,d=s[f]=new Array(w),y=i[f]=new Array(w),E=a[f]=new Array(v);r(h,_,d,y,E,m,e);for(var N=0,C=0,D,U;N<w;++N)if(D=d[N]){for(N>=C&&(C=N+1);!(U=y[C])&&++C<w;);D._next=U||null}}return i=new Dt(i,n),i._enter=s,i._exit=a,i}function mo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function go(){return new Dt(this._exit||this._groups.map(Hl),this._parents)}function wo(t,e,r){var n=this.enter(),l=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),r==null?o.remove():r(o),n&&l?n.merge(l).order():l}function yo(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,l=r.length,o=n.length,i=Math.min(l,o),s=new Array(l),a=0;a<i;++a)for(var f=r[a],h=n[a],_=f.length,v=s[a]=new Array(_),m,w=0;w<_;++w)(m=f[w]||h[w])&&(v[w]=m);for(;a<l;++a)s[a]=r[a];return new Dt(s,this._parents)}function bo(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],l=n.length-1,o=n[l],i;--l>=0;)(i=n[l])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function Eo(t){t||(t=xo);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var r=this._groups,n=r.length,l=new Array(n),o=0;o<n;++o){for(var i=r[o],s=i.length,a=l[o]=new Array(s),f,h=0;h<s;++h)(f=i[h])&&(a[h]=f);a.sort(e)}return new Dt(l,this._parents).order()}function xo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ko(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function No(){return Array.from(this)}function Io(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],l=0,o=n.length;l<o;++l){var i=n[l];if(i)return i}return null}function Co(){let t=0;for(const e of this)++t;return t}function To(){return!this.node()}function Po(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var l=e[r],o=0,i=l.length,s;o<i;++o)(s=l[o])&&t.call(s,s.__data__,o,l);return this}function Vo(t){return function(){this.removeAttribute(t)}}function Do(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mo(t,e){return function(){this.setAttribute(t,e)}}function Lo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ro(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function So(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Ao(t,e){var r=br(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Do:Vo:typeof e=="function"?r.local?So:Ro:r.local?Lo:Mo)(r,e))}function Fl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zo(t){return function(){this.style.removeProperty(t)}}function Bo(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Ho(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Fo(t,e,r){return arguments.length>1?this.each((e==null?zo:typeof e=="function"?Ho:Bo)(t,e,r??"")):Me(this.node(),t)}function Me(t,e){return t.style.getPropertyValue(e)||Fl(t).getComputedStyle(t,null).getPropertyValue(e)}function Oo(t){return function(){delete this[t]}}function qo(t,e){return function(){this[t]=e}}function Uo(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Zo(t,e){return arguments.length>1?this.each((e==null?Oo:typeof e=="function"?Uo:qo)(t,e)):this.node()[t]}function Ol(t){return t.trim().split(/^|\s+/)}function Kr(t){return t.classList||new ql(t)}function ql(t){this._node=t,this._names=Ol(t.getAttribute("class")||"")}ql.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ul(t,e){for(var r=Kr(t),n=-1,l=e.length;++n<l;)r.add(e[n])}function Zl(t,e){for(var r=Kr(t),n=-1,l=e.length;++n<l;)r.remove(e[n])}function Xo(t){return function(){Ul(this,t)}}function Go(t){return function(){Zl(this,t)}}function Yo(t,e){return function(){(e.apply(this,arguments)?Ul:Zl)(this,t)}}function Ko(t,e){var r=Ol(t+"");if(arguments.length<2){for(var n=Kr(this.node()),l=-1,o=r.length;++l<o;)if(!n.contains(r[l]))return!1;return!0}return this.each((typeof e=="function"?Yo:e?Xo:Go)(r,e))}function Wo(){this.textContent=""}function Qo(t){return function(){this.textContent=t}}function Jo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function jo(t){return arguments.length?this.each(t==null?Wo:(typeof t=="function"?Jo:Qo)(t)):this.node().textContent}function $o(){this.innerHTML=""}function ts(t){return function(){this.innerHTML=t}}function es(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function rs(t){return arguments.length?this.each(t==null?$o:(typeof t=="function"?es:ts)(t)):this.node().innerHTML}function ns(){this.nextSibling&&this.parentNode.appendChild(this)}function ls(){return this.each(ns)}function is(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function os(){return this.each(is)}function ss(t){var e=typeof t=="function"?t:Rl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function as(){return null}function us(t,e){var r=typeof t=="function"?t:Rl(t),n=e==null?as:typeof e=="function"?e:Yr(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function cs(){var t=this.parentNode;t&&t.removeChild(this)}function fs(){return this.each(cs)}function hs(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ds(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ps(t){return this.select(t?ds:hs)}function _s(t){return arguments.length?this.property("__data__",t):this.node().__data__}function vs(t){return function(e){t.call(this,e,this.__data__)}}function ms(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function gs(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,l=e.length,o;r<l;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function ws(t,e,r){return function(){var n=this.__on,l,o=vs(e);if(n){for(var i=0,s=n.length;i<s;++i)if((l=n[i]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=o,l.options=r),l.value=e;return}}this.addEventListener(t.type,o,r),l={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(l):this.__on=[l]}}function ys(t,e,r){var n=ms(t+""),l,o=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,f=s.length,h;a<f;++a)for(l=0,h=s[a];l<o;++l)if((i=n[l]).type===h.type&&i.name===h.name)return h.value}return}for(s=e?ws:gs,l=0;l<o;++l)this.each(s(n[l],e,r));return this}function Xl(t,e,r){var n=Fl(t),l=n.CustomEvent;typeof l=="function"?l=new l(e,r):(l=n.document.createEvent("Event"),r?(l.initEvent(e,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function bs(t,e){return function(){return Xl(this,t,e)}}function Es(t,e){return function(){return Xl(this,t,e.apply(this,arguments))}}function xs(t,e){return this.each((typeof e=="function"?Es:bs)(t,e))}function*ks(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],l=0,o=n.length,i;l<o;++l)(i=n[l])&&(yield i)}var Wr=[null];function Dt(t,e){this._groups=t,this._parents=e}function We(){return new Dt([[document.documentElement]],Wr)}function Ns(){return this}Dt.prototype=We.prototype={constructor:Dt,select:Ji,selectAll:to,selectChild:lo,selectChildren:ao,filter:uo,data:vo,enter:co,exit:go,join:wo,merge:yo,selection:Ns,order:bo,sort:Eo,call:ko,nodes:No,node:Io,size:Co,empty:To,each:Po,attr:Ao,style:Fo,property:Zo,classed:Ko,text:jo,html:rs,raise:ls,lower:os,append:ss,insert:us,remove:fs,clone:ps,datum:_s,on:ys,dispatch:xs,[Symbol.iterator]:ks};function ue(t){return typeof t=="string"?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],Wr)}function Is(t){let e;for(;e=t.sourceEvent;)t=e;return t}function se(t,e){if(t=Is(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}function Cs(t){return typeof t=="string"?new Dt([document.querySelectorAll(t)],[document.documentElement]):new Dt([Sl(t)],Wr)}const Sr={capture:!0,passive:!1};function Ar(t){t.preventDefault(),t.stopImmediatePropagation()}function Ts(t){var e=t.document.documentElement,r=ue(t).on("dragstart.drag",Ar,Sr);"onselectstart"in e?r.on("selectstart.drag",Ar,Sr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ps(t,e){var r=t.document.documentElement,n=ue(t).on("dragstart.drag",null);e&&(n.on("click.drag",Ar,Sr),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Qr(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Gl(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Qe(){}var Xe=.7,_r=1/Xe,Ce="\\s*([+-]?\\d+)\\s*",Ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vs=/^#([0-9a-f]{3,8})$/,Ds=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),Ms=new RegExp(`^rgb\\(${te},${te},${te}\\)$`),Ls=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Ge}\\)$`),Rs=new RegExp(`^rgba\\(${te},${te},${te},${Ge}\\)$`),Ss=new RegExp(`^hsl\\(${Ge},${te},${te}\\)$`),As=new RegExp(`^hsla\\(${Ge},${te},${te},${Ge}\\)$`),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qr(Qe,Ye,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:On,formatHex:On,formatHex8:zs,formatHsl:Bs,formatRgb:qn,toString:qn});function On(){return this.rgb().formatHex()}function zs(){return this.rgb().formatHex8()}function Bs(){return Yl(this).formatHsl()}function qn(){return this.rgb().formatRgb()}function Ye(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Vs.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Un(e):r===3?new At(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?rr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?rr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ds.exec(t))?new At(e[1],e[2],e[3],1):(e=Ms.exec(t))?new At(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ls.exec(t))?rr(e[1],e[2],e[3],e[4]):(e=Rs.exec(t))?rr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ss.exec(t))?Gn(e[1],e[2]/100,e[3]/100,1):(e=As.exec(t))?Gn(e[1],e[2]/100,e[3]/100,e[4]):Fn.hasOwnProperty(t)?Un(Fn[t]):t==="transparent"?new At(NaN,NaN,NaN,0):null}function Un(t){return new At(t>>16&255,t>>8&255,t&255,1)}function rr(t,e,r,n){return n<=0&&(t=e=r=NaN),new At(t,e,r,n)}function Hs(t){return t instanceof Qe||(t=Ye(t)),t?(t=t.rgb(),new At(t.r,t.g,t.b,t.opacity)):new At}function zr(t,e,r,n){return arguments.length===1?Hs(t):new At(t,e,r,n??1)}function At(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Qr(At,zr,Gl(Qe,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xe:Math.pow(Xe,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new At(we(this.r),we(this.g),we(this.b),vr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zn,formatHex:Zn,formatHex8:Fs,formatRgb:Xn,toString:Xn}));function Zn(){return`#${ge(this.r)}${ge(this.g)}${ge(this.b)}`}function Fs(){return`#${ge(this.r)}${ge(this.g)}${ge(this.b)}${ge((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xn(){const t=vr(this.opacity);return`${t===1?"rgb(":"rgba("}${we(this.r)}, ${we(this.g)}, ${we(this.b)}${t===1?")":`, ${t})`}`}function vr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function we(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ge(t){return t=we(t),(t<16?"0":"")+t.toString(16)}function Gn(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ut(t,e,r,n)}function Yl(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);if(t instanceof Qe||(t=Ye(t)),!t)return new Ut;if(t instanceof Ut)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,l=Math.min(e,r,n),o=Math.max(e,r,n),i=NaN,s=o-l,a=(o+l)/2;return s?(e===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-e)/s+2:i=(e-r)/s+4,s/=a<.5?o+l:2-o-l,i*=60):s=a>0&&a<1?0:i,new Ut(i,s,a,t.opacity)}function Os(t,e,r,n){return arguments.length===1?Yl(t):new Ut(t,e,r,n??1)}function Ut(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Qr(Ut,Os,Gl(Qe,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xe:Math.pow(Xe,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,l=2*r-n;return new At(Vr(t>=240?t-240:t+120,l,n),Vr(t,l,n),Vr(t<120?t+240:t-120,l,n),this.opacity)},clamp(){return new Ut(Yn(this.h),nr(this.s),nr(this.l),vr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vr(this.opacity);return`${t===1?"hsl(":"hsla("}${Yn(this.h)}, ${nr(this.s)*100}%, ${nr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Yn(t){return t=(t||0)%360,t<0?t+360:t}function nr(t){return Math.max(0,Math.min(1,t||0))}function Vr(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Kl=t=>()=>t;function qs(t,e){return function(r){return t+r*e}}function Us(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zs(t){return(t=+t)==1?Wl:function(e,r){return r-e?Us(e,r,t):Kl(isNaN(e)?r:e)}}function Wl(t,e){var r=e-t;return r?qs(t,r):Kl(isNaN(t)?e:t)}const Kn=function t(e){var r=Zs(e);function n(l,o){var i=r((l=zr(l)).r,(o=zr(o)).r),s=r(l.g,o.g),a=r(l.b,o.b),f=Wl(l.opacity,o.opacity);return function(h){return l.r=i(h),l.g=s(h),l.b=a(h),l.opacity=f(h),l+""}}return n.gamma=t,n}(1);function ae(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dr=new RegExp(Br.source,"g");function Xs(t){return function(){return t}}function Gs(t){return function(e){return t(e)+""}}function Ys(t,e){var r=Br.lastIndex=Dr.lastIndex=0,n,l,o,i=-1,s=[],a=[];for(t=t+"",e=e+"";(n=Br.exec(t))&&(l=Dr.exec(e));)(o=l.index)>r&&(o=e.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(l=l[0])?s[i]?s[i]+=l:s[++i]=l:(s[++i]=null,a.push({i,x:ae(n,l)})),r=Dr.lastIndex;return r<e.length&&(o=e.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?a[0]?Gs(a[0].x):Xs(e):(e=a.length,function(f){for(var h=0,_;h<e;++h)s[(_=a[h]).i]=_.x(f);return s.join("")})}var Wn=180/Math.PI,Hr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ql(t,e,r,n,l,o){var i,s,a;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(a=t*r+e*n)&&(r-=t*a,n-=e*a),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,a/=s),t*n<e*r&&(t=-t,e=-e,a=-a,i=-i),{translateX:l,translateY:o,rotate:Math.atan2(e,t)*Wn,skewX:Math.atan(a)*Wn,scaleX:i,scaleY:s}}var lr;function Ks(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Hr:Ql(e.a,e.b,e.c,e.d,e.e,e.f)}function Ws(t){return t==null||(lr||(lr=document.createElementNS("http://www.w3.org/2000/svg","g")),lr.setAttribute("transform",t),!(t=lr.transform.baseVal.consolidate()))?Hr:(t=t.matrix,Ql(t.a,t.b,t.c,t.d,t.e,t.f))}function Jl(t,e,r,n){function l(f){return f.length?f.pop()+" ":""}function o(f,h,_,v,m,w){if(f!==_||h!==v){var d=m.push("translate(",null,e,null,r);w.push({i:d-4,x:ae(f,_)},{i:d-2,x:ae(h,v)})}else(_||v)&&m.push("translate("+_+e+v+r)}function i(f,h,_,v){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),v.push({i:_.push(l(_)+"rotate(",null,n)-2,x:ae(f,h)})):h&&_.push(l(_)+"rotate("+h+n)}function s(f,h,_,v){f!==h?v.push({i:_.push(l(_)+"skewX(",null,n)-2,x:ae(f,h)}):h&&_.push(l(_)+"skewX("+h+n)}function a(f,h,_,v,m,w){if(f!==_||h!==v){var d=m.push(l(m)+"scale(",null,",",null,")");w.push({i:d-4,x:ae(f,_)},{i:d-2,x:ae(h,v)})}else(_!==1||v!==1)&&m.push(l(m)+"scale("+_+","+v+")")}return function(f,h){var _=[],v=[];return f=t(f),h=t(h),o(f.translateX,f.translateY,h.translateX,h.translateY,_,v),i(f.rotate,h.rotate,_,v),s(f.skewX,h.skewX,_,v),a(f.scaleX,f.scaleY,h.scaleX,h.scaleY,_,v),f=h=null,function(m){for(var w=-1,d=v.length,y;++w<d;)_[(y=v[w]).i]=y.x(m);return _.join("")}}}var Qs=Jl(Ks,"px, ","px)","deg)"),Js=Jl(Ws,", ",")",")"),js=1e-12;function Qn(t){return((t=Math.exp(t))+1/t)/2}function $s(t){return((t=Math.exp(t))-1/t)/2}function ta(t){return((t=Math.exp(2*t))-1)/(t+1)}const ea=function t(e,r,n){function l(o,i){var s=o[0],a=o[1],f=o[2],h=i[0],_=i[1],v=i[2],m=h-s,w=_-a,d=m*m+w*w,y,E;if(d<js)E=Math.log(v/f)/e,y=function(W){return[s+W*m,a+W*w,f*Math.exp(e*W*E)]};else{var N=Math.sqrt(d),C=(v*v-f*f+n*d)/(2*f*r*N),D=(v*v-f*f-n*d)/(2*v*r*N),U=Math.log(Math.sqrt(C*C+1)-C),M=Math.log(Math.sqrt(D*D+1)-D);E=(M-U)/e,y=function(W){var X=W*E,j=Qn(U),K=f/(r*N)*(j*ta(e*X+U)-$s(U));return[s+K*m,a+K*w,f*j/Qn(e*X+U)]}}return y.duration=E*1e3*e/Math.SQRT2,y}return l.rho=function(o){var i=Math.max(.001,+o),s=i*i,a=s*s;return t(i,s,a)},l}(Math.SQRT2,2,4);var Le=0,Fe=0,Be=0,jl=1e3,mr,Oe,gr=0,ye=0,Er=0,Ke=typeof performance=="object"&&performance.now?performance:Date,$l=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jr(){return ye||($l(ra),ye=Ke.now()+Er)}function ra(){ye=0}function wr(){this._call=this._time=this._next=null}wr.prototype=ti.prototype={constructor:wr,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Jr():+r)+(e==null?0:+e),!this._next&&Oe!==this&&(Oe?Oe._next=this:mr=this,Oe=this),this._call=t,this._time=r,Fr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fr())}};function ti(t,e,r){var n=new wr;return n.restart(t,e,r),n}function na(){Jr(),++Le;for(var t=mr,e;t;)(e=ye-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Le}function Jn(){ye=(gr=Ke.now())+Er,Le=Fe=0;try{na()}finally{Le=0,ia(),ye=0}}function la(){var t=Ke.now(),e=t-gr;e>jl&&(Er-=e,gr=t)}function ia(){for(var t,e=mr,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:mr=r);Oe=t,Fr(n)}function Fr(t){if(!Le){Fe&&(Fe=clearTimeout(Fe));var e=t-ye;e>24?(t<1/0&&(Fe=setTimeout(Jn,t-Ke.now()-Er)),Be&&(Be=clearInterval(Be))):(Be||(gr=Ke.now(),Be=setInterval(la,jl)),Le=1,$l(Jn))}}function jn(t,e,r){var n=new wr;return e=e==null?0:+e,n.restart(l=>{n.stop(),t(l+e)},e,r),n}var oa=Gr("start","end","cancel","interrupt"),sa=[],ei=0,$n=1,Or=2,ur=3,tl=4,qr=5,cr=6;function xr(t,e,r,n,l,o){var i=t.__transition;if(!i)t.__transition={};else if(r in i)return;aa(t,r,{name:e,index:n,group:l,on:oa,tween:sa,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ei})}function jr(t,e){var r=Qt(t,e);if(r.state>ei)throw new Error("too late; already scheduled");return r}function ee(t,e){var r=Qt(t,e);if(r.state>ur)throw new Error("too late; already running");return r}function Qt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function aa(t,e,r){var n=t.__transition,l;n[e]=r,r.timer=ti(o,0,r.time);function o(f){r.state=$n,r.timer.restart(i,r.delay,r.time),r.delay<=f&&i(f-r.delay)}function i(f){var h,_,v,m;if(r.state!==$n)return a();for(h in n)if(m=n[h],m.name===r.name){if(m.state===ur)return jn(i);m.state===tl?(m.state=cr,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete n[h]):+h<e&&(m.state=cr,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete n[h])}if(jn(function(){r.state===ur&&(r.state=tl,r.timer.restart(s,r.delay,r.time),s(f))}),r.state=Or,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Or){for(r.state=ur,l=new Array(v=r.tween.length),h=0,_=-1;h<v;++h)(m=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(l[++_]=m);l.length=_+1}}function s(f){for(var h=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(a),r.state=qr,1),_=-1,v=l.length;++_<v;)l[_].call(t,h);r.state===qr&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){r.state=cr,r.timer.stop(),delete n[e];for(var f in n)return;delete t.__transition}}function fr(t,e){var r=t.__transition,n,l,o=!0,i;if(r){e=e==null?null:e+"";for(i in r){if((n=r[i]).name!==e){o=!1;continue}l=n.state>Or&&n.state<qr,n.state=cr,n.timer.stop(),n.on.call(l?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]}o&&delete t.__transition}}function ua(t){return this.each(function(){fr(this,t)})}function ca(t,e){var r,n;return function(){var l=ee(this,t),o=l.tween;if(o!==r){n=r=o;for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n=n.slice(),n.splice(i,1);break}}l.tween=n}}function fa(t,e,r){var n,l;if(typeof r!="function")throw new Error;return function(){var o=ee(this,t),i=o.tween;if(i!==n){l=(n=i).slice();for(var s={name:e,value:r},a=0,f=l.length;a<f;++a)if(l[a].name===e){l[a]=s;break}a===f&&l.push(s)}o.tween=l}}function ha(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Qt(this.node(),r).tween,l=0,o=n.length,i;l<o;++l)if((i=n[l]).name===t)return i.value;return null}return this.each((e==null?ca:fa)(r,t,e))}function $r(t,e,r){var n=t._id;return t.each(function(){var l=ee(this,n);(l.value||(l.value={}))[e]=r.apply(this,arguments)}),function(l){return Qt(l,n).value[e]}}function ri(t,e){var r;return(typeof e=="number"?ae:e instanceof Ye?Kn:(r=Ye(e))?(e=r,Kn):Ys)(t,e)}function da(t){return function(){this.removeAttribute(t)}}function pa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _a(t,e,r){var n,l=r+"",o;return function(){var i=this.getAttribute(t);return i===l?null:i===n?o:o=e(n=i,r)}}function va(t,e,r){var n,l=r+"",o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===l?null:i===n?o:o=e(n=i,r)}}function ma(t,e,r){var n,l,o;return function(){var i,s=r(this),a;return s==null?void this.removeAttribute(t):(i=this.getAttribute(t),a=s+"",i===a?null:i===n&&a===l?o:(l=a,o=e(n=i,s)))}}function ga(t,e,r){var n,l,o;return function(){var i,s=r(this),a;return s==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),a=s+"",i===a?null:i===n&&a===l?o:(l=a,o=e(n=i,s)))}}function wa(t,e){var r=br(t),n=r==="transform"?Js:ri;return this.attrTween(t,typeof e=="function"?(r.local?ga:ma)(r,n,$r(this,"attr."+t,e)):e==null?(r.local?pa:da)(r):(r.local?va:_a)(r,n,e))}function ya(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function ba(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Ea(t,e){var r,n;function l(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&ba(t,o)),r}return l._value=e,l}function xa(t,e){var r,n;function l(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&ya(t,o)),r}return l._value=e,l}function ka(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=br(t);return this.tween(r,(n.local?Ea:xa)(n,e))}function Na(t,e){return function(){jr(this,t).delay=+e.apply(this,arguments)}}function Ia(t,e){return e=+e,function(){jr(this,t).delay=e}}function Ca(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Na:Ia)(e,t)):Qt(this.node(),e).delay}function Ta(t,e){return function(){ee(this,t).duration=+e.apply(this,arguments)}}function Pa(t,e){return e=+e,function(){ee(this,t).duration=e}}function Va(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ta:Pa)(e,t)):Qt(this.node(),e).duration}function Da(t,e){if(typeof e!="function")throw new Error;return function(){ee(this,t).ease=e}}function Ma(t){var e=this._id;return arguments.length?this.each(Da(e,t)):Qt(this.node(),e).ease}function La(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;ee(this,t).ease=r}}function Ra(t){if(typeof t!="function")throw new Error;return this.each(La(this._id,t))}function Sa(t){typeof t!="function"&&(t=zl(t));for(var e=this._groups,r=e.length,n=new Array(r),l=0;l<r;++l)for(var o=e[l],i=o.length,s=n[l]=[],a,f=0;f<i;++f)(a=o[f])&&t.call(a,a.__data__,f,o)&&s.push(a);return new ie(n,this._parents,this._name,this._id)}function Aa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,l=r.length,o=Math.min(n,l),i=new Array(n),s=0;s<o;++s)for(var a=e[s],f=r[s],h=a.length,_=i[s]=new Array(h),v,m=0;m<h;++m)(v=a[m]||f[m])&&(_[m]=v);for(;s<n;++s)i[s]=e[s];return new ie(i,this._parents,this._name,this._id)}function za(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Ba(t,e,r){var n,l,o=za(e)?jr:ee;return function(){var i=o(this,t),s=i.on;s!==n&&(l=(n=s).copy()).on(e,r),i.on=l}}function Ha(t,e){var r=this._id;return arguments.length<2?Qt(this.node(),r).on.on(t):this.each(Ba(r,t,e))}function Fa(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Oa(){return this.on("end.remove",Fa(this._id))}function qa(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Yr(t));for(var n=this._groups,l=n.length,o=new Array(l),i=0;i<l;++i)for(var s=n[i],a=s.length,f=o[i]=new Array(a),h,_,v=0;v<a;++v)(h=s[v])&&(_=t.call(h,h.__data__,v,s))&&("__data__"in h&&(_.__data__=h.__data__),f[v]=_,xr(f[v],e,r,v,f,Qt(h,r)));return new ie(o,this._parents,e,r)}function Ua(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Al(t));for(var n=this._groups,l=n.length,o=[],i=[],s=0;s<l;++s)for(var a=n[s],f=a.length,h,_=0;_<f;++_)if(h=a[_]){for(var v=t.call(h,h.__data__,_,a),m,w=Qt(h,r),d=0,y=v.length;d<y;++d)(m=v[d])&&xr(m,e,r,d,v,w);o.push(v),i.push(h)}return new ie(o,i,e,r)}var Za=We.prototype.constructor;function Xa(){return new Za(this._groups,this._parents)}function Ga(t,e){var r,n,l;return function(){var o=Me(this,t),i=(this.style.removeProperty(t),Me(this,t));return o===i?null:o===r&&i===n?l:l=e(r=o,n=i)}}function ni(t){return function(){this.style.removeProperty(t)}}function Ya(t,e,r){var n,l=r+"",o;return function(){var i=Me(this,t);return i===l?null:i===n?o:o=e(n=i,r)}}function Ka(t,e,r){var n,l,o;return function(){var i=Me(this,t),s=r(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(t),Me(this,t))),i===a?null:i===n&&a===l?o:(l=a,o=e(n=i,s))}}function Wa(t,e){var r,n,l,o="style."+e,i="end."+o,s;return function(){var a=ee(this,t),f=a.on,h=a.value[o]==null?s||(s=ni(e)):void 0;(f!==r||l!==h)&&(n=(r=f).copy()).on(i,l=h),a.on=n}}function Qa(t,e,r){var n=(t+="")=="transform"?Qs:ri;return e==null?this.styleTween(t,Ga(t,n)).on("end.style."+t,ni(t)):typeof e=="function"?this.styleTween(t,Ka(t,n,$r(this,"style."+t,e))).each(Wa(this._id,t)):this.styleTween(t,Ya(t,n,e),r).on("end.style."+t,null)}function Ja(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function ja(t,e,r){var n,l;function o(){var i=e.apply(this,arguments);return i!==l&&(n=(l=i)&&Ja(t,i,r)),n}return o._value=e,o}function $a(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,ja(t,e,r??""))}function tu(t){return function(){this.textContent=t}}function eu(t){return function(){var e=t(this);this.textContent=e??""}}function ru(t){return this.tween("text",typeof t=="function"?eu($r(this,"text",t)):tu(t==null?"":t+""))}function nu(t){return function(e){this.textContent=t.call(this,e)}}function lu(t){var e,r;function n(){var l=t.apply(this,arguments);return l!==r&&(e=(r=l)&&nu(l)),e}return n._value=t,n}function iu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,lu(t))}function ou(){for(var t=this._name,e=this._id,r=li(),n=this._groups,l=n.length,o=0;o<l;++o)for(var i=n[o],s=i.length,a,f=0;f<s;++f)if(a=i[f]){var h=Qt(a,e);xr(a,t,r,f,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ie(n,this._parents,t,r)}function su(){var t,e,r=this,n=r._id,l=r.size();return new Promise(function(o,i){var s={value:i},a={value:function(){--l===0&&o()}};r.each(function(){var f=ee(this,n),h=f.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(a)),f.on=e}),l===0&&o()})}var au=0;function ie(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function li(){return++au}var ne=We.prototype;ie.prototype={constructor:ie,select:qa,selectAll:Ua,selectChild:ne.selectChild,selectChildren:ne.selectChildren,filter:Sa,merge:Aa,selection:Xa,transition:ou,call:ne.call,nodes:ne.nodes,node:ne.node,size:ne.size,empty:ne.empty,each:ne.each,on:Ha,attr:wa,attrTween:ka,style:Qa,styleTween:$a,text:ru,textTween:iu,remove:Oa,tween:ha,delay:Ca,duration:Va,ease:Ma,easeVarying:Ra,end:su,[Symbol.iterator]:ne[Symbol.iterator]};function uu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var cu={time:null,delay:0,duration:250,ease:uu};function fu(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function hu(t){var e,r;t instanceof ie?(e=t._id,t=t._name):(e=li(),(r=cu).time=Jr(),t=t==null?null:t+"");for(var n=this._groups,l=n.length,o=0;o<l;++o)for(var i=n[o],s=i.length,a,f=0;f<s;++f)(a=i[f])&&xr(a,t,e,f,i,r||fu(a,e));return new ie(n,this._parents,t,e)}We.prototype.interrupt=ua;We.prototype.transition=hu;const ir=t=>()=>t;function du(t,{sourceEvent:e,target:r,transform:n,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:l}})}function le(t,e,r){this.k=t,this.x=e,this.y=r}le.prototype={constructor:le,scale:function(t){return t===1?this:new le(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new le(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tn=new le(1,0,0);le.prototype;function Mr(t){t.stopImmediatePropagation()}function He(t){t.preventDefault(),t.stopImmediatePropagation()}function pu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function _u(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function el(){return this.__zoom||tn}function vu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function mu(){return navigator.maxTouchPoints||"ontouchstart"in this}function gu(t,e,r){var n=t.invertX(e[0][0])-r[0][0],l=t.invertX(e[1][0])-r[1][0],o=t.invertY(e[0][1])-r[0][1],i=t.invertY(e[1][1])-r[1][1];return t.translate(l>n?(n+l)/2:Math.min(0,n)||Math.max(0,l),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function wu(){var t=pu,e=_u,r=gu,n=vu,l=mu,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,a=ea,f=Gr("start","zoom","end"),h,_,v,m=500,w=150,d=0,y=10;function E(b){b.property("__zoom",el).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",K).filter(l).on("touchstart.zoom",z).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",rt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(b,L,I,T){var G=b.selection?b.selection():b;G.property("__zoom",el),b!==G?U(b,L,I,T):G.interrupt().each(function(){M(this,arguments).event(T).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},E.scaleBy=function(b,L,I,T){E.scaleTo(b,function(){var G=this.__zoom.k,q=typeof L=="function"?L.apply(this,arguments):L;return G*q},I,T)},E.scaleTo=function(b,L,I,T){E.transform(b,function(){var G=e.apply(this,arguments),q=this.__zoom,H=I==null?D(G):typeof I=="function"?I.apply(this,arguments):I,Q=q.invert(H),B=typeof L=="function"?L.apply(this,arguments):L;return r(C(N(q,B),H,Q),G,i)},I,T)},E.translateBy=function(b,L,I,T){E.transform(b,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof I=="function"?I.apply(this,arguments):I),e.apply(this,arguments),i)},null,T)},E.translateTo=function(b,L,I,T,G){E.transform(b,function(){var q=e.apply(this,arguments),H=this.__zoom,Q=T==null?D(q):typeof T=="function"?T.apply(this,arguments):T;return r(tn.translate(Q[0],Q[1]).scale(H.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof I=="function"?-I.apply(this,arguments):-I),q,i)},T,G)};function N(b,L){return L=Math.max(o[0],Math.min(o[1],L)),L===b.k?b:new le(L,b.x,b.y)}function C(b,L,I){var T=L[0]-I[0]*b.k,G=L[1]-I[1]*b.k;return T===b.x&&G===b.y?b:new le(b.k,T,G)}function D(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function U(b,L,I,T){b.on("start.zoom",function(){M(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(T).end()}).tween("zoom",function(){var G=this,q=arguments,H=M(G,q).event(T),Q=e.apply(G,q),B=I==null?D(Q):typeof I=="function"?I.apply(G,q):I,R=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),P=G.__zoom,V=typeof L=="function"?L.apply(G,q):L,Y=a(P.invert(B).concat(R/P.k),V.invert(B).concat(R/V.k));return function(at){if(at===1)at=V;else{var ot=Y(at),dt=R/ot[2];at=new le(dt,B[0]-ot[0]*dt,B[1]-ot[1]*dt)}H.zoom(null,at)}})}function M(b,L,I){return!I&&b.__zooming||new W(b,L)}function W(b,L){this.that=b,this.args=L,this.active=0,this.sourceEvent=null,this.extent=e.apply(b,L),this.taps=0}W.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,L){return this.mouse&&b!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var L=ue(this.that).datum();f.call(b,this.that,new du(b,{sourceEvent:this.sourceEvent,target:E,type:b,transform:this.that.__zoom,dispatch:f}),L)}};function X(b,...L){if(!t.apply(this,arguments))return;var I=M(this,L).event(b),T=this.__zoom,G=Math.max(o[0],Math.min(o[1],T.k*Math.pow(2,n.apply(this,arguments)))),q=se(b);if(I.wheel)(I.mouse[0][0]!==q[0]||I.mouse[0][1]!==q[1])&&(I.mouse[1]=T.invert(I.mouse[0]=q)),clearTimeout(I.wheel);else{if(T.k===G)return;I.mouse=[q,T.invert(q)],fr(this),I.start()}He(b),I.wheel=setTimeout(H,w),I.zoom("mouse",r(C(N(T,G),I.mouse[0],I.mouse[1]),I.extent,i));function H(){I.wheel=null,I.end()}}function j(b,...L){if(v||!t.apply(this,arguments))return;var I=b.currentTarget,T=M(this,L,!0).event(b),G=ue(b.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",R,!0),q=se(b,I),H=b.clientX,Q=b.clientY;Ts(b.view),Mr(b),T.mouse=[q,this.__zoom.invert(q)],fr(this),T.start();function B(P){if(He(P),!T.moved){var V=P.clientX-H,Y=P.clientY-Q;T.moved=V*V+Y*Y>d}T.event(P).zoom("mouse",r(C(T.that.__zoom,T.mouse[0]=se(P,I),T.mouse[1]),T.extent,i))}function R(P){G.on("mousemove.zoom mouseup.zoom",null),Ps(P.view,T.moved),He(P),T.event(P).end()}}function K(b,...L){if(t.apply(this,arguments)){var I=this.__zoom,T=se(b.changedTouches?b.changedTouches[0]:b,this),G=I.invert(T),q=I.k*(b.shiftKey?.5:2),H=r(C(N(I,q),T,G),e.apply(this,L),i);He(b),s>0?ue(this).transition().duration(s).call(U,H,T,b):ue(this).call(E.transform,H,T,b)}}function z(b,...L){if(t.apply(this,arguments)){var I=b.touches,T=I.length,G=M(this,L,b.changedTouches.length===T).event(b),q,H,Q,B;for(Mr(b),H=0;H<T;++H)Q=I[H],B=se(Q,this),B=[B,this.__zoom.invert(B),Q.identifier],G.touch0?!G.touch1&&G.touch0[2]!==B[2]&&(G.touch1=B,G.taps=0):(G.touch0=B,q=!0,G.taps=1+!!h);h&&(h=clearTimeout(h)),q&&(G.taps<2&&(_=B[0],h=setTimeout(function(){h=null},m)),fr(this),G.start())}}function Z(b,...L){if(this.__zooming){var I=M(this,L).event(b),T=b.changedTouches,G=T.length,q,H,Q,B;for(He(b),q=0;q<G;++q)H=T[q],Q=se(H,this),I.touch0&&I.touch0[2]===H.identifier?I.touch0[0]=Q:I.touch1&&I.touch1[2]===H.identifier&&(I.touch1[0]=Q);if(H=I.that.__zoom,I.touch1){var R=I.touch0[0],P=I.touch0[1],V=I.touch1[0],Y=I.touch1[1],at=(at=V[0]-R[0])*at+(at=V[1]-R[1])*at,ot=(ot=Y[0]-P[0])*ot+(ot=Y[1]-P[1])*ot;H=N(H,Math.sqrt(at/ot)),Q=[(R[0]+V[0])/2,(R[1]+V[1])/2],B=[(P[0]+Y[0])/2,(P[1]+Y[1])/2]}else if(I.touch0)Q=I.touch0[0],B=I.touch0[1];else return;I.zoom("touch",r(C(H,Q,B),I.extent,i))}}function rt(b,...L){if(this.__zooming){var I=M(this,L).event(b),T=b.changedTouches,G=T.length,q,H;for(Mr(b),v&&clearTimeout(v),v=setTimeout(function(){v=null},m),q=0;q<G;++q)H=T[q],I.touch0&&I.touch0[2]===H.identifier?delete I.touch0:I.touch1&&I.touch1[2]===H.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(H=se(H,this),Math.hypot(_[0]-H[0],_[1]-H[1])<y)){var Q=ue(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return E.wheelDelta=function(b){return arguments.length?(n=typeof b=="function"?b:ir(+b),E):n},E.filter=function(b){return arguments.length?(t=typeof b=="function"?b:ir(!!b),E):t},E.touchable=function(b){return arguments.length?(l=typeof b=="function"?b:ir(!!b),E):l},E.extent=function(b){return arguments.length?(e=typeof b=="function"?b:ir([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),E):e},E.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],E):[o[0],o[1]]},E.translateExtent=function(b){return arguments.length?(i[0][0]=+b[0][0],i[1][0]=+b[1][0],i[0][1]=+b[0][1],i[1][1]=+b[1][1],E):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},E.constrain=function(b){return arguments.length?(r=b,E):r},E.duration=function(b){return arguments.length?(s=+b,E):s},E.interpolate=function(b){return arguments.length?(a=b,E):a},E.on=function(){var b=f.on.apply(f,arguments);return b===f?E:b},E.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,E):Math.sqrt(d)},E.tapDistance=function(b){return arguments.length?(y=+b,E):y},E}const yu=`,,,,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,เชียงราย,เชียงราย,เชียงราย,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,,,,,พะเยา,พะเยา,,,,,,,,,,,,,,,,,,,,,,,\r
,เชียงใหม่,เชียงใหม่,เชียงใหม่,,ลำปาง,ลำปาง,ลำปาง,,พะเยา,พะเยา,,น่าน,,,,,,,,,,,,,,,,,,,,,\r
,,,,,ลำปาง,ลำปาง,,,,,,น่าน,,,,,,,,,,,,,,,,,,,,,\r
แม่ฮ่องสอน,,ลำพูน,ลำพูน,,,,,,แพร่,แพร่,,น่าน,,,,,,,,,,,บึงกาฬ,บึงกาฬ,บึงกาฬ,,,,,,,,\r
แม่ฮ่องสอน,,ลำพูน,,,,สุโขทัย,สุโขทัย,,แพร่,,,น่าน,,,,,,หนองคาย,หนองคาย,หนองคาย,หนองคาย,,,,,,,,,,,,\r
,,,,,,สุโขทัย,สุโขทัย,,,,,,,เลย,,หนองบัวลำภู,,,,,,,สกลนคร,สกลนคร,สกลนคร,,นครพนม,,,,,,\r
,,กำแพงเพชร,กำแพงเพชร,กำแพงเพชร,,,,,,อุตรดิตถ์,อุตรดิตถ์,อุตรดิตถ์,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,อุดรธานี,อุดรธานี,,สกลนคร,สกลนคร,สกลนคร,,นครพนม,,,,,,\r
,,กำแพงเพชร,กำแพงเพชร,,,พิจิตร,พิจิตร,,,,,,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,อุดรธานี,อุดรธานี,,สกลนคร,สกลนคร,,,นครพนม,,มุกดาหาร,,,,\r
,,,,,,พิจิตร,พิจิตร,,พิษณุโลก,พิษณุโลก,พิษณุโลก,พิษณุโลก,,เลย,,หนองบัวลำภู,,อุดรธานี,อุดรธานี,,,,,,,,นครพนม,,มุกดาหาร,,,,\r
,,,อุทัยธานี,อุทัยธานี,,,,,พิษณุโลก,พิษณุโลก,พิษณุโลก,,,,,,,,,,,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,,นครพนม,,มุกดาหาร,,,,\r
,ตาก,,อุทัยธานี,,,นครสวรรค์,นครสวรรค์,,,,,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,กาฬสินธุ์,กาฬสินธุ์,กาฬสินธุ์,,,,,,,ยโสธร,,\r
,ตาก,,,,,นครสวรรค์,นครสวรรค์,,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,,,,,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,ตาก,,ชัยนาท,ชัยนาท,,นครสวรรค์,นครสวรรค์,,เพชรบูรณ์,เพชรบูรณ์,เพชรบูรณ์,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,ขอนแก่น,ขอนแก่น,ขอนแก่น,,มหาสารคาม,มหาสารคาม,มหาสารคาม,มหาสารคาม,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,ตาก,,ชัยนาท,,,นครสวรรค์,นครสวรรค์,,,,,,,ชัยภูมิ,ชัยภูมิ,,ขอนแก่น,,,,,มหาสารคาม,มหาสารคาม,มหาสารคาม,,,ร้อยเอ็ด,ร้อยเอ็ด,ร้อยเอ็ด,,ยโสธร,,อำนาจเจริญ\r
,,,,,,,,,ลพบุรี,ลพบุรี,,สระบุรี,,,,,,,,,,,,,,,,,,,,,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,สุพรรณบุรี,,สิงห์บุรี,,ลพบุรี,ลพบุรี,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,สุพรรณบุรี,,สิงห์บุรี,,ลพบุรี,,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,กาญจนบุรี,,สุพรรณบุรี,,,,,,,,สระบุรี,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,บุรีรัมย์,บุรีรัมย์,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,ศรีสะเกษ,ศรีสะเกษ,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,กาญจนบุรี,,,,,,อ่างทอง,,พระนครศรีอยุธยา,พระนครศรีอยุธยา,,,,นครราชสีมา,นครราชสีมา,นครราชสีมา,นครราชสีมา,,บุรีรัมย์,,,,สุรินทร์,สุรินทร์,,ศรีสะเกษ,,,,อุบลราชธานี,อุบลราชธานี,อุบลราชธานี,\r
,,,,,สมุทรสงคราม,,อ่างทอง,,พระนครศรีอยุธยา,พระนครศรีอยุธยา,,นครนายก,,นครราชสีมา,นครราชสีมา,,,,,,,,สุรินทร์,,,,,,,อุบลราชธานี,,,\r
,ราชบุรี,ราชบุรี,ราชบุรี,,สมุทรสงคราม,,,,พระนครศรีอยุธยา,,,นครนายก,,,,,,,,,,,,,,,,,,,,,\r
,ราชบุรี,ราชบุรี,ราชบุรี,,,,,,,,,,,ฉะเชิงเทรา,ฉะเชิงเทรา,ฉะเชิงเทรา,,ปราจีนบุรี,ปราจีนบุรี,,สระแก้ว,สระแก้ว,,,,,,,,,,,\r
,ราชบุรี,,,,,,,,,,,,,ฉะเชิงเทรา,ฉะเชิงเทรา,,,ปราจีนบุรี,ปราจีนบุรี,,สระแก้ว,สระแก้ว,,,,,,,,,,,\r
,,,เพชรบุรี,เพชรบุรี,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,เพชรบุรี,เพชรบุรี,,,,,,,,,,ชลบุรี,ชลบุรี,ชลบุรี,ชลบุรี,,ระยอง,ระยอง,,,,,,,,,,,,,\r
,,,,,,,,,,,,,,ชลบุรี,ชลบุรี,ชลบุรี,ชลบุรี,,ระยอง,ระยอง,,จันทบุรี,จันทบุรี,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,ชลบุรี,ชลบุรี,,,,ระยอง,,,จันทบุรี,จันทบุรี,,ตราด,ตราด,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,ประจวบคีรีขันธ์,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,,,,,,,,,,,,,,,,,,,นนทบุรี,นนทบุรี,นนทบุรี,นนทบุรี,,ปทุมธานี,ปทุมธานี,ปทุมธานี,ปทุมธานี,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,,,,นนทบุรี,นนทบุรี,นนทบุรี,นนทบุรี,,ปทุมธานี,ปทุมธานี,ปทุมธานี,ปทุมธานี,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,,,,,,,,,,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,,,ชุมพร,,,,,,,,,,,,,นครปฐม,นครปฐม,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,,,,,,,,,,,,,,,,นครปฐม,,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,ระนอง,,สุราษฎร์ธานี,สุราษฎร์ธานี,,,,,,,,,,,,,,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,\r
,ระนอง,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,กรุงเทพมหานคร,,,,,,,,,\r
,,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,,,,,,,,,,,,,,,\r
,พังงา,,สุราษฎร์ธานี,สุราษฎร์ธานี,,นครศรีธรรมราช,นครศรีธรรมราช,นครศรีธรรมราช,,,,,,,,,สมุทรสาคร,,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,,,,,,,,,,\r
,พังงา,,,,,นครศรีธรรมราช,,,,,,,,,,,สมุทรสาคร,,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,สมุทรปราการ,,,,,,,,,,,\r
,,,กระบี่,กระบี่,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,กระบี่,,,พัทลุง,พัทลุง,พัทลุง,พัทลุง,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\r
,ภูเก็ต,,ตรัง,ตรัง,,,สงขลา,สงขลา,สงขลา,,ปัตตานี,ปัตตานี,ปัตตานี,,,,,,,,,,,,,,,,,,,,\r
,,,ตรัง,ตรัง,,,สงขลา,สงขลา,สงขลา,,ปัตตานี,ปัตตานี,,,,,,,,,,,,,,,,,,,,,\r
,,,,,,,สงขลา,สงขลา,สงขลา,,,,,นราธิวาส,นราธิวาส,นราธิวาส,,,,,,,,,,,,,,,,,\r
,,,สตูล,สตูล,สตูล,,สงขลา,,,,ยะลา,ยะลา,,นราธิวาส,นราธิวาส,,,,,,,,,,,,,,,,,,\r
,,,,,,,,,,,ยะลา,ยะลา,,,,,,,,,,,,,,,,,,,,,`;function rl(t){let e,r,n,l,o;return{c(){e=tt("text"),r=F(t[1]),this.h()},l(i){e=et(i,"text",{y:!0,x:!0,"alignment-baseline":!0,"font-size":!0});var s=g(e);r=O(s,t[1]),s.forEach(p),this.h()},h(){u(e,"y",n=t[3].y-t[4]/4),u(e,"x",l=t[3].x),u(e,"alignment-baseline","baseline"),u(e,"font-size",o=t[4]*.6)},m(i,s){J(i,e,s),c(e,r)},p(i,s){s&2&&ct(r,i[1]),s&24&&n!==(n=i[3].y-i[4]/4)&&u(e,"y",n),s&8&&l!==(l=i[3].x)&&u(e,"x",l),s&16&&o!==(o=i[4]*.6)&&u(e,"font-size",o)},d(i){i&&p(e)}}}function bu(t){let e,r,n,l,o,i,s,a=t[2]===1&&rl(t);return{c(){e=tt("g"),a&&a.c(),r=tt("rect"),this.h()},l(f){e=et(f,"g",{class:!0});var h=g(e);a&&a.l(h),r=et(h,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"stroke-width":!0,class:!0}),g(r).forEach(p),h.forEach(p),this.h()},h(){var f;u(r,"x",n=t[3].x),u(r,"y",l=t[3].y),u(r,"width",t[4]),u(r,"height",t[4]),u(r,"fill",o="url(#party-bg-"+((f=t[5][0].party)==null?void 0:f.Name)+")"),u(r,"stroke-width","0.7"),u(r,"class","stroke-white"),u(e,"class","cursor-default")},m(f,h){J(f,e,h),a&&a.m(e,null),c(e,r),i||(s=[bt(e,"mouseenter",t[10]),bt(e,"mouseleave",t[11])],i=!0)},p(f,[h]){var _;f[2]===1?a?a.p(f,h):(a=rl(f),a.c(),a.m(e,r)):a&&(a.d(1),a=null),h&8&&n!==(n=f[3].x)&&u(r,"x",n),h&8&&l!==(l=f[3].y)&&u(r,"y",l),h&16&&u(r,"width",f[4]),h&16&&u(r,"height",f[4]),h&32&&o!==(o="url(#party-bg-"+((_=f[5][0].party)==null?void 0:_.Name)+")")&&u(r,"fill",o)},i:Pt,o:Pt,d(f){f&&p(e),a&&a.d(),i=!1,he(s)}}}function Eu(t,e,r){let n,l,o,i;ce(t,De,d=>r(9,i=d));let{province:s}=e,{districtNumber:a}=e,{position:f}=e,{size:h}=e,{districtTooltip:_=null}=e;const v=({target:d})=>{const{x:y,y:E,width:N,height:C}=d.getBoundingClientRect();r(0,_={province:s,districtNumber:a,popularityRanking:o,x:y+N,y:E+C,totalPoints:l})},m=d=>v(d),w=()=>r(0,_=null);return t.$$set=d=>{"province"in d&&r(1,s=d.province),"districtNumber"in d&&r(2,a=d.districtNumber),"position"in d&&r(3,f=d.position),"size"in d&&r(4,h=d.size),"districtTooltip"in d&&r(0,_=d.districtTooltip)},t.$$.update=()=>{t.$$.dirty&518&&r(8,n=i[s][a]),t.$$.dirty&256&&r(7,l=n.reduce((d,{points:y})=>d+y,0)),t.$$.dirty&384&&r(5,o=n.map(({party:d,points:y})=>({party:d,percentage:Math.round(y*100/l)})))},[_,s,a,f,h,o,v,l,n,i,m,w]}class xu extends Yt{constructor(e){super(),Kt(this,e,Eu,bu,Wt,{province:1,districtNumber:2,position:3,size:4,districtTooltip:0})}}function nl(t,e,r){const n=t.slice();return n[1]=e[r].party,n[2]=e[r].percentage,n[4]=r,n}function ll(t){var w;let e,r,n,l,o,i=((w=t[1])==null?void 0:w.Name)+"",s,a,f,h=t[2]+"",_,v,m;return{c(){e=x("div"),r=x("div"),n=x("div"),l=S(),o=x("p"),s=F(i),a=S(),f=x("p"),_=F(h),v=F("%"),m=S(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0});var E=g(r);n=k(E,"DIV",{class:!0,style:!0}),g(n).forEach(p),l=A(E),o=k(E,"P",{class:!0});var N=g(o);s=O(N,i),N.forEach(p),a=A(E),f=k(E,"P",{});var C=g(f);_=O(C,h),v=O(C,"%"),C.forEach(p),E.forEach(p),m=A(y),y.forEach(p),this.h()},h(){var d,y;u(n,"class","w-3 h-3 mt-1"),nt(n,"background","url('/party-icons/"+((d=t[1])==null?void 0:d.Name)+".svg') "+((y=t[1])==null?void 0:y.Color)+" center/65% no-repeat"),u(o,"class","flex-1"),an(o,"font-bold",t[4]===0),an(f,"font-bold",t[4]===0),u(r,"class","flex flex-row space-x-2"),u(e,"class","flex flex-col")},m(d,y){J(d,e,y),c(e,r),c(r,n),c(r,l),c(r,o),c(o,s),c(r,a),c(r,f),c(f,_),c(f,v),c(e,m)},p(d,y){var E,N,C;y&1&&nt(n,"background","url('/party-icons/"+((E=d[1])==null?void 0:E.Name)+".svg') "+((N=d[1])==null?void 0:N.Color)+" center/65% no-repeat"),y&1&&i!==(i=((C=d[1])==null?void 0:C.Name)+"")&&ct(s,i),y&1&&h!==(h=d[2]+"")&&ct(_,h)},d(d){d&&p(e)}}}function ku(t){let e,r,n,l=t[0].province+"",o,i,s,a,f=t[0].districtNumber+"",h,_,v,m=t[0].popularityRanking.slice(0,il),w=[];for(let d=0;d<m.length;d+=1)w[d]=ll(nl(t,m,d));return{c(){e=x("div"),r=x("div"),n=x("p"),o=F(l),i=S(),s=x("p"),a=F("เขต "),h=F(f),_=S(),v=x("div");for(let d=0;d<w.length;d+=1)w[d].c();this.h()},l(d){e=k(d,"DIV",{class:!0,style:!0});var y=g(e);r=k(y,"DIV",{});var E=g(r);n=k(E,"P",{});var N=g(n);o=O(N,l),N.forEach(p),i=A(E),s=k(E,"P",{});var C=g(s);a=O(C,"เขต "),h=O(C,f),C.forEach(p),E.forEach(p),_=A(y),v=k(y,"DIV",{});var D=g(v);for(let U=0;U<w.length;U+=1)w[U].l(D);D.forEach(p),y.forEach(p),this.h()},h(){u(e,"class","fixed rounded bg-black py-2 px-4 text-white space-y-2 transform z-50"),nt(e,"left",t[0].x+"px"),nt(e,"top",t[0].y+"px")},m(d,y){J(d,e,y),c(e,r),c(r,n),c(n,o),c(r,i),c(r,s),c(s,a),c(s,h),c(e,_),c(e,v);for(let E=0;E<w.length;E+=1)w[E].m(v,null)},p(d,[y]){if(y&1&&l!==(l=d[0].province+"")&&ct(o,l),y&1&&f!==(f=d[0].districtNumber+"")&&ct(h,f),y&1){m=d[0].popularityRanking.slice(0,il);let E;for(E=0;E<m.length;E+=1){const N=nl(d,m,E);w[E]?w[E].p(N,y):(w[E]=ll(N),w[E].c(),w[E].m(v,null))}for(;E<w.length;E+=1)w[E].d(1);w.length=m.length}y&1&&nt(e,"left",d[0].x+"px"),y&1&&nt(e,"top",d[0].y+"px")},i:Pt,o:Pt,d(d){d&&p(e),Zt(w,d)}}}const il=3;function Nu(t,e,r){let{districtTooltip:n}=e;return t.$$set=l=>{"districtTooltip"in l&&r(0,n=l.districtTooltip)},[n]}class Iu extends Yt{constructor(e){super(),Kt(this,e,Nu,ku,Wt,{districtTooltip:0})}}function ol(t,e,r){const n=t.slice();return n[6]=e[r].x,n[7]=e[r].y,n}function sl(t){let e,r,n,l;return{c(){e=tt("rect"),this.h()},l(o){e=et(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"stroke-width":!0,class:!0}),g(e).forEach(p),this.h()},h(){u(e,"x",r=t[6]),u(e,"y",n=t[7]),u(e,"width",t[3]),u(e,"height",t[3]),u(e,"fill",l="url(#party-bg-"+t[1].Name+")"),u(e,"stroke-width","0.7"),u(e,"class","stroke-white")},m(o,i){J(o,e,i)},p(o,i){i&4&&r!==(r=o[6])&&u(e,"x",r),i&4&&n!==(n=o[7])&&u(e,"y",n),i&8&&u(e,"width",o[3]),i&8&&u(e,"height",o[3]),i&2&&l!==(l="url(#party-bg-"+o[1].Name+")")&&u(e,"fill",l)},d(o){o&&p(e)}}}function Cu(t){let e,r,n,l=t[2],o=[];for(let i=0;i<l.length;i+=1)o[i]=sl(ol(t,l,i));return{c(){e=tt("g");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=et(i,"g",{class:!0});var s=g(e);for(let a=0;a<o.length;a+=1)o[a].l(s);s.forEach(p),this.h()},h(){u(e,"class","cursor-default")},m(i,s){J(i,e,s);for(let a=0;a<o.length;a+=1)o[a].m(e,null);r||(n=[bt(e,"mouseenter",t[4]),bt(e,"mouseleave",t[5])],r=!0)},p(i,[s]){if(s&14){l=i[2];let a;for(a=0;a<l.length;a+=1){const f=ol(i,l,a);o[a]?o[a].p(f,s):(o[a]=sl(f),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}},i:Pt,o:Pt,d(i){i&&p(e),Zt(o,i),r=!1,he(n)}}}function Tu(t,e,r){let{party:n}=e,{cells:l}=e,{size:o}=e,{partylistTooltip:i}=e;const s=({target:f})=>{const{x:h,y:_}=f.getBoundingClientRect();r(0,i={party:n,count:l.length,position:{x:h,y:_}})},a=()=>r(0,i=null);return t.$$set=f=>{"party"in f&&r(1,n=f.party),"cells"in f&&r(2,l=f.cells),"size"in f&&r(3,o=f.size),"partylistTooltip"in f&&r(0,i=f.partylistTooltip)},[i,n,l,o,s,a]}class Pu extends Yt{constructor(e){super(),Kt(this,e,Tu,Cu,Wt,{party:1,cells:2,size:3,partylistTooltip:0})}}function Vu(t){let e,r,n,l,o,i,s,a,f,h=t[0].party.Name+"",_,v,m,w=t[0].count+"",d,y;return{c(){e=x("div"),r=x("p"),n=F("บัญชีรายชื่อ"),l=S(),o=x("div"),i=x("div"),s=S(),a=x("div"),f=x("p"),_=F(h),v=S(),m=x("p"),d=F(w),y=F(" ที่นั่ง"),this.h()},l(E){e=k(E,"DIV",{class:!0,style:!0});var N=g(e);r=k(N,"P",{});var C=g(r);n=O(C,"บัญชีรายชื่อ"),C.forEach(p),l=A(N),o=k(N,"DIV",{class:!0});var D=g(o);i=k(D,"DIV",{class:!0,style:!0}),g(i).forEach(p),s=A(D),a=k(D,"DIV",{});var U=g(a);f=k(U,"P",{class:!0});var M=g(f);_=O(M,h),M.forEach(p),v=A(U),m=k(U,"P",{class:!0});var W=g(m);d=O(W,w),y=O(W," ที่นั่ง"),W.forEach(p),U.forEach(p),D.forEach(p),N.forEach(p),this.h()},h(){u(i,"class","w-3 h-3 mt-1"),nt(i,"background","url('/party-icons/"+t[0].party.Name+".svg') "+t[0].party.Color+" center/65% no-repeat"),u(f,"class","font-bold"),u(m,"class","opacity-70"),u(o,"class","flex flex-row space-x-2"),u(e,"class","fixed rounded bg-black py-2 px-4 text-white space-y-2 transform -translate-x-full z-50"),nt(e,"left",t[0].position.x-8+"px"),nt(e,"top",t[0].position.y+"px")},m(E,N){J(E,e,N),c(e,r),c(r,n),c(e,l),c(e,o),c(o,i),c(o,s),c(o,a),c(a,f),c(f,_),c(a,v),c(a,m),c(m,d),c(m,y)},p(E,[N]){N&1&&nt(i,"background","url('/party-icons/"+E[0].party.Name+".svg') "+E[0].party.Color+" center/65% no-repeat"),N&1&&h!==(h=E[0].party.Name+"")&&ct(_,h),N&1&&w!==(w=E[0].count+"")&&ct(d,w),N&1&&nt(e,"left",E[0].position.x-8+"px"),N&1&&nt(e,"top",E[0].position.y+"px")},i:Pt,o:Pt,d(E){E&&p(e)}}}function Du(t,e,r){let{partylistTooltip:n}=e;return t.$$set=l=>{"partylistTooltip"in l&&r(0,n=l.partylistTooltip)},[n]}class Mu extends Yt{constructor(e){super(),Kt(this,e,Du,Vu,Wt,{partylistTooltip:0})}}function al(t,e,r){const n=t.slice();return n[24]=e[r],n}function ul(t,e,r){const n=t.slice();return n[27]=e[r],n}function cl(t,e,r){const n=t.slice();return n[30]=e[r].Name,n[31]=e[r].Color,n}function fl(t){let e,r,n,l,o,i;return{c(){e=tt("pattern"),r=tt("rect"),l=tt("image"),this.h()},l(s){e=et(s,"pattern",{id:!0,x:!0,y:!0,width:!0,height:!0});var a=g(e);r=et(a,"rect",{width:!0,height:!0,fill:!0}),g(r).forEach(p),l=et(a,"image",{href:!0,height:!0,width:!0,x:!0,y:!0}),g(l).forEach(p),a.forEach(p),this.h()},h(){u(r,"width","100%"),u(r,"height","100%"),u(r,"fill",n=t[31]),u(l,"href",o=Xt+"/party-icons/"+t[30]+".svg"),u(l,"height",Tt*.6),u(l,"width",Tt*.6),u(l,"x",Tt*.2),u(l,"y",Tt*.2),u(e,"id",i="party-bg-"+t[30]),u(e,"x","0"),u(e,"y","0"),u(e,"width",Tt),u(e,"height",Tt)},m(s,a){J(s,e,a),c(e,r),c(e,l)},p(s,a){a[0]&1024&&n!==(n=s[31])&&u(r,"fill",n),a[0]&1024&&o!==(o=Xt+"/party-icons/"+s[30]+".svg")&&u(l,"href",o),a[0]&1024&&i!==(i="party-bg-"+s[30])&&u(e,"id",i)},d(s){s&&p(e)}}}function hl(t){let e,r,n;const l=[t[27],{size:Tt}];function o(s){t[18](s)}let i={};for(let s=0;s<l.length;s+=1)i=kl(i,l[s]);return t[1]!==void 0&&(i.districtTooltip=t[1]),e=new xu({props:i}),Nl.push(()=>Il(e,"districtTooltip",o)),{c(){Bt(e.$$.fragment)},l(s){Ht(e.$$.fragment,s)},m(s,a){Ft(e,s,a),n=!0},p(s,a){const f=a[0]&512?Cl(l,[a[0]&512&&Tl(s[27]),a&0&&{size:Tt}]):{};!r&&a[0]&2&&(r=!0,f.districtTooltip=s[1],Pl(()=>r=!1)),e.$set(f)},i(s){n||(ht(e.$$.fragment,s),n=!0)},o(s){_t(e.$$.fragment,s),n=!1},d(s){Ot(e,s)}}}function dl(t){let e,r,n;const l=[t[24],{size:Tt}];function o(s){t[19](s)}let i={};for(let s=0;s<l.length;s+=1)i=kl(i,l[s]);return t[0]!==void 0&&(i.partylistTooltip=t[0]),e=new Pu({props:i}),Nl.push(()=>Il(e,"partylistTooltip",o)),{c(){Bt(e.$$.fragment)},l(s){Ht(e.$$.fragment,s)},m(s,a){Ft(e,s,a),n=!0},p(s,a){const f=a[0]&256?Cl(l,[a[0]&256&&Tl(s[24]),a&0&&{size:Tt}]):{};!r&&a[0]&1&&(r=!0,f.partylistTooltip=s[0],Pl(()=>r=!1)),e.$set(f)},i(s){n||(ht(e.$$.fragment,s),n=!0)},o(s){_t(e.$$.fragment,s),n=!1},d(s){Ot(e,s)}}}function pl(t){let e,r,n,l;return{c(){e=tt("text"),r=F("ส.ส. บัญชีรายชื่อ"),this.h()},l(o){e=et(o,"text",{x:!0,y:!0,class:!0});var i=g(e);r=O(i,"ส.ส. บัญชีรายชื่อ"),i.forEach(p),this.h()},h(){u(e,"x",n=t[8][0].cells[0].x-18),u(e,"y",l=t[8][0].cells[0].y-10),u(e,"class","typo-b7")},m(o,i){J(o,e,i),c(e,r)},p(o,i){i[0]&256&&n!==(n=o[8][0].cells[0].x-18)&&u(e,"x",n),i[0]&256&&l!==(l=o[8][0].cells[0].y-10)&&u(e,"y",l)},d(o){o&&p(e)}}}function _l(t){let e,r;return e=new Mu({props:{partylistTooltip:t[0]}}),{c(){Bt(e.$$.fragment)},l(n){Ht(e.$$.fragment,n)},m(n,l){Ft(e,n,l),r=!0},p(n,l){const o={};l[0]&1&&(o.partylistTooltip=n[0]),e.$set(o)},i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){_t(e.$$.fragment,n),r=!1},d(n){Ot(e,n)}}}function vl(t){let e,r;return e=new Iu({props:{districtTooltip:t[1]}}),{c(){Bt(e.$$.fragment)},l(n){Ht(e.$$.fragment,n)},m(n,l){Ft(e,n,l),r=!0},p(n,l){const o={};l[0]&2&&(o.districtTooltip=n[1]),e.$set(o)},i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){_t(e.$$.fragment,n),r=!1},d(n){Ot(e,n)}}}function ml(t){let e,r,n,l,o;return{c(){e=x("button"),r=tt("svg"),n=tt("path"),this.h()},l(i){e=k(i,"BUTTON",{class:!0});var s=g(e);r=et(s,"svg",{viewBox:!0,class:!0});var a=g(r);n=et(a,"path",{fill:!0,d:!0}),g(n).forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){u(n,"fill","currentColor"),u(n,"d","M22.448 21A10.855 10.855 0 0 0 25 14A10.99 10.99 0 0 0 6 6.466V2H4v8h8V8H7.332a8.977 8.977 0 1 1-2.1 8h-2.04A11.012 11.012 0 0 0 14 25a10.855 10.855 0 0 0 7-2.552L28.586 30L30 28.586Z"),u(r,"viewBox","0 0 32 32"),u(r,"class","svelte-kwb01f"),u(e,"class","svelte-kwb01f")},m(i,s){J(i,e,s),c(e,r),c(r,n),l||(o=bt(e,"click",function(){Ue(t[3])&&t[3].apply(this,arguments)}),l=!0)},p(i,s){t=i},d(i){i&&p(e),l=!1,o()}}}function Lu(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,E,N,C,D,U,M,W,X,j,K,z=t[10].list,Z=[];for(let R=0;R<z.length;R+=1)Z[R]=fl(cl(t,z,R));let rt=t[9],b=[];for(let R=0;R<rt.length;R+=1)b[R]=hl(ul(t,rt,R));const L=R=>_t(b[R],1,1,()=>{b[R]=null});let I=t[8],T=[];for(let R=0;R<I.length;R+=1)T[R]=dl(al(t,I,R));const G=R=>_t(T[R],1,1,()=>{T[R]=null});let q=t[8].length>0&&pl(t),H=t[0]&&_l(t),Q=t[1]&&vl(t),B=t[2]&&ml(t);return{c(){e=x("div"),r=tt("svg"),n=tt("defs");for(let R=0;R<Z.length;R+=1)Z[R].c();l=tt("g");for(let R=0;R<b.length;R+=1)b[R].c();o=Te();for(let R=0;R<T.length;R+=1)T[R].c();i=tt("text"),s=F("ส.ส. เขต"),q&&q.c(),h=S(),H&&H.c(),_=S(),Q&&Q.c(),v=S(),m=x("div"),w=x("button"),d=tt("svg"),y=tt("path"),E=tt("path"),N=S(),C=x("button"),D=tt("svg"),U=tt("path"),M=tt("path"),W=S(),B&&B.c(),this.h()},l(R){e=k(R,"DIV",{class:!0});var P=g(e);r=et(P,"svg",{viewBox:!0,class:!0,id:!0});var V=g(r);n=et(V,"defs",{});var Y=g(n);for(let pt=0;pt<Z.length;pt+=1)Z[pt].l(Y);Y.forEach(p),l=et(V,"g",{id:!0});var at=g(l);for(let pt=0;pt<b.length;pt+=1)b[pt].l(at);o=Te();for(let pt=0;pt<T.length;pt+=1)T[pt].l(at);i=et(at,"text",{x:!0,y:!0,class:!0});var ot=g(i);s=O(ot,"ส.ส. เขต"),ot.forEach(p),q&&q.l(at),at.forEach(p),V.forEach(p),h=A(P),H&&H.l(P),_=A(P),Q&&Q.l(P),v=A(P),m=k(P,"DIV",{class:!0});var dt=g(m);w=k(dt,"BUTTON",{class:!0});var Nt=g(w);d=et(Nt,"svg",{viewBox:!0,class:!0});var vt=g(d);y=et(vt,"path",{fill:!0,d:!0}),g(y).forEach(p),E=et(vt,"path",{fill:!0,d:!0}),g(E).forEach(p),vt.forEach(p),Nt.forEach(p),N=A(dt),C=k(dt,"BUTTON",{class:!0});var kt=g(C);D=et(kt,"svg",{xmlns:!0,viewBox:!0,class:!0});var mt=g(D);U=et(mt,"path",{fill:!0,d:!0}),g(U).forEach(p),M=et(mt,"path",{fill:!0,d:!0}),g(M).forEach(p),mt.forEach(p),kt.forEach(p),W=A(dt),B&&B.l(dt),dt.forEach(p),P.forEach(p),this.h()},h(){u(i,"x","10"),u(i,"y","18"),u(i,"class","typo-b7"),u(l,"id","map-container"),u(r,"viewBox",a="0 0 "+t[7]+" "+t[6]),u(r,"class",f="w-full relative h-full "+(t[2]?"cursor-move":"")),u(r,"id","waffle-map-svg"),u(y,"fill","currentColor"),u(y,"d","M18 12h-4V8h-2v4H8v2h4v4h2v-4h4v-2z"),u(E,"fill","currentColor"),u(E,"d","M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"),u(d,"viewBox","0 0 32 32"),u(d,"class","svelte-kwb01f"),u(w,"class","svelte-kwb01f"),u(U,"fill","currentColor"),u(U,"d","M8 12h10v2H8z"),u(M,"fill","currentColor"),u(M,"d","M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"),u(D,"xmlns","http://www.w3.org/2000/svg"),u(D,"viewBox","0 0 32 32"),u(D,"class","svelte-kwb01f"),u(C,"class","svelte-kwb01f"),u(m,"class","absolute right-0 top-6 flex flex-col space-y-2"),u(e,"class","absolute inset-0 w-full flex-1")},m(R,P){J(R,e,P),c(e,r),c(r,n);for(let V=0;V<Z.length;V+=1)Z[V].m(n,null);c(r,l);for(let V=0;V<b.length;V+=1)b[V].m(l,null);c(l,o);for(let V=0;V<T.length;V+=1)T[V].m(l,null);c(l,i),c(i,s),q&&q.m(l,null),c(e,h),H&&H.m(e,null),c(e,_),Q&&Q.m(e,null),c(e,v),c(e,m),c(m,w),c(w,d),c(d,y),c(d,E),c(m,N),c(m,C),c(C,D),c(D,U),c(D,M),c(m,W),B&&B.m(m,null),X=!0,j||(K=[bt(w,"click",function(){Ue(t[4])&&t[4].apply(this,arguments)}),bt(C,"click",function(){Ue(t[5])&&t[5].apply(this,arguments)})],j=!0)},p(R,P){if(t=R,P[0]&1024){z=t[10].list;let V;for(V=0;V<z.length;V+=1){const Y=cl(t,z,V);Z[V]?Z[V].p(Y,P):(Z[V]=fl(Y),Z[V].c(),Z[V].m(n,null))}for(;V<Z.length;V+=1)Z[V].d(1);Z.length=z.length}if(P[0]&514){rt=t[9];let V;for(V=0;V<rt.length;V+=1){const Y=ul(t,rt,V);b[V]?(b[V].p(Y,P),ht(b[V],1)):(b[V]=hl(Y),b[V].c(),ht(b[V],1),b[V].m(l,o))}for(Ne(),V=rt.length;V<b.length;V+=1)L(V);Ie()}if(P[0]&257){I=t[8];let V;for(V=0;V<I.length;V+=1){const Y=al(t,I,V);T[V]?(T[V].p(Y,P),ht(T[V],1)):(T[V]=dl(Y),T[V].c(),ht(T[V],1),T[V].m(l,i))}for(Ne(),V=I.length;V<T.length;V+=1)G(V);Ie()}t[8].length>0?q?q.p(t,P):(q=pl(t),q.c(),q.m(l,null)):q&&(q.d(1),q=null),(!X||P[0]&192&&a!==(a="0 0 "+t[7]+" "+t[6]))&&u(r,"viewBox",a),(!X||P[0]&4&&f!==(f="w-full relative h-full "+(t[2]?"cursor-move":"")))&&u(r,"class",f),t[0]?H?(H.p(t,P),P[0]&1&&ht(H,1)):(H=_l(t),H.c(),ht(H,1),H.m(e,_)):H&&(Ne(),_t(H,1,1,()=>{H=null}),Ie()),t[1]?Q?(Q.p(t,P),P[0]&2&&ht(Q,1)):(Q=vl(t),Q.c(),ht(Q,1),Q.m(e,v)):Q&&(Ne(),_t(Q,1,1,()=>{Q=null}),Ie()),t[2]?B?B.p(t,P):(B=ml(t),B.c(),B.m(m,null)):B&&(B.d(1),B=null)},i(R){if(!X){for(let P=0;P<rt.length;P+=1)ht(b[P]);for(let P=0;P<I.length;P+=1)ht(T[P]);ht(H),ht(Q),X=!0}},o(R){b=b.filter(Boolean);for(let P=0;P<b.length;P+=1)_t(b[P]);T=T.filter(Boolean);for(let P=0;P<T.length;P+=1)_t(T[P]);_t(H),_t(Q),X=!1},d(R){R&&p(e),Zt(Z,R),Zt(b,R),Zt(T,R),q&&q.d(),H&&H.d(),Q&&Q.d(),B&&B.d(),j=!1,he(K)}}}const ke=30,Tt=10,or=5;function Ru(t,e,r){let n,l,o,i,s,a,f,h,_,v,m,w;ce(t,Ll,z=>r(16,v=z)),ce(t,De,z=>r(17,m=z)),ce(t,Gt,z=>r(10,w=z));const d=Tt*7,y=yu.split(`\r
`).map(z=>z.split(",")),E=Tt*or;let N=null,C=null,D={zoom:wu,zoomIdentity:tn,select:ue,selectAll:Cs,pointer:se},U=!1,M,W,X;xl(()=>{const z=D.select("svg#waffle-map-svg"),Z=D.select("#map-container"),rt=D.zoom().translateExtent([[0,0],[h,_]]).scaleExtent([1,5]).on("zoom",b);z.call(rt);function b({transform:L}){Z.attr("transform",L),r(2,U=!(L.x===0&&L.y===0&&L.k===1))}r(3,M=()=>{z.transition().duration(500).call(rt.transform,D.zoomIdentity),r(2,U=!1)}),r(4,W=()=>z.transition().duration(500).call(rt.scaleBy,1.4)),r(5,X=()=>z.transition().duration(500).call(rt.scaleBy,.7))});function j(z){C=z,r(1,C)}function K(z){N=z,r(0,N)}return t.$$.update=()=>{t.$$.dirty[0]&131072&&r(9,n=(()=>{const z=new Map;return y.flatMap((Z,rt)=>Z.reduce((b,L,I)=>{var G;if(L.length===0)return b;const T=(z.get(L)||0)+1;return(G=m[L])!=null&&G[T]?(z.set(L,T),[...b,{province:L,districtNumber:T,position:{x:I*Tt+ke,y:rt*Tt+ke}}]):b},[]))})()),t.$$.dirty[0]&65536&&r(12,i=v.reduce((z,{fromPartylist:Z})=>z+Z,0)),t.$$.dirty[0]&4096&&r(15,s=Tt*Math.floor(i/or)),t.$$.dirty[0]&34816&&r(14,a=(o-s)/2+ke),t.$$.dirty[0]&90112&&r(8,[f]=v.filter(({fromPartylist:z})=>z>0).sort((z,Z)=>Z.fromPartylist-z.fromPartylist).reduce(([z,Z],{party:rt,fromPartylist:b})=>[[...z,{party:rt,cells:new Array(b).fill(null).map((L,I)=>({x:(Z+I)%or*Tt+l+d+ke,y:Math.floor((Z+I)/or)*Tt+a}))}],Z+b],[[],0]),f),t.$$.dirty[0]&12288&&r(7,h=l+(i>0?E+d:0)+ke*2),t.$$.dirty[0]&2048&&r(6,_=o+ke*2)},r(13,l=Tt*y[0].length),r(11,o=Tt*y.length),[N,C,U,M,W,X,_,h,f,n,w,o,i,l,a,s,v,m,j,K]}class Su extends Yt{constructor(e){super(),Kt(this,e,Ru,Lu,Wt,{},null,[-1,-1])}}function gl(t,e,r){const n=t.slice();return n[12]=e[r].party,n[13]=e[r].total,n}function wl(t,e,r){const n=t.slice();return n[12]=e[r].party,n[13]=e[r].total,n}function Au(t){let e,r,n,l,o;return{c(){e=x("div"),r=S(),n=x("div"),l=S(),o=x("div"),this.h()},l(i){e=k(i,"DIV",{class:!0}),g(e).forEach(p),r=A(i),n=k(i,"DIV",{class:!0}),g(n).forEach(p),l=A(i),o=k(i,"DIV",{class:!0}),g(o).forEach(p),this.h()},h(){u(e,"class","w-1 h-1 bg-white rounded-full"),u(n,"class","w-1 h-1 bg-white rounded-full"),u(o,"class","w-1 h-1 bg-white rounded-full")},m(i,s){J(i,e,s),J(i,r,s),J(i,n,s),J(i,l,s),J(i,o,s)},p:Pt,d(i){i&&p(e),i&&p(r),i&&p(n),i&&p(l),i&&p(o)}}}function zu(t){let e,r,n;return{c(){e=x("img"),this.h()},l(l){e=k(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){u(e,"class","w-16 h-16 rounded-full border-slate-200 border"),Ze(e.src,r=t[12].Images[0].url)||u(e,"src",r),u(e,"alt",n=t[12].Images[0].title)},m(l,o){J(l,e,o)},p(l,o){o&8&&!Ze(e.src,r=l[12].Images[0].url)&&u(e,"src",r),o&8&&n!==(n=l[12].Images[0].title)&&u(e,"alt",n)},d(l){l&&p(e)}}}function yl(t){let e,r,n,l,o=t[12].Name+"",i,s,a,f=t[13]+"",h,_;function v(d,y){return d[12].Images?zu:Au}let m=v(t),w=m(t);return{c(){e=x("div"),r=x("div"),w.c(),n=S(),l=x("h6"),i=F(o),s=S(),a=x("h6"),h=F(f),_=S(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0,style:!0});var E=g(r);w.l(E),E.forEach(p),n=A(y),l=k(y,"H6",{class:!0});var N=g(l);i=O(N,o),N.forEach(p),s=A(y),a=k(y,"H6",{class:!0});var C=g(a);h=O(C,f),C.forEach(p),_=A(y),y.forEach(p),this.h()},h(){u(r,"class","w-16 h-16 flex items-center justify-center gap-x-1 rounded-full"),nt(r,"background-color",t[12].Color),u(l,"class","typo-b6 mt-1 text-center whitespace-nowrap"),u(a,"class","typo-b6"),u(e,"class","flex flex-col items-center mb-2 w-16 overflow-visible")},m(d,y){J(d,e,y),c(e,r),w.m(r,null),c(e,n),c(e,l),c(l,i),c(e,s),c(e,a),c(a,h),c(e,_)},p(d,y){m===(m=v(d))&&w?w.p(d,y):(w.d(1),w=m(d),w&&(w.c(),w.m(r,null))),y&8&&nt(r,"background-color",d[12].Color),y&8&&o!==(o=d[12].Name+"")&&ct(i,o),y&8&&f!==(f=d[13]+"")&&ct(h,f)},d(d){d&&p(e),w.d()}}}function Bu(t){let e,r,n,l,o;return{c(){e=x("div"),r=S(),n=x("div"),l=S(),o=x("div"),this.h()},l(i){e=k(i,"DIV",{class:!0}),g(e).forEach(p),r=A(i),n=k(i,"DIV",{class:!0}),g(n).forEach(p),l=A(i),o=k(i,"DIV",{class:!0}),g(o).forEach(p),this.h()},h(){u(e,"class","w-1 h-1 bg-white rounded-full"),u(n,"class","w-1 h-1 bg-white rounded-full"),u(o,"class","w-1 h-1 bg-white rounded-full")},m(i,s){J(i,e,s),J(i,r,s),J(i,n,s),J(i,l,s),J(i,o,s)},p:Pt,d(i){i&&p(e),i&&p(r),i&&p(n),i&&p(l),i&&p(o)}}}function Hu(t){let e,r,n;return{c(){e=x("img"),this.h()},l(l){e=k(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){u(e,"class","w-16 h-16 rounded-full border-slate-200 border"),Ze(e.src,r=t[12].Images[0].url)||u(e,"src",r),u(e,"alt",n=t[12].Images[0].title)},m(l,o){J(l,e,o)},p(l,o){o&4&&!Ze(e.src,r=l[12].Images[0].url)&&u(e,"src",r),o&4&&n!==(n=l[12].Images[0].title)&&u(e,"alt",n)},d(l){l&&p(e)}}}function bl(t){let e,r,n,l,o=t[12].Name+"",i,s,a,f=t[13]+"",h,_;function v(d,y){return d[12].Images?Hu:Bu}let m=v(t),w=m(t);return{c(){e=x("div"),r=x("div"),w.c(),n=S(),l=x("h6"),i=F(o),s=S(),a=x("h6"),h=F(f),_=S(),this.h()},l(d){e=k(d,"DIV",{class:!0});var y=g(e);r=k(y,"DIV",{class:!0,style:!0});var E=g(r);w.l(E),E.forEach(p),n=A(y),l=k(y,"H6",{class:!0});var N=g(l);i=O(N,o),N.forEach(p),s=A(y),a=k(y,"H6",{class:!0});var C=g(a);h=O(C,f),C.forEach(p),_=A(y),y.forEach(p),this.h()},h(){u(r,"class","w-16 h-16 flex items-center justify-center gap-x-1 rounded-full"),nt(r,"background-color",t[12].Color),u(l,"class","typo-b6 mt-1 text-center whitespace-nowrap"),u(a,"class","typo-b6"),u(e,"class","flex flex-col items-center mb-2 w-16 overflow-visible")},m(d,y){J(d,e,y),c(e,r),w.m(r,null),c(e,n),c(e,l),c(l,i),c(e,s),c(e,a),c(a,h),c(e,_)},p(d,y){m===(m=v(d))&&w?w.p(d,y):(w.d(1),w=m(d),w&&(w.c(),w.m(r,null))),y&4&&nt(r,"background-color",d[12].Color),y&4&&o!==(o=d[12].Name+"")&&ct(i,o),y&4&&f!==(f=d[13]+"")&&ct(h,f)},d(d){d&&p(e),w.d()}}}function El(t){let e,r,n,l,o,i,s,a,f,h=yr-t[0]+"",_,v;return{c(){e=x("div"),r=tt("svg"),n=tt("rect"),l=tt("path"),o=S(),i=x("h5"),s=F("ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),a=S(),f=x("h5"),_=F(h),v=F("+"),this.h()},l(m){e=k(m,"DIV",{class:!0});var w=g(e);r=et(w,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var d=g(r);n=et(d,"rect",{width:!0,height:!0,rx:!0,fill:!0}),g(n).forEach(p),l=et(d,"path",{d:!0,fill:!0}),g(l).forEach(p),d.forEach(p),o=A(w),i=k(w,"H5",{class:!0});var y=g(i);s=O(y,"ต้องการเสียงสนับสนุนจาก ส.ว. เพื่อเลือกนายกฯ อีก"),y.forEach(p),a=A(w),f=k(w,"H5",{class:!0});var E=g(f);_=O(E,h),v=O(E,"+"),E.forEach(p),w.forEach(p),this.h()},h(){u(n,"width","24"),u(n,"height","24"),u(n,"rx","12"),u(n,"fill","#D09D03"),u(l,"d","M11.5778 13.42L10.9198 9.444V6.728H13.1038V9.444L12.4598 13.42H11.5778ZM11.9978 16.668C11.5498 16.668 11.2278 16.5653 11.0318 16.36C10.8451 16.1547 10.7518 15.9027 10.7518 15.604V15.268C10.7518 14.9693 10.8451 14.7173 11.0318 14.512C11.2278 14.3067 11.5498 14.204 11.9978 14.204C12.4458 14.204 12.7631 14.3067 12.9498 14.512C13.1458 14.7173 13.2438 14.9693 13.2438 15.268V15.604C13.2438 15.9027 13.1458 16.1547 12.9498 16.36C12.7631 16.5653 12.4458 16.668 11.9978 16.668Z"),u(l,"fill","#231F20"),u(r,"width","24"),u(r,"height","24"),u(r,"viewBox","0 0 24 24"),u(r,"fill","none"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(r,"class","mr-[10px]"),u(i,"class","typo-b5 flex-1"),u(f,"class","typo-b4 font-bold ml-2"),u(e,"class","py-3 px-5 flex items-center mt-5 mb-10 bg-gray-4")},m(m,w){J(m,e,w),c(e,r),c(r,n),c(r,l),c(e,o),c(e,i),c(i,s),c(e,a),c(e,f),c(f,_),c(f,v)},p(m,w){w&1&&h!==(h=yr-m[0]+"")&&ct(_,h)},d(m){m&&p(e)}}}function Fu(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,E,N,C,D,U,M,W,X,j,K,z,Z,rt,b,L,I,T,G,q=t[4]-t[0]+"",H,Q,B,R,P,V,Y,at,ot,dt,Nt,vt,kt,mt,pt,zt,de,be,wt,It,Jt,gt,Mt,yt,$,ft,lt,Vt,Ee,Re,re=t[3],Et=[];for(let st=0;st<re.length;st+=1)Et[st]=yl(wl(t,re,st));let qt=t[2],xt=[];for(let st=0;st<qt.length;st+=1)xt[st]=bl(gl(t,qt,st));let Ct=t[0]<=yr&&El(t);return{c(){e=x("div"),r=x("div"),n=x("button"),l=tt("svg"),o=tt("path"),i=F(`
			ย้อนกลับ`),s=S(),a=x("a"),f=tt("svg"),h=tt("path"),_=F(`
			หน้าแรก`),v=S(),m=x("h4"),w=F("โฉมหน้า #สภา66 "),d=x("br"),y=F("จากการวิเคราะห์ของคุณ"),E=S(),N=x("div"),C=x("h6"),D=F("ฝ่ายรัฐบาล"),U=S(),M=x("h6"),W=F("("),X=F(t[0]),j=F(")"),K=S(),z=x("div");for(let st=0;st<Et.length;st+=1)Et[st].c();Z=S(),rt=x("div"),b=x("h6"),L=F("ฝ่ายค้าน"),I=S(),T=x("h6"),G=F("("),H=F(q),Q=F(")"),B=S(),R=x("div");for(let st=0;st<xt.length;st+=1)xt[st].c();P=S(),Ct&&Ct.c(),V=S(),Y=x("h4"),at=F("ไม่ว่าคุณจะชอบผลวิเคราะห์ที่ออกมา หรือไม่ ก็"),ot=x("span"),dt=F("ต้องไม่ลืมออกไปเลือกตั้ง"),Nt=S(),vt=x("br"),kt=F(`
		กำหนดชะตาประเทศไทย 14 พ.ค. 66 นี้`),mt=S(),pt=x("div"),zt=x("h4"),de=F("ร่วมพัฒนาโดย"),be=S(),wt=x("img"),Jt=S(),gt=x("div"),Mt=x("p"),yt=x("b"),$=F("Disclaimer"),ft=F(`: ผลการวิเคราะห์นี้เป็นเพียงการทดลองประมาณการแบบคร่าวๆ
			บนฐานข้อมูลผลการเลือกตั้งเดิมบนกติกาเลือกตั้งใหม่และข้อสันนิษฐานที่กำหนดไว้เท่านั้น
			อาจมีปัจจัยอื่นที่ส่งผลต่อผลลัพธ์ในการเลือกตั้ง
			และไม่ได้มีเจตนาในการชี้นำผลการเลือกตั้งแต่อย่างใด`),this.h()},l(st){e=k(st,"DIV",{class:!0});var ut=g(e);r=k(ut,"DIV",{class:!0});var it=g(r);n=k(it,"BUTTON",{class:!0});var Lt=g(n);l=et(Lt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var pe=g(l);o=et(pe,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(o).forEach(p),pe.forEach(p),i=O(Lt,`
			ย้อนกลับ`),Lt.forEach(p),s=A(it),a=k(it,"A",{href:!0,class:!0});var jt=g(a);f=et(jt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var Se=g(f);h=et(Se,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(h).forEach(p),Se.forEach(p),_=O(jt,`
			หน้าแรก`),jt.forEach(p),it.forEach(p),v=A(ut),m=k(ut,"H4",{class:!0});var _e=g(m);w=O(_e,"โฉมหน้า #สภา66 "),d=k(_e,"BR",{class:!0}),y=O(_e,"จากการวิเคราะห์ของคุณ"),_e.forEach(p),E=A(ut),N=k(ut,"DIV",{class:!0});var ve=g(N);C=k(ve,"H6",{class:!0});var Ae=g(C);D=O(Ae,"ฝ่ายรัฐบาล"),Ae.forEach(p),U=A(ve),M=k(ve,"H6",{class:!0});var oe=g(M);W=O(oe,"("),X=O(oe,t[0]),j=O(oe,")"),oe.forEach(p),ve.forEach(p),K=A(ut),z=k(ut,"DIV",{class:!0});var $t=g(z);for(let me=0;me<Et.length;me+=1)Et[me].l($t);$t.forEach(p),Z=A(ut),rt=k(ut,"DIV",{class:!0});var Je=g(rt);b=k(Je,"H6",{class:!0});var en=g(b);L=O(en,"ฝ่ายค้าน"),en.forEach(p),I=A(Je),T=k(Je,"H6",{class:!0});var je=g(T);G=O(je,"("),H=O(je,q),Q=O(je,")"),je.forEach(p),Je.forEach(p),B=A(ut),R=k(ut,"DIV",{class:!0});var rn=g(R);for(let me=0;me<xt.length;me+=1)xt[me].l(rn);rn.forEach(p),P=A(ut),Ct&&Ct.l(ut),V=A(ut),Y=k(ut,"H4",{class:!0});var xe=g(Y);at=O(xe,"ไม่ว่าคุณจะชอบผลวิเคราะห์ที่ออกมา หรือไม่ ก็"),ot=k(xe,"SPAN",{class:!0});var nn=g(ot);dt=O(nn,"ต้องไม่ลืมออกไปเลือกตั้ง"),nn.forEach(p),Nt=A(xe),vt=k(xe,"BR",{}),kt=O(xe,`
		กำหนดชะตาประเทศไทย 14 พ.ค. 66 นี้`),xe.forEach(p),mt=A(ut),pt=k(ut,"DIV",{class:!0});var $e=g(pt);zt=k($e,"H4",{class:!0});var ln=g(zt);de=O(ln,"ร่วมพัฒนาโดย"),ln.forEach(p),be=A($e),wt=k($e,"IMG",{src:!0,alt:!0}),$e.forEach(p),Jt=A(ut),gt=k(ut,"DIV",{class:!0});var on=g(gt);Mt=k(on,"P",{class:!0});var kr=g(Mt);yt=k(kr,"B",{});var sn=g(yt);$=O(sn,"Disclaimer"),sn.forEach(p),ft=O(kr,`: ผลการวิเคราะห์นี้เป็นเพียงการทดลองประมาณการแบบคร่าวๆ
			บนฐานข้อมูลผลการเลือกตั้งเดิมบนกติกาเลือกตั้งใหม่และข้อสันนิษฐานที่กำหนดไว้เท่านั้น
			อาจมีปัจจัยอื่นที่ส่งผลต่อผลลัพธ์ในการเลือกตั้ง
			และไม่ได้มีเจตนาในการชี้นำผลการเลือกตั้งแต่อย่างใด`),kr.forEach(p),on.forEach(p),ut.forEach(p),this.h()},h(){u(o,"fill-rule","evenodd"),u(o,"clip-rule","evenodd"),u(o,"d","M8.16098 12.98L15.362 5.77999L16.3701 6.78799L10.1773 12.98L16.3701 19.172L15.362 20.18L8.16098 12.98Z"),u(o,"fill","#0000FF"),u(l,"width","25"),u(l,"height","25"),u(l,"viewBox","0 0 25 25"),u(l,"fill","none"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","flex items-center typo-b5 text-byx-blue mb-5 cursor-pointer mr-5"),u(h,"fill-rule","evenodd"),u(h,"clip-rule","evenodd"),u(h,"d","M10.3847 1.88124C10.1575 1.70174 9.83682 1.70174 9.60967 1.88124L0.628418 8.88749L1.40342 9.87499L2.50342 9.01249V16.75C2.50342 17.4403 3.06306 18 3.75342 18H16.2534C16.9438 18 17.5034 17.4403 17.5034 16.75V9.01874L18.6034 9.87499L19.3784 8.89374L10.3847 1.88124ZM11.2534 16.75H8.75342V11.75H11.2534V16.75ZM12.5034 16.75V11.75C12.5034 11.0596 11.9438 10.5 11.2534 10.5H8.75342C8.06306 10.5 7.50342 11.0596 7.50342 11.75V16.75H3.75342V8.03749L10.0034 3.16874L16.2534 8.04374V16.75H12.5034Z"),u(h,"fill","#0000FF"),u(f,"width","21"),u(f,"height","21"),u(f,"viewBox","0 0 21 21"),u(f,"fill","none"),u(f,"xmlns","http://www.w3.org/2000/svg"),u(f,"class","mr-1"),u(a,"href",Xt+"/"),u(a,"class","flex items-center typo-b5 text-byx-blue mb-5 cursor-pointer"),u(r,"class","flex w-full"),u(d,"class","hidden md:inline"),u(m,"class","typo-h4 font-bold beyonx-text-gradient text-center"),u(C,"class","typo-h6 font-bold"),u(M,"class","typo-h6"),u(N,"class","flex w-full justify-center mt-5 mb-3"),u(z,"class","flex justify-center flex-wrap gap-x-10"),u(b,"class","typo-h7 font-bold"),u(T,"class","typo-h7"),u(rt,"class","flex w-full justify-center mt-3 mb-3"),u(R,"class","flex justify-center flex-wrap gap-x-10"),u(ot,"class","beyonx-text-gradient font-bold"),u(Y,"class","typo-b4 text-center"),u(zt,"class","typo-b4 mr-4"),Ze(wt.src,It=ci)||u(wt,"src",It),u(wt,"alt","beyondx"),u(pt,"class","flex items-center my-10"),u(Mt,"class","typo-b6 py-2 px-4"),u(gt,"class","w-full bg-gray-4"),u(e,"class","flex flex-col items-center w-full max-w-[698px] px-6 py-10")},m(st,ut){J(st,e,ut),c(e,r),c(r,n),c(n,l),c(l,o),c(n,i),c(r,s),c(r,a),c(a,f),c(f,h),c(a,_),c(e,v),c(e,m),c(m,w),c(m,d),c(m,y),c(e,E),c(e,N),c(N,C),c(C,D),c(N,U),c(N,M),c(M,W),c(M,X),c(M,j),c(e,K),c(e,z);for(let it=0;it<Et.length;it+=1)Et[it].m(z,null);c(e,Z),c(e,rt),c(rt,b),c(b,L),c(rt,I),c(rt,T),c(T,G),c(T,H),c(T,Q),c(e,B),c(e,R);for(let it=0;it<xt.length;it+=1)xt[it].m(R,null);c(e,P),Ct&&Ct.m(e,null),c(e,V),c(e,Y),c(Y,at),c(Y,ot),c(ot,dt),c(Y,Nt),c(Y,vt),c(Y,kt),c(e,mt),c(e,pt),c(pt,zt),c(zt,de),c(pt,be),c(pt,wt),c(e,Jt),c(e,gt),c(gt,Mt),c(Mt,yt),c(yt,$),c(Mt,ft),Vt=!0,Ee||(Re=[bt(n,"click",function(){Ue(t[1])&&t[1].apply(this,arguments)}),bt(a,"click",t[5])],Ee=!0)},p(st,[ut]){if(t=st,(!Vt||ut&1)&&ct(X,t[0]),ut&8){re=t[3];let it;for(it=0;it<re.length;it+=1){const Lt=wl(t,re,it);Et[it]?Et[it].p(Lt,ut):(Et[it]=yl(Lt),Et[it].c(),Et[it].m(z,null))}for(;it<Et.length;it+=1)Et[it].d(1);Et.length=re.length}if((!Vt||ut&17)&&q!==(q=t[4]-t[0]+"")&&ct(H,q),ut&4){qt=t[2];let it;for(it=0;it<qt.length;it+=1){const Lt=gl(t,qt,it);xt[it]?xt[it].p(Lt,ut):(xt[it]=bl(Lt),xt[it].c(),xt[it].m(R,null))}for(;it<xt.length;it+=1)xt[it].d(1);xt.length=qt.length}t[0]<=yr?Ct?Ct.p(t,ut):(Ct=El(t),Ct.c(),Ct.m(e,V)):Ct&&(Ct.d(1),Ct=null)},i(st){Vt||(Ur(()=>{lt||(lt=Pe(e,Ve,{x:400},!0)),lt.run(1)}),Vt=!0)},o(st){lt||(lt=Pe(e,Ve,{x:400},!1)),lt.run(0),Vt=!1},d(st){st&&p(e),Zt(Et,st),Zt(xt,st),Ct&&Ct.d(),st&&lt&&lt.end(),Ee=!1,he(Re)}}}const yr=376,sr=5;function Ou(t,e,r){let n,l,o,i,s,{representativeRecord:a}=e,{governmentParties:f}=e,{oppositionParties:h}=e,{governmentPoints:_}=e,{toggleIsShare:v}=e;const m={Name:"อื่นๆ",Color:"#CCCCCC"},w=()=>{Xr.reset(),qe.updateContent(Vl.Analytics),qe.reset()};return t.$$set=d=>{"representativeRecord"in d&&r(6,a=d.representativeRecord),"governmentParties"in d&&r(7,f=d.governmentParties),"oppositionParties"in d&&r(8,h=d.oppositionParties),"governmentPoints"in d&&r(0,_=d.governmentPoints),"toggleIsShare"in d&&r(1,v=d.toggleIsShare)},t.$$.update=()=>{t.$$.dirty&64&&r(4,n=a.reduce((d,y)=>d+y.total,0)),t.$$.dirty&128&&r(10,l=f.reduce((d,{fromDistrict:y,fromPartylist:E,total:N})=>(N<=sr&&(d.fromDistrict+=y,d.fromPartylist+=E,d.total+=N),d),{party:m,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&256&&r(9,o=h.reduce((d,{fromDistrict:y,fromPartylist:E,total:N})=>(N<=sr&&(d.fromDistrict+=y,d.fromPartylist+=E,d.total+=N),d),{party:m,fromDistrict:0,fromPartylist:0,total:0})),t.$$.dirty&1152&&r(3,i=[...f.sort((d,y)=>y.total-d.total).filter(d=>d.total>sr),l].filter(d=>d.total>0)),t.$$.dirty&768&&r(2,s=[...h.sort((d,y)=>y.total-d.total).filter(d=>d.total>sr),o].filter(d=>d.total>0))},[_,v,s,i,n,w,a,f,h,o,l]}class qu extends Yt{constructor(e){super(),Kt(this,e,Ou,Fu,Wt,{representativeRecord:6,governmentParties:7,oppositionParties:8,governmentPoints:0,toggleIsShare:1})}}function Uu(t){let e,r,n,l,o,i,s,a,f,h,_,v;return s=new qu({props:{representativeRecord:t[0],governmentParties:t[7],oppositionParties:t[6],governmentPoints:t[5],toggleIsShare:t[12]}}),{c(){e=x("div"),r=x("election-header"),n=S(),l=x("div"),o=S(),i=x("div"),Bt(s.$$.fragment),a=S(),f=x("election-bottom"),h=S(),_=x("election-footer"),this.h()},l(m){e=k(m,"DIV",{class:!0});var w=g(e);r=k(w,"ELECTION-HEADER",{}),g(r).forEach(p),n=A(w),l=k(w,"DIV",{class:!0}),g(l).forEach(p),o=A(w),i=k(w,"DIV",{class:!0});var d=g(i);Ht(s.$$.fragment,d),d.forEach(p),a=A(w),f=k(w,"ELECTION-BOTTOM",{"index-path":!0,"about-path":!0}),g(f).forEach(p),h=A(w),_=k(w,"ELECTION-FOOTER",{}),g(_).forEach(p),w.forEach(p),this.h()},h(){u(l,"class","sticky top-0 w-full h-1 beyondx-gradient-bg"),u(i,"class","flex-1 flex justify-center items-center"),un(f,"index-path",Xt),un(f,"about-path",Xt+"/about"),u(e,"class","h-full flex flex-col")},m(m,w){J(m,e,w),c(e,r),c(e,n),c(e,l),c(e,o),c(e,i),Ft(s,i,null),c(e,a),c(e,f),c(e,h),c(e,_),v=!0},p(m,w){const d={};w&1&&(d.representativeRecord=m[0]),w&128&&(d.governmentParties=m[7]),w&64&&(d.oppositionParties=m[6]),w&32&&(d.governmentPoints=m[5]),s.$set(d)},i(m){v||(ht(s.$$.fragment,m),v=!0)},o(m){_t(s.$$.fragment,m),v=!1},d(m){m&&p(e),Ot(s)}}}function Zu(t){let e,r,n,l,o,i,s,a,f,h,_,v,m,w,d,y,E,N,C,D,U,M,W,X,j,K,z,Z,rt,b,L,I,T,G;const q=[Yu,Gu],H=[];function Q(B,R){return B[4]===B[9].Map?0:1}return Z=Q(t),rt=H[Z]=q[Z](t),L=new Bi({props:{representativeRecord:t[0],governmentParties:t[7],oppositionParties:t[6],governmentPoints:t[5],toggleSide:Gt.toggleSide,toggleIsShare:t[12]}}),{c(){e=x("div"),r=x("div"),n=S(),l=x("div"),o=x("div"),i=x("div"),s=x("h7"),a=F("จำลองผล #เลือกตั้ง66 "),f=x("br"),h=F(" จากคำตอบของคุณ"),_=S(),v=x("a"),m=x("span"),w=F("แก้ไขคำตอบ"),d=S(),y=tt("svg"),E=tt("path"),N=S(),C=x("div"),D=x("button"),U=F("รายเขต"),W=S(),X=x("button"),j=F("รวมจำนวน ส.ส."),z=S(),rt.c(),b=S(),Bt(L.$$.fragment),this.h()},l(B){e=k(B,"DIV",{class:!0});var R=g(e);r=k(R,"DIV",{class:!0}),g(r).forEach(p),n=A(R),l=k(R,"DIV",{class:!0});var P=g(l);o=k(P,"DIV",{class:!0});var V=g(o);i=k(V,"DIV",{class:!0});var Y=g(i);s=k(Y,"H7",{class:!0});var at=g(s);a=O(at,"จำลองผล #เลือกตั้ง66 "),f=k(at,"BR",{class:!0}),h=O(at," จากคำตอบของคุณ"),at.forEach(p),_=A(Y),v=k(Y,"A",{href:!0,class:!0});var ot=g(v);m=k(ot,"SPAN",{class:!0});var dt=g(m);w=O(dt,"แก้ไขคำตอบ"),dt.forEach(p),d=A(ot),y=et(ot,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var Nt=g(y);E=et(Nt,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),g(E).forEach(p),Nt.forEach(p),ot.forEach(p),Y.forEach(p),N=A(V),C=k(V,"DIV",{class:!0});var vt=g(C);D=k(vt,"BUTTON",{class:!0});var kt=g(D);U=O(kt,"รายเขต"),kt.forEach(p),W=A(vt),X=k(vt,"BUTTON",{class:!0});var mt=g(X);j=O(mt,"รวมจำนวน ส.ส."),mt.forEach(p),vt.forEach(p),z=A(V),rt.l(V),V.forEach(p),P.forEach(p),b=A(R),Ht(L.$$.fragment,R),R.forEach(p),this.h()},h(){u(r,"class","fixed top-0 w-full h-1 beyondx-gradient-bg"),u(f,"class","inline md:hidden"),u(s,"class","typo-h7 font-bold grow"),u(m,"class","typo-b5 text-byx-blue ml-1 underline text-right"),u(E,"fill-rule","evenodd"),u(E,"clip-rule","evenodd"),u(E,"d","M19.0575 6.74987C19.3392 6.46852 19.4974 6.08674 19.4974 5.68862C19.4974 5.29051 19.3392 4.90872 19.0575 4.62737L16.3725 1.94237C16.0911 1.66071 15.7094 1.50244 15.3112 1.50244C14.9131 1.50244 14.5314 1.66071 14.25 1.94237L3 13.1924V17.9999H7.8075L19.0575 6.74987ZM15.3075 2.99987L18 5.69237L15.75 7.94237L13.0575 5.24987L15.3075 2.99987ZM4.5 16.4999V13.8074L12 6.30737L14.6925 8.99987L7.1925 16.4999H4.5Z"),u(E,"fill","#0000FF"),u(y,"width","24"),u(y,"height","24"),u(y,"viewBox","0 0 24 24"),u(y,"fill","none"),u(y,"xmlns","http://www.w3.org/2000/svg"),u(y,"class","ml-1"),u(v,"href",Xt+"/quiz"),u(v,"class","cursor-pointer flex"),u(i,"class","flex w-full items-start md:items-center"),u(D,"class",M="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(t[4]===t[9].Map?"font-bold border-black":"")),u(X,"class",K="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(t[4]===t[9].Graph?"font-bold border-black":"")),u(C,"class","w-full flex justify-center items-center mt-3"),u(o,"class","flex-1 flex flex-col items-center container svelte-438yzl"),u(l,"class","flex-1 flex flex-col items-center pt-10"),u(e,"class","h-screen flex flex-col relative")},m(B,R){J(B,e,R),c(e,r),c(e,n),c(e,l),c(l,o),c(o,i),c(i,s),c(s,a),c(s,f),c(s,h),c(i,_),c(i,v),c(v,m),c(m,w),c(v,d),c(v,y),c(y,E),c(o,N),c(o,C),c(C,D),c(D,U),c(C,W),c(C,X),c(X,j),c(o,z),H[Z].m(o,null),c(e,b),Ft(L,e,null),I=!0,T||(G=[bt(v,"click",t[11]),bt(D,"click",t[14]),bt(X,"click",t[15])],T=!0)},p(B,R){(!I||R&16&&M!==(M="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(B[4]===B[9].Map?"font-bold border-black":"")))&&u(D,"class",M),(!I||R&16&&K!==(K="w-1/2 cetner pb-1 pl-4 border-b-2 cursor-pointer "+(B[4]===B[9].Graph?"font-bold border-black":"")))&&u(X,"class",K);let P=Z;Z=Q(B),Z===P?H[Z].p(B,R):(Ne(),_t(H[P],1,1,()=>{H[P]=null}),Ie(),rt=H[Z],rt?rt.p(B,R):(rt=H[Z]=q[Z](B),rt.c()),ht(rt,1),rt.m(o,null));const V={};R&1&&(V.representativeRecord=B[0]),R&128&&(V.governmentParties=B[7]),R&64&&(V.oppositionParties=B[6]),R&32&&(V.governmentPoints=B[5]),L.$set(V)},i(B){I||(ht(rt),ht(L.$$.fragment,B),I=!0)},o(B){_t(rt),_t(L.$$.fragment,B),I=!1},d(B){B&&p(e),H[Z].d(),Ot(L),T=!1,he(G)}}}function Xu(t){let e,r;return e=new ui({}),{c(){Bt(e.$$.fragment)},l(n){Ht(e.$$.fragment,n)},m(n,l){Ft(e,n,l),r=!0},p:Pt,i(n){r||(ht(e.$$.fragment,n),r=!0)},o(n){_t(e.$$.fragment,n),r=!1},d(n){Ot(e,n)}}}function Gu(t){let e,r,n,l;return r=new Zi({props:{elect66Record:t[0],elect62Record:t[8]}}),{c(){e=x("div"),Bt(r.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var i=g(e);Ht(r.$$.fragment,i),i.forEach(p),this.h()},h(){u(e,"class","w-full")},m(o,i){J(o,e,i),Ft(r,e,null),l=!0},p(o,i){const s={};i&1&&(s.elect66Record=o[0]),i&256&&(s.elect62Record=o[8]),r.$set(s)},i(o){l||(ht(r.$$.fragment,o),Ur(()=>{n||(n=Pe(e,Ve,{x:400},!0)),n.run(1)}),l=!0)},o(o){_t(r.$$.fragment,o),n||(n=Pe(e,Ve,{x:400},!1)),n.run(0),l=!1},d(o){o&&p(e),Ot(r),o&&n&&n.end()}}}function Yu(t){let e,r,n,l;return r=new Su({}),{c(){e=x("div"),Bt(r.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var i=g(e);Ht(r.$$.fragment,i),i.forEach(p),this.h()},h(){u(e,"class","grow relative w-full mb-[112px]")},m(o,i){J(o,e,i),Ft(r,e,null),l=!0},p:Pt,i(o){l||(ht(r.$$.fragment,o),Ur(()=>{n||(n=Pe(e,Ve,{x:-400},!0)),n.run(1)}),l=!0)},o(o){_t(r.$$.fragment,o),n||(n=Pe(e,Ve,{x:-400},!1)),n.run(0),l=!1},d(o){o&&p(e),Ot(r),o&&n&&n.end()}}}function Ku(t){let e,r,n,l,o,i;e=new fi({props:{pageTitle:"ผลลัพธ์"}});const s=[Xu,Zu,Uu],a=[];function f(h,_){return!h[1]&&!h[2]?0:h[3]?2:1}return n=f(t),l=a[n]=s[n](t),{c(){Bt(e.$$.fragment),r=S(),l.c(),o=Te()},l(h){Ht(e.$$.fragment,h),r=A(h),l.l(h),o=Te()},m(h,_){Ft(e,h,_),J(h,r,_),a[n].m(h,_),J(h,o,_),i=!0},p(h,[_]){let v=n;n=f(h),n===v?a[n].p(h,_):(Ne(),_t(a[v],1,1,()=>{a[v]=null}),Ie(),l=a[n],l?l.p(h,_):(l=a[n]=s[n](h),l.c()),ht(l,1),l.m(o.parentNode,o))},i(h){i||(ht(e.$$.fragment,h),ht(l),i=!0)},o(h){_t(e.$$.fragment,h),_t(l),i=!1},d(h){Ot(e,h),h&&p(r),a[n].d(h),h&&p(o)}}}function Wu(t,e,r){let n,l,o,i,s,a,f;ce(t,Gt,D=>r(13,i=D)),ce(t,Ll,D=>r(0,s=D)),ce(t,qe,D=>r(16,a=D)),ce(t,_n,D=>r(8,f=D));var h=(D=>(D.Map="map",D.Graph="graph",D))(h||{});let _=!1,v=!1,m=!1;xl(async()=>{a.isFinished||(ai(Xt),r(1,_=!0),r(2,v=!0)),setTimeout(()=>{r(2,v=!0)},2e3),a.isEdited||await Gt.load(),await De.load(),De.calculate(),await Ml.load(),await _n.load(),r(1,_=!0)});let w="map";const d=D=>{r(4,w=D)},y=()=>{qe.startEdit(),qe.updateContent(Vl.EditQuiz)},E=()=>{r(3,m=!m)},N=()=>d(h.Map),C=()=>d(h.Graph);return t.$$.update=()=>{t.$$.dirty&8193&&r(7,[n,l,o]=s.reduce(([D,U,M],W)=>{var X;return((X=i.list.find(({Name:j})=>W.party.Name===j))==null?void 0:X.PartyGroup)===Lr.Government?[[...D,W],U,M+W.total]:[D,[W,...U],M]},[[],[],0]),n,(r(6,l),r(0,s),r(13,i)),(r(5,o),r(0,s),r(13,i)))},[s,_,v,m,w,o,l,n,f,h,d,y,E,i,N,C]}class lc extends Yt{constructor(e){super(),Kt(this,e,Wu,Ku,Wt,{})}}export{lc as default};
