(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2438)}])},1415:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(2322),a=n(2784),c=n(1664),s=n.n(c),i=n(3244);function r(e){let{title:t,children:c}=e;return(0,a.useEffect)(()=>{n.e(303).then(n.bind(n,6303))}),(0,l.jsxs)("div",{className:"main-component",children:[(0,l.jsx)("election-header",{}),(0,l.jsxs)("div",{className:"max-w-[420px] md:container m-auto p-[16px]",children:["landing"!=t&&(0,l.jsxs)(s(),{href:"/",className:"flex mt-[16px]",children:[(0,l.jsx)("img",{src:"".concat(i.E,"/arrow.svg"),alt:"arrow"}),(0,l.jsx)("p",{className:"ml-[8px] typo-b2 font-kondolar font-bold",children:t})]}),(0,l.jsx)("div",{className:"mt-[24px]",children:c})]})]})}},2438:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var l=n(2322),a=n(2784),c=n(1415),s=n(9008),i=n.n(s);let r=()=>(0,l.jsxs)("div",{className:"px-4 text-center bg-highlight-3 py-14 ",children:[(0,l.jsxs)("p",{className:"font-bold typo-h4",children:["เลือกตั้งรอบนี้",(0,l.jsx)("br",{className:" md:hover:"})," พรรคคุณพี่",(0,l.jsx)("br",{className:" md:hover:"})," ขายอะไรหรอคะ?"]}),(0,l.jsx)("p",{className:"mt-2 typo-h7",children:"เทียบนโยบายหาเสียงเลือกตั้ง ‘66 มาดูกันว่าพรรคไหนจะเป็นตัวแทนของเราได้บ้าง"})]});var o=n(1664),d=n.n(o);let p=e=>{let{topicName:t}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"w-[156px] h-[156px] border border-black rounded-[10px]"}),(0,l.jsx)("p",{className:"mt-2 font-bold typo-b4",children:t})]})},x=()=>(0,l.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,l.jsx)("p",{className:"font-bold typo-h6",children:"นโยบายประเด็นร้อน"}),(0,l.jsx)("div",{className:"flex flex-wrap text-center ",children:[{topic_name:"คอรัปชั่น"},{topic_name:"ความเท่าเทียม"},,{topic_name:"ความมั่นคง"},{topic_name:"112"}].map(e=>(0,l.jsx)(d(),{href:"/นโยบายประเด็นร้อน/".concat(null==e?void 0:e.topic_name),className:"mt-4 mx-[8px]",children:(0,l.jsx)(p,{topicName:null==e?void 0:e.topic_name})},null==e?void 0:e.topic_name))})]}),u=e=>{let{children:t,name:n,totalTopic:a}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"w-[70px] h-[70px] bg-white border border-black rounded-full overflow-hidden object-cover p-2",children:t}),(0,l.jsx)("p",{className:"mt-2  typo-b6 w-[70px] md:w-[75px] text-center",children:n}),a&&(0,l.jsxs)("p",{className:"mt-1  typo-b6 w-[70px] text-center",children:["(",a,")"]})]})},m=e=>{let{topics:t}=e;return(0,l.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,l.jsx)("p",{className:"font-bold typo-h6",children:"แบ่งตามประเด็น"}),(0,l.jsx)("div",{className:"flex flex-wrap text-center ",children:Object.keys(t).map(e=>(0,l.jsx)(d(),{href:"/แบ่งตามประเด็น/".concat(e),className:"mt-4 mx-[8px] md:mx-[10px]",children:(0,l.jsx)(u,{name:e,totalTopic:t[e].length})},e))})]})},h=e=>{let{parties:t}=e;return(0,l.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,l.jsx)("p",{className:"font-bold typo-h6",children:"ดูนโยบายตามพรรค"}),(0,l.jsx)("div",{className:"flex flex-wrap text-center ",children:null==t?void 0:t.map(e=>(0,l.jsx)(d(),{href:"/party/".concat(e.Name),className:"mt-4 mx-[8px] md:mx-[10px]",children:(0,l.jsx)(u,{name:e.Name,children:e.Images&&(0,l.jsx)("img",{src:e.Images[0].url,alt:"party-logo"})})},e.Name))})]})};var f=n(3871),j=n(1612);function b(){let[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)({}),o=async()=>{let e=await f.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});t(e.slice(0,8))},d=async()=>{let e=await f.U.Policies.fetchAll();s((0,j.vM)(e,"Topic"))};return(0,a.useEffect)(()=>{o(),d()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i(),{children:[(0,l.jsx)("title",{children:"policyshop"}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,l.jsx)("main",{children:(0,l.jsxs)(c.Z,{title:"landing",children:[(0,l.jsx)(r,{}),(0,l.jsx)(x,{}),(0,l.jsx)(m,{topics:n}),(0,l.jsx)(h,{parties:e})]})})]})}},1612:function(e,t,n){"use strict";n.d(t,{xr:function(){return r},Yo:function(){return o},kE:function(){return s},ix:function(){return c},vM:function(){return l},mj:function(){return a}});let l=(e,t)=>e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{}),a=(e,t,n,l)=>{e.push("/".concat(t,"/").concat(n,"/").concat(l?"?party="+l:""),void 0,{shallow:!0})},c=(e,t,n)=>{let l=null==e?void 0:e.filter(l=>t&&n&&(null==t?void 0:t.label)!="ดูของทุกพรรค"&&(null==n?void 0:n.label)!="นโยบายทั้งหมด"?l.Party.Name==(null==t?void 0:t.label)&&l.Topic===(null==n?void 0:n.label):t&&(null==t?void 0:t.label)!="ดูของทุกพรรค"?l.Party.Name==(null==t?void 0:t.label):n&&(null==n?void 0:n.label)!="นโยบายทั้งหมด"?l.Topic===(null==n?void 0:n.label):e);return l},s=(e,t)=>e.map(e=>({label:"parties"===t?e.Name:e}));var i=n(3871);let r=async()=>{let e=await i.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});return e},o=async()=>{let e=await i.U.Policies.fetchAll({});return e}},3244:function(e,t,n){"use strict";n.d(t,{E:function(){return l}});let l="/policyshop"},9008:function(e,t,n){e.exports=n(5443)},3871:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var l=n(2382);async function a(e,t){let{data:n}=await l.Z.get(`https://sheets.wevis.info/api/v1/db/public/shared-view/${e}/rows`,{params:t});return n.data}let c=(e,t)=>({fetch:n=>a(e,{...t,...n}),fetchAll:n=>s(e,{...t,...n})});async function s(e,t){let n=[],l=null;do{let c=await a(e,{...t,offset:l?l.page*l.pageSize:0,limit:200});n.push(...c.list),l=c.pageInfo}while(!l?.isLastPage);return n}let i={Parties:c("40065196-c978-4d7a-b3fb-fb84694383a7"),People:c("572c5e5c-a3d8-440f-9a70-3c4c773543ec",{"nested[PeoplePartyHistory][fields]":"Party,EstablishedDate"}),VoteLog:c("e06d1465-2786-4799-9c0f-a20f4cf71ec4"),PeopleVotes:c("e58433cc-f4fd-499b-926d-05431412cbba"),Policies:c("d930acb2-b1f8-4a85-9ed9-04c2b1edc951")}}},function(e){e.O(0,[664,382,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);