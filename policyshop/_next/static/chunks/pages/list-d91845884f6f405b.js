(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{2848:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list",function(){return l(2517)}])},993:function(e,t,l){"use strict";var r=l(2322),n=l(5817);let c=e=>{let{styles:t}=e;return(0,r.jsxs)("div",{className:"text-center typo-b6 mb-9 ".concat(t),children:[(0,r.jsx)("p",{children:"ส่งข้อมูลให้ทีมงานเพื่ออัปเดตเพิ่มเติมที่อีเมล"}),(0,r.jsxs)("div",{className:"flex mx-auto items-center w-fit space-x-[16px] mt-1",children:[(0,r.jsx)("p",{className:"font-bold ",children:"team@punchup.world"}),(0,r.jsxs)("button",{className:" bg-gray-2 flex items-center rounded-[20px] px-2 py-1",onClick:()=>{navigator.clipboard.writeText("team@punchup.world")},children:[(0,r.jsx)("img",{src:"".concat(n.E,"/clipboard.svg"),alt:"child",className:"mr-1 "}),(0,r.jsx)("p",{className:"typo-b7",children:"ก็อปปี้"})]})]})]})};t.Z=c},1018:function(e,t,l){"use strict";var r=l(2322),n=l(5817),c=l(2784);let s=e=>{let t,{options:l,currentOption:s,onSelect:i,placeholder:o,disabled:a}=e,u=(0,c.useRef)(null),[d,p]=(0,c.useState)(!1);(0,c.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&p(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);let x=e=>{a||(i(e),p(!1))};return(0,r.jsxs)("div",{className:"relative w-full",ref:u,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between hover:".concat(a?"cursor-unset":"cursor-pointer"," ").concat("px-[16px] py-[10px] bg-[var(--color-white)] border-[3px] rounded-[50px]"),onClick:()=>{a||p(!d)},style:{borderColor:(t="var(--color-black)",a&&(t="var(--color-gray-2)"),d&&(t="var(--color-highlight-2)"),t)},children:[(0,r.jsx)("span",{className:a?"text-[var(--color-gray-2)]":null!==s?"text-[var(--color-black)]":"text-[var(--color-gray-3)]",children:s?s.label:o||"เลือกตัวเลือก"}),(0,r.jsx)("img",{className:"".concat(a&&"[filter:invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)]"),src:"".concat(n.E,"/Chevron.svg"),alt:"dropdown-arrow",style:{transform:"".concat(d?"rotate(180deg)":"none"),filter:"".concat(a?"invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)":"unset")}})]}),d&&(0,r.jsx)("div",{className:"absolute w-full max-h-[300px] overflow-y-auto z-50 mt-[12px] p-[15px] bg-[var(--color-highlight-1)] border-[3px] border-[var(--color-black)]",children:l.map((e,t)=>(0,r.jsxs)("div",{className:"hover:cursor-pointer hover:bg-[var(--color-highlight-2)] rounded-[10px]",children:[(0,r.jsx)("div",{className:"p-[5px]",onClick:()=>x(e),children:e.label},"option-".concat(t)),t!==l.length-1&&(0,r.jsx)("hr",{className:"border-t-[1px] border-[var(--color-highlight-2)] w-[98%] mx-auto"})]},"option-".concat(t)))})]})};t.Z=s},8467:function(e,t,l){"use strict";var r=l(2322),n=l(5817),c=l(7162);let s=()=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-3 px-4  font-bold typo-b5 bg-highlight-3 mb-8 mt-2 rounded-[10px]",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("img",{src:"".concat(n.E,"/child.svg"),alt:"child",className:"mr-2 "}),(0,r.jsx)("p",{children:"เส้นทางการผลักดันนโยบาย"})]}),(0,r.jsx)("button",{className:"underline ",onClick:()=>(0,c.rV)(),children:"อ่านต่อ"})]});t.Z=s},2517:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSG:function(){return b},default:function(){return j}});var r=l(2322),n=l(1018),c=l(8467),s=l(993),i=l(2176),o=l(2424),a=l(7162),u=l(2784),d=l(425),p=l(5632),x=l(1092),h=l(8607),m=l.t(h,2),v=l(3540);let f=()=>((0,u.useEffect)(()=>{},[]),(0,r.jsx)(v.Z,{options:{loop:!0,autoplay:!0,animationData:m,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}})),g=e=>{let{policies:t,parties:l}=e,h=l.reduce((e,t)=>{let l=e.find(e=>t.Name===e);return l?e:[...e,t.Name]},[]),m=t.reduce((e,t)=>{let l=e.find(e=>t.Topic===e);return l?e:[...e,t.Topic]},[]),v=(0,p.useRouter)(),[g,b]=(0,u.useState)(t),[j,N]=(0,u.useState)([]),[y,w]=(0,u.useState)([]),[S,E]=(0,u.useState)(null),[_,k]=(0,u.useState)(null),[T,Z]=(0,u.useState)(!1),{hot:C,topic:L,party:O}=v.query,P=()=>{b(e=>[...(0,a.Uy)(e)])},R=e=>{v.push("/list"+(e?"?".concat(e):""),void 0,{shallow:!0})},z=t.reduce((e,t)=>{let l=e.findIndex(e=>e.topic===t.Topic);return -1===l?e=[...e,{topic:t.Topic,policies:[t]}]:e[l]={topic:t.Topic,policies:[...e[l].policies,t]},e},[]),F=()=>{let e=z.map(e=>{let t="".concat(e.topic," (").concat(e.policies.length,")");return{label:t,value:e.topic}}),l={label:"นโยบายทั้งหมด (".concat(t.length,")"),value:"นโยบายทั้งหมด"};e=e.sort((e,t)=>e.label<t.label?-1:1),e=[l,...e],C&&(e=e.filter(e=>x.dz.includes(e.value||"")));let r=e.find(e=>e.value===L);L&&r?k(r):k(l),w(e)},I=()=>{let e=l.map(e=>{let l=t.filter(t=>{let l=t.Party.Name===e.Name,r=!0;return L&&(r=t.Topic===L),l&&r}),r="".concat(e.Name," (").concat(l.length,")");return{label:r,value:e.Name}}),r=z.find(e=>e.topic===L),n=r?r.policies.length:t.length,c={label:"ดูของทุกพรรค (".concat(n,")"),value:"ดูของทุกพรรค"};e=e.sort((e,t)=>e.label<t.label?-1:1),N(e=[c,...e]);let s=e.find(e=>e.value===O);O&&s?E(s):E(c)},M=()=>{F(),I()},X=()=>{let e=t,l=j.find(e=>e.value===O);(null==O?void 0:O.toString())&&l&&(e=e.filter(e=>e.Party.Name===O));let r=y.find(e=>e.value===L);(null==L?void 0:L.toString())&&r&&(e=e.filter(e=>e.Topic===(null==L?void 0:L.toString()))),(null==C?void 0:C.toString())&&(e=e.filter(e=>x.dz.includes(e.Topic))),b(e)},q=(e,t,l)=>{let r="";return m.find(e=>e===t)&&(r+="topic=".concat(t,"&")),h.find(t=>t===e)&&(r+="party=".concat(e,"&")),l&&(r+="hot=true&"),r};return(0,u.useEffect)(()=>{},[]),(0,u.useEffect)(()=>{M()},[L,O]),(0,u.useEffect)(()=>{X();let e=q((null==S?void 0:S.value)||"",(null==_?void 0:_.value)||"",!!C);R(e)},[S,_]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{children:(0,r.jsxs)(d.Z,{title:C?"นโยบายประเด็นร้อน":"นโยบายตามประเด็น",children:[(0,r.jsx)(c.Z,{}),(0,r.jsx)(s.Z,{}),_&&S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{display:T?"unset":"none"},children:(0,r.jsxs)(o.Z,{policyList:g,partyList:l,setIsReady:Z,children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-[16px]",children:[(0,r.jsx)(n.Z,{options:y,currentOption:_,onSelect:k}),(0,r.jsx)(n.Z,{options:j,currentOption:S,onSelect:E})]}),(0,r.jsx)("div",{className:"flex justify-end items-center mt-[32px] mb-[20px]",children:(0,r.jsx)(i.Z,{onClick:P})})]})}),(0,r.jsx)("div",{style:{display:T?"none":"unset"},children:(0,r.jsx)(f,{})})]})]})})})};var b=!0,j=(0,u.memo)(g)}},function(e){e.O(0,[938,964,54,811,425,804,774,888,179],function(){return e(e.s=2848)}),_N_E=e.O()}]);