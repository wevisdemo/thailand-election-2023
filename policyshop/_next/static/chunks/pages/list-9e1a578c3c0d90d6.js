(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{7833:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list",function(){return n(4750)}])},8117:function(e,t,n){"use strict";var r=n(2322),l=n(3244);let o=e=>{let{styles:t}=e;return(0,r.jsxs)("div",{className:"text-center typo-b6 mb-9 ".concat(t),children:[(0,r.jsx)("p",{children:"ส่งข้อมูลให้ทีมงานเพื่ออัปเดตเพิ่มเติมที่อีเมล"}),(0,r.jsxs)("div",{className:"flex mx-auto items-center w-fit space-x-[16px] mt-1",children:[(0,r.jsx)("p",{className:"font-bold ",children:"team@punchup.world"}),(0,r.jsxs)("button",{className:" bg-gray-2 flex items-center rounded-[20px] px-2 py-1",onClick:()=>{navigator.clipboard.writeText("team@punchup.world")},children:[(0,r.jsx)("img",{src:"".concat(l.E,"/clipboard.svg"),alt:"child",className:"mr-1 "}),(0,r.jsx)("p",{className:"typo-b7",children:"ก็อปปี้"})]})]})]})};t.Z=o},5328:function(e,t,n){"use strict";var r=n(2322),l=n(3244),o=n(2784);let a=e=>{let t,{options:n,currentOption:a,onSelect:s,placeholder:c,outline:i,disabled:u}=e,d=(0,o.useRef)(null),[p,f]=(0,o.useState)(!1);(0,o.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&f(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d]);let x=e=>{u||(s(e),f(!1))};return(0,r.jsxs)("div",{className:"relative w-full",ref:d,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between hover:".concat(u?"cursor-unset":"cursor-pointer"," ").concat(i?"p-[8px] border-b-[3px]":"px-[16px] py-[10px] bg-[var(--color-white)] border-[3px] rounded-[50px]"),onClick:()=>{u||f(!p)},style:{borderColor:(t="var(--color-black)",u&&(t="var(--color-gray-2)"),t)},children:[(0,r.jsx)("span",{className:u?"text-[var(--color-gray-2)]":null!==a?"text-[var(--color-black)]":"text-[var(--color-gray-3)]",children:a?a.label:c||"เลือกตัวเลือก"}),(0,r.jsx)("img",{className:"".concat(u&&"[filter:invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)]"),src:"".concat(l.E,"/Chevron.svg"),alt:"dropdown-arrow",style:{transform:"".concat(p?"rotate(180deg)":"none"),filter:"".concat(u?"invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)":"unset")}})]}),p&&(0,r.jsx)("div",{className:"absolute w-full max-h-[300px] overflow-y-auto z-50 mt-[12px] p-[15px] bg-[var(--color-white)] border-[3px] border-[var(--color-black)] rounded-[10px]",children:n.map((e,t)=>(0,r.jsx)("div",{className:"[&:not(:first-child)]:border-t-[1px] border-[var(--color-black)] py-[5px] hover:cursor-pointer hover:bg-[var(--color-gray-1)]",onClick:()=>x(e),children:e.label},"option-".concat(t)))})]})};t.Z=a},9821:function(e,t,n){"use strict";var r=n(2322),l=n(3244);let o=()=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-3 px-4  font-bold typo-b5 bg-highlight-3 mb-8 mt-2 rounded-[10px]",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("img",{src:"".concat(l.E,"/child.svg"),alt:"child",className:"mr-2 "}),(0,r.jsx)("p",{children:"ดูยังไงว่านโยบายไหนจะทำได้จริง "})]}),(0,r.jsx)("button",{className:"underline ",children:"อ่านต่อ"})]});t.Z=o},1415:function(e,t,n){"use strict";var r=n(2322),l=n(2784),o=n(1664),a=n.n(o),s=n(3244);let c=e=>{let{title:t,children:o}=e;return(0,l.useEffect)(()=>{n.e(303).then(n.bind(n,6303))},[]),(0,r.jsxs)("div",{className:"main-component",children:[(0,r.jsx)("election-header",{}),(0,r.jsxs)("div",{className:"max-w-[420px]   m-auto ".concat("landing"!=t?" md:max-w-[728px] px-4":" md:max-w-none"),children:["landing"!=t&&(0,r.jsxs)(a(),{href:"/",className:"flex mt-[16px]",children:[(0,r.jsx)("img",{src:"".concat(s.E,"/arrow.svg"),alt:"arrow"}),(0,r.jsx)("p",{className:"ml-[8px] typo-h6 font-bold",children:t})]}),(0,r.jsx)("div",{children:o})]})]})};t.Z=c},9774:function(e,t,n){"use strict";var r=n(2322);let l=e=>{let{policyInfo:t,partyInfo:l}=e;var o=n(3054)();let a=()=>(null==l?void 0:l.Images)&&0!==l.Images.length?l.Images[0].url:"";return(0,r.jsx)("div",{className:"bg-[var(--color-white)] border-[1px] border-[var(--color-gray-2)] rounded-[10px] overflow-hidden h-fit w-full max-w-[155px] md:max-w-[232px] mx-auto",children:(0,r.jsxs)("div",{className:"p-[12px] ",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[a()&&(0,r.jsx)("img",{className:"w-[22px] rounded-full",src:a(),alt:"party-logo"}),(0,r.jsx)("span",{className:"ml-[4px] typo-b7 font-bold",children:t.Party.Name})]}),(0,r.jsx)("div",{className:"relative mt-[8px] w-full pb-[100%] h-0 rounded-[5px] bg-red-400",style:{backgroundColor:(null==l?void 0:l.Color)||"var(---color-grey-3)"},children:(0,r.jsx)("span",{className:"card-title absolute px-[4px] top-[50%] left-[50%] w-full translate-x-[-50%] translate-y-[-50%] text-center typo-b4 text-[var(--color-white)] font-bold",children:t.Title})}),t.Explain&&(0,r.jsx)("div",{className:"mt-[8px] typo-b5 list",dangerouslySetInnerHTML:{__html:o.render(t.Explain||"-")}})]})})};t.Z=l},4383:function(e,t,n){"use strict";var r=n(2322),l=n(3244);let o=e=>{let{onClick:t}=e;return(0,r.jsxs)("div",{className:"flex justify-between items-center w-fit py-[8px] px-[16px] border-[1px] border-[var(--color-black)] rounded-[16px] hover:cursor-pointer",onClick:t,children:[(0,r.jsx)("p",{className:"typo-b4",children:"แรนด้อมใหม่"}),(0,r.jsx)("img",{src:"".concat(l.E,"/shuffle.svg"),alt:"shuffle",className:"ml-[8px]"})]})};t.Z=o},1693:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(2322),l=n(9774),o=n(2784);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return e.apply(this,arguments)||this}(n=t).prototype=Object.create(e.prototype),n.prototype.constructor=n,s(n,e);var n,r=t.prototype;return r.getColumns=function(){var e=this.props,t=e.children,n=e.columnsCount,r=Array.from({length:n},function(){return[]});return o.Children.forEach(t,function(e,t){e&&o.isValidElement(e)&&r[t%n].push(e)}),r},r.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map(function(t,n){return o.createElement("div",{key:n,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},t.map(function(e){return e}))})},r.render=function(){var e=this.props,t=e.gutter,n=e.className,r=e.style;return o.createElement("div",{style:a({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},r),className:n},this.renderColumns())},t}(o.Component);c.propTypes={},c.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var i="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,u=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1];return i(function(){n(!0)},[]),t},d=function(){var e=u(),t=(0,o.useState)(0),n=t[0],r=t[1],l=(0,o.useCallback)(function(){e&&r(window.innerWidth)},[e]);return i(function(){if(e)return window.addEventListener("resize",l),l(),function(){return window.removeEventListener("resize",l)}},[e,l]),n},p=function(e){var t=e.columnsCountBreakPoints,n=void 0===t?{350:1,750:2,900:3}:t,r=e.children,l=e.className,a=e.style,s=d(),c=(0,o.useMemo)(function(){var e=Object.keys(n).sort(function(e,t){return e-t}),t=e.length>0?n[e[0]]:1;return e.forEach(function(e){e<s&&(t=n[e])}),t},[s,n]);return o.createElement("div",{className:void 0===l?null:l,style:void 0===a?null:a},o.Children.map(r,function(e,t){return o.cloneElement(e,{key:t,columnsCount:c})}))};p.propTypes={};let f=e=>{let{policyList:t,partyList:n}=e,o=e=>{let t=n.find(t=>t.Name===e);return t||null};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(p,{columnsCountBreakPoints:{360:2,900:3},children:(0,r.jsx)(c,{className:"!gap-[16px] [&>*]:!gap-[16px]",children:t.map((e,t)=>(0,r.jsx)(l.Z,{policyInfo:e,partyInfo:o(e.Party.Name)},"first-card-".concat(t)))})})})},x=e=>{let{policyList:t,children:n,partyList:l}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"grid gap-[8px]",children:n}),(0,r.jsx)("div",{className:"mt-[16px]",children:(0,r.jsx)(f,{policyList:t,partyList:l})})]})};var m=x},4750:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return x}});var r=n(2322),l=n(5328),o=n(9821),a=n(8117),s=n(4383),c=n(1693),i=n(7147),u=n(2784),d=n(1415),p=n(1163);let f=e=>{let{policies:t,parties:n}=e,f=n.reduce((e,t)=>{let n=e.find(e=>t.Name===e);return n?e:[...e,t.Name]},[]),x=t.reduce((e,t)=>{let n=e.find(e=>t.Topic===e);return n?e:[...e,t.Topic]},[]),m=(0,p.useRouter)(),[h,v]=(0,u.useState)(t),[b,y]=(0,u.useState)([]),[g,j]=(0,u.useState)([]),[w,N]=(0,u.useState)(null),[E,C]=(0,u.useState)(null),{hot:P,topic:k,party:_}=m.query,S=()=>{v(e=>[...(0,i.Uy)(e)])},T=e=>{console.log("q =>",e),m.push("/list"+(e?"?".concat(e):""),void 0,{shallow:!0})},Z=t.reduce((e,t)=>{let n=e.findIndex(e=>e.topic===t.Topic);return -1===n?e=[...e,{topic:t.Topic,policies:[t]}]:e[n]={topic:t.Topic,policies:[...e[n].policies,t]},e},[]),L=()=>{let e=Z.map(e=>{let t="".concat(e.topic," (").concat(e.policies.length,")");return{label:t,value:e.topic}}),n={label:"นโยบายทั้งหมด (".concat(t.length,")"),value:"นโยบายทั้งหมด"};e=[...e,n];let r=e.find(e=>e.value===k);k&&r?C(r):C(n),j(e)},O=()=>{let e=n.map(e=>{let n=t.filter(t=>{let n=t.Party.Name===e.Name,r=!0;return k&&(r=t.Topic===k),n&&r}),r="".concat(e.Name," (").concat(n.length,")");return{label:r,value:e.Name}}),r=Z.find(e=>e.topic===k),l=r?r.policies.length:t.length,o={label:"ดูของทุกพรรค (".concat(l,")"),value:"ดูของทุกพรรค"};y(e=[...e,o]);let a=e.find(e=>e.value===_);_&&a?N(a):N(o)},I=()=>{L(),O()},z=()=>{let e=t,n=b.find(e=>e.value===_);(null==_?void 0:_.toString())&&n&&(e=e.filter(e=>e.Party.Name===_));let r=g.find(e=>e.value===k);(null==k?void 0:k.toString())&&r&&(e=e.filter(e=>e.Topic===(null==k?void 0:k.toString()))),v(e)},U=(e,t,n)=>{let r="";return x.find(e=>e===t)&&(r+="topic=".concat(t,"&")),f.find(t=>t===e)&&(r+="party=".concat(e,"&")),n&&(r+="hot=true&"),r};return(0,u.useEffect)(()=>{},[]),(0,u.useEffect)(()=>{I()},[k,_]),(0,u.useEffect)(()=>{z();let e=U((null==w?void 0:w.value)||"",(null==E?void 0:E.value)||"",!!P);e&&T(e)},[w,E]),(0,r.jsxs)(d.Z,{title:P?"นโยบายประเด็นร้อน":"นโยบายตามประเด็น",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(a.Z,{}),E&&w&&(0,r.jsxs)(c.Z,{policyList:h,partyList:n,children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-[16px]",children:[(0,r.jsx)(l.Z,{options:g,currentOption:E,onSelect:C}),(0,r.jsx)(l.Z,{options:b,currentOption:w,onSelect:N})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-[32px]",children:[(0,r.jsx)("p",{children:"เรียงตาม"}),(0,r.jsx)(s.Z,{onClick:S})]})]})]})};var x=!0;t.default=(0,u.memo)(f)},7147:function(e,t,n){"use strict";n.d(t,{xr:function(){return c},Yo:function(){return i},kE:function(){return a},ix:function(){return o},vM:function(){return r},mj:function(){return l},Uy:function(){return u}});let r=(e,t)=>e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{}),l=(e,t,n,r)=>{e.push("/".concat(t,"/").concat(n,"/").concat(r?"?party="+r:""),void 0,{shallow:!0})},o=(e,t,n)=>{let r=null==e?void 0:e.filter(r=>t&&n&&(null==t?void 0:t.label)!="ดูของทุกพรรค"&&(null==n?void 0:n.label)!="นโยบายทั้งหมด"?r.Party.Name==(null==t?void 0:t.label)&&r.Topic===(null==n?void 0:n.label):t&&(null==t?void 0:t.label)!="ดูของทุกพรรค"?r.Party.Name==(null==t?void 0:t.label):n&&(null==n?void 0:n.label)!="นโยบายทั้งหมด"?r.Topic===(null==n?void 0:n.label):e);return r},a=(e,t)=>e.map(e=>({label:"parties"===t?e.Name:e}));var s=n(4714);let c=async()=>{let e=await s.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});return e},i=async()=>{let e=await s.U.Policies.fetchAll({});return e},u=e=>{let t=e.sort(()=>Math.random()-.5);return t}},3244:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});let r="/policyshop"},1163:function(e,t,n){e.exports=n(387)},4714:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r,l,o=n(2382);async function a(e,t){let{data:n}=await o.Z.get(`https://sheets.wevis.info/api/v1/db/public/shared-view/${e}/rows`,{params:t});return n.data}let s=(e,t)=>({fetch:n=>a(e,{...t,...n}),fetchAll:n=>c(e,{...t,...n})});async function c(e,t){let n=[],r=null;do{let l=await a(e,{...t,offset:r?r.page*r.pageSize:0,limit:200});n.push(...l.list),r=l.pageInfo}while(!r?.isLastPage);return n}(r=l||(l={})).Government="ร่วมรัฐบาล",r.Opposition="ฝ่ายค้าน";let i={Parties:s("40065196-c978-4d7a-b3fb-fb84694383a7"),People:s("572c5e5c-a3d8-440f-9a70-3c4c773543ec",{"nested[PeoplePartyHistory][fields]":"Party,EstablishedDate"}),VoteLog:s("e06d1465-2786-4799-9c0f-a20f4cf71ec4"),PeopleVotes:s("e58433cc-f4fd-499b-926d-05431412cbba"),Policies:s("d930acb2-b1f8-4a85-9ed9-04c2b1edc951")}}},function(e){e.O(0,[844,54,774,888,179],function(){return e(e.s=7833)}),_N_E=e.O()}]);