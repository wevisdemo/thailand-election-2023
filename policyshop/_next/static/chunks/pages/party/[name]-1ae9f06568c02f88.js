(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{6521:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/party/[name]",function(){return l(3283)}])},3283:function(e,s,l){"use strict";l.r(s),l.d(s,{__N_SSG:function(){return E},default:function(){return _}});var t=l(2322),c=l(2784),a=l(1163),i=l(2898),r=l(6027),n=l(1664),o=l.n(n),d=l(8117),x=l(9821);let m=e=>{let{party:s}=e,l=()=>{let e=document.getElementById("ModalInfo");e&&(e.style.display="block")};return(0,t.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"w-[70px] h-[70px] mr-4   ",children:s&&s.Images&&s.Images[0]&&(0,t.jsx)("img",{src:s.Images[0].url,alt:"party-logo",className:"rounded-full"})}),(0,t.jsx)("p",{className:"font-bold typo-h3",children:null==s?void 0:s.Name})]}),(0,t.jsxs)("div",{className:"flex mx-auto mb-10 space-x-3 w-fit",children:[(0,t.jsx)("button",{className:"typo-b4 border-[3px] mt-4 border-black rounded-full w-fit mx-auto py-2 px-4",onClick:()=>l(),children:"รู้จักพรรคนี้เพิ่มเติม"}),(0,t.jsx)(o(),{href:"/compare",className:"typo-b4 border-[3px] mt-4 border-black rounded-full w-fit mx-auto py-2 px-4",children:"เทียบนโยบาย"})]}),(0,t.jsx)(x.Z,{}),(0,t.jsxs)("div",{className:"mt-2 text-center typo-b5",children:[(0,t.jsx)("p",{children:"ข้อมูลนี้อัปเดตในวันที่ xx/xx/xxxx"}),(0,t.jsx)(d.Z,{})]})]})};var p=l(3244);let h=e=>{let{item:s}=e;return(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("img",{src:"".concat(p.E,"/plus.svg"),alt:"plus-icon",className:"mr-[4px] w-[24px] h-[24px]"}),(0,t.jsxs)("p",{className:"typo-b6",children:[s.topic," (",s.count,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center ml-[14px]",children:[(0,t.jsx)("div",{className:"relative h-[14px] w-[95px] bg-[#d9d9d9]",children:(0,t.jsx)("div",{className:"absolute h-[14px]",style:{backgroundColor:s.color,width:"".concat(s.percent,"%")}})}),(0,t.jsxs)("p",{className:"ml-[12px] typo-b6 w-[40px] text-right",children:[s.percent,"%"]})]})]})},j=e=>{let{items:s}=e;return(0,t.jsx)("div",{className:"grid grid-cols-1 gap-[8px]",children:s.map((e,s)=>(0,t.jsx)(h,{item:e},"category-".concat(s)))})},u=(e,s)=>0===s?0:Math.ceil(e/s*100),f=e=>{let{policies:s}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mt-5 ",children:[(0,t.jsx)("p",{className:"font-bold typo-h5",children:"นโยบาย 66"}),(0,t.jsx)("p",{className:"font-bold typo-h7",children:"แบ่งตามประเด็น"})]}),(0,t.jsx)(j,{items:s.reduce((e,s)=>{let l=e.findIndex(e=>e.topic===s.Topic);if(-1!=l)e[l].count++;else{let l={topic:s.Topic,count:1,percent:0,color:"var(--color-black)"};e=[...e,l]}return e},[]).map(e=>({...e,percent:u(e.count,s.length)}))})]})};var b=l(1693),N=l(5328),y=l(4383),v=l(5839);let g=e=>{let{party:s}=e,l=e=>{let{children:s}=e;return(0,t.jsxs)("button",{className:" border-b-[2px] border-gray-2 w-full mt-4 flex  items-center justify-between  ",children:[s,(0,t.jsx)(v.nv,{})]})},c=()=>{let e=document.getElementById("ModalInfo");e&&(e.style.display="none")};return(0,t.jsxs)("div",{className:"fixed w-full  py-12  inset-0 z-[99] h-auto overflow-scroll hidden ",id:"ModalInfo",children:[(0,t.jsx)("div",{className:"fixed inset-0 opacity-60 z-[-1]",onClick:()=>c(),style:{background:"linear-gradient(0deg, rgba(9, 9, 9, 0.6), rgba(9, 9, 9, 0.6)), #FBF8F4"}}),(0,t.jsxs)("div",{className:"typo-b4 border-[3px] border-black rounded-[10px] relative mx-2   md:mx-auto  bg-white md:max-w-[650px] p-5 ",children:[(0,t.jsx)("button",{className:"absolute top-0 right-0 m-3 ",onClick:()=>c(),children:(0,t.jsx)("img",{src:"".concat(p.E,"/close.svg"),alt:"close"})}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:" text-start",children:[s.Images&&(0,t.jsx)("div",{className:"w-[70px] h-[70px] bg-white border border-black rounded-full overflow-hidden object-cover",children:(0,t.jsx)("img",{src:s.Images[0].url,alt:"party-logo"})}),(0,t.jsx)("p",{className:"mt-2 typo-h5 font-bold",children:s.Name}),(0,t.jsxs)("div",{className:"flex items-center bg-[var(--color-highlight-1)] px-[5px] w-fit mt-[8px]",children:[(0,t.jsx)("img",{className:"w-[12px] h-[12px]",src:"".concat(p.E,"/green-check.svg"),alt:"green-check"}),(0,t.jsx)("span",{className:"ml-[4px] typo-b5",children:s.PartyGroup})]}),(0,t.jsx)("div",{className:"my-[20px]",children:(0,t.jsx)("p",{className:"typo-b5 text-gray-3",children:"แคนดิเดตนายก"})})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,t.jsx)(l,{children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("img",{src:"".concat(p.E,"/icon-link-1.svg"),alt:"icon-link-1"}),(0,t.jsx)("p",{className:"ml-2 font-bold typo-b5",children:"นโยบายที่เคยขายไว้ ทำได้จริงแค่ไหน"})]})}),(0,t.jsx)(l,{children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("img",{src:"".concat(p.E,"/icon-link-2.svg"),alt:"icon-link-2"}),(0,t.jsx)("p",{className:"ml-2 font-bold typo-b5",children:"เคยเสนอร่างกฏหมายอะไรบ้าง"})]})}),(0,t.jsx)(l,{children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("img",{src:"".concat(p.E,"/icon-link-3.svg"),alt:"icon-link-3"}),(0,t.jsx)("p",{className:"ml-2 font-bold typo-b5",children:"ข้อมูลอื่นๆ"})]})})]})]})]})]})};var k=l(695);let w=e=>{let{parties:s,policies:l}=e,n=(0,a.useRouter)(),{name:o}=n.query,[d,x]=(0,c.useState)(),[p,h]=(0,c.useState)(l),[j,u]=(0,c.useState)([]),[v,w]=(0,c.useState)([]),[E,_]=(0,c.useState)(null),I=(0,c.useCallback)(async()=>{let e=s.filter(e=>e.Name===o);x(e[0])},[o]),C=(0,c.useCallback)(async()=>{let e=l.filter(e=>e.Party.Name===o),s=(0,r.kE)(Object.keys((0,r.vM)(e,"Topic")),"policies");h(e),u(e.slice(0,1)),await w([{label:"นโยบายทั้งหมด"},...s])},[o]),S=()=>{u(p)},Z=()=>{h(e=>[...(0,r.Uy)(e)])};return(0,c.useEffect)(()=>{o&&(I(),C())},[o]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{}),(0,t.jsx)("main",{children:(0,t.jsx)(i.Z,{title:"พรรคนี้มีอะไรมาขายบ้าง",children:(0,t.jsxs)("div",{className:"relative ",children:[(0,t.jsx)(g,{party:d}),(0,t.jsx)(m,{party:d}),(0,t.jsx)("div",{className:"mt-[10px]",children:(0,t.jsx)(f,{policies:p})}),(0,t.jsxs)("div",{className:"py-10 mt-10 border-y border-highlight-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between ",children:[(0,t.jsx)("p",{className:"font-bold typo-h7",children:"นโยบายไฮไลท์"}),(0,t.jsx)("button",{className:"typo-b4",onClick:S,children:"ดูทั้งหมด"})]}),(0,t.jsx)(b.Z,{policyList:j,partyList:s})]}),(0,t.jsx)("p",{className:"mt-10 font-bold typo-h6",children:"นโยบายตามประเด็น"}),(0,t.jsxs)(b.Z,{policyList:p,partyList:s,children:[(0,t.jsx)(N.Z,{options:v,currentOption:E,onSelect:_}),(0,t.jsx)("div",{className:"flex justify-end items-center mt-[32px]",children:(0,t.jsx)(y.Z,{onClick:Z})})]})]})})})]})};var E=!0,_=w}},function(e){e.O(0,[844,54,898,527,774,888,179],function(){return e(e.s=6521)}),_N_E=e.O()}]);