(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(742)}])},5839:function(e,t,s){"use strict";s.d(t,{Pn:function(){return c},_V:function(){return r},ve:function(){return n},zo:function(){return a}});var l=s(2322);s(2784);let r=e=>{let{styles:t}=e;return(0,l.jsx)("div",{className:t,children:(0,l.jsx)("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M9.00523 0.999999C9.00523 1.87122 8.46495 5.13296 8.54814 6C8.68226 7.39793 9.17822 8.08663 9.19054 9.5C9.21092 11.8391 9.24414 12.403 9.12259 14.7274C9.09453 15.2641 9.06082 15.4925 9.06082 16C9.59549 15.4868 10.2541 15.6308 10.7842 15.1105C12.7689 13.1622 18.5444 7.12732 16.609 9.12792C15.1614 10.6243 13.8031 12.2582 12.4149 13.8144C11.2413 15.13 10.1096 16.585 9.19054 18.105C8.97725 18.4578 8.83327 19.3426 8.54814 18.8584C7.74705 17.498 6.97274 16.1647 6.04033 14.8934C4.94325 13.3977 3.89268 11.8539 2.82835 10.3347C2.74429 10.2147 2.62214 10.0396 2.4948 9.96434C1.9035 9.61507 1.58825 8.77431 1 8.47028",stroke:"#090909",strokeWidth:"2",strokeLinecap:"round"})})})},n=()=>(0,l.jsx)("svg",{width:"12",height:"23",viewBox:"0 0 12 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M6.34318 1C6.7043 4.33333 6.5779 6.47475 6.5779 10C7.01266 11.6396 6.5779 15.2647 6.5779 16.9338C6.5779 17.5804 6.84596 17.9322 7.02126 18.5272C7.2983 19.4675 6.5131 17.8154 6.34318 17.6616C5.29724 16.7149 2.5941 15.1183 1.39448 14.27C0.977973 13.9755 2.05788 15.1264 2.33337 15.6667C3.33337 16.6667 3.66659 16.9338 4.99992 18.5272C6.34318 20.3333 6.78944 21.6276 7.41247 20.8287C8.19889 19.8203 8.5669 18.9463 8.89904 17.819C9.19766 16.8054 9.88984 16.1672 10.3335 15.1634",stroke:"#090909",strokeWidth:"2",strokeLinecap:"round"})}),a=()=>(0,l.jsxs)("svg",{width:"62",height:"34",viewBox:"0 0 62 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M23 4C22.272 7.58101 18.7861 11.534 16.8743 14.5293C13.693 19.5135 9.32417 24.6057 5.0941 28.767C0.826104 32.9657 3.85916 28.2178 4.35363 25.191C4.71332 22.9893 4.80404 20.7469 5.29605 18.5688C5.65315 16.988 4.92477 20.5367 4.79118 20.9528C4.16144 22.9146 0.218224 32.0782 1.13852 32.9836C1.43813 33.2783 9.44427 29.5182 11.361 28.767",stroke:"#090909",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M26 1C26.318 6.50331 32.7559 11.1097 36.2086 14.509C40.8526 19.0812 45.7158 22.6635 51.4535 25.6626C52.3561 26.1345 58.2839 28.9629 58.8037 28.4337C59.4965 27.7285 57.1983 27.234 56.6259 26.4247C56.0563 25.6194 55.5497 24.5672 54.9244 23.9307C54.2084 23.2018 51.5004 21.2856 51.3855 20.4669C50.9159 17.1213 55.3672 25.9055 57.7148 28.2952C58.1843 28.773 63.2357 31.8179 59.8246 30.7891C56.7737 29.869 53.0074 29.0572 49.8882 29.0572",stroke:"#090909",strokeWidth:"2",strokeLinecap:"round"})]}),c=e=>{let{styles:t}=e;return(0,l.jsx)("div",{className:t,children:(0,l.jsx)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M3.42123 13.6118C5.59558 10.7126 8.22201 8.20872 10.9614 5.83995C11.099 5.72101 14.3828 2.77233 14.274 2.62003C14.1276 2.41514 12.4855 2.50789 12.3918 2.50421C10.6872 2.43717 8.93793 1.62697 7.23182 1.61207C5.55083 1.59739 3.89228 1.66583 2.21662 1.71052C2.07557 1.71428 1.53286 1.83999 1.9618 1.81476C4.03513 1.6928 6.22142 1.61207 8.29577 1.61207C9.29577 1.61207 11.0919 1.61464 12.3918 1.4702C13.506 1.20127 15.2332 1.2722 16.3472 1.01007C16.8384 0.894495 16.3813 1.80717 16.3472 2.02933C15.9964 4.3201 15.6324 6.50821 15.0616 8.75873C14.6095 10.5411 14.0539 12.1901 14.0539 14.0287",stroke:"#090909",strokeWidth:"2",strokeLinecap:"round"})})})}},1415:function(e,t,s){"use strict";var l=s(2322),r=s(2784),n=s(1664),a=s.n(n),c=s(3244);let i=e=>{let{title:t,children:n}=e;return(0,r.useEffect)(()=>{s.e(303).then(s.bind(s,6303))},[]),(0,l.jsxs)("div",{className:"main-component",children:[(0,l.jsx)("election-header",{}),(0,l.jsxs)("div",{className:"max-w-[420px]   m-auto ".concat("landing"!=t?" md:max-w-[728px] px-4":" md:max-w-none"),children:["landing"!=t&&(0,l.jsxs)(a(),{href:"/",className:"flex mt-[16px]",children:[(0,l.jsx)("img",{src:"".concat(c.E,"/arrow.svg"),alt:"arrow"}),(0,l.jsx)("p",{className:"ml-[8px] typo-h6 font-bold",children:t})]}),(0,l.jsx)("div",{children:n})]})]})};t.Z=i},9791:function(e,t,s){"use strict";var l=s(2322),r=s(3244),n=s(2784),a=s(1163);let c=e=>{let{onClear:t}=e,[s,c]=(0,n.useState)(void 0),i=(0,a.useRouter)(),{topic:o}=i.query,d="/searchPolicies",x=()=>{let e=document.getElementById("searchBar");i.push("".concat(d,"?topic=").concat(null==e?void 0:e.value),void 0,{}),c(null==e?void 0:e.value)},h=()=>{c(""),t&&t(),i.push(d,void 0,{})};return(0,n.useEffect)(()=>{o&&c(o)},[o]),(0,l.jsxs)("div",{className:"relative mx-4 md:mx-0 ",children:[(0,l.jsx)("input",{type:"text",className:"typo-b4 inputSearchPolicies",id:"searchBar",placeholder:"ค้นหานโยบายด้วยคีย์เวิร์ด",onChange:e=>c(e.target.value),value:s||""}),(0,l.jsxs)("div",{className:"absolute top-[50%] right-[20px] flex translate-y-[-50%] ",children:[s&&(0,l.jsx)("button",{className:"mr-2 ",onClick:h,children:(0,l.jsx)("img",{src:"".concat(r.E,"/clear.svg"),alt:"clear button"})}),(0,l.jsx)("button",{onClick:x,children:(0,l.jsx)("img",{src:"".concat(r.E,"/search.svg"),alt:"search button"})})]})]})};t.Z=c},742:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var l=s(2322),r=s(2784),n=s(1415),a=s(9008),c=s.n(a),i=s(5839);let o=()=>(0,l.jsxs)("div",{className:"px-4 text-center bg-highlight-3 py-14 ",children:[(0,l.jsxs)("p",{className:"font-bold typo-h4",children:["เลือกตั้งรอบนี้",(0,l.jsx)("br",{className:" md:hover:"})," พรรคคุณพี่",(0,l.jsx)("br",{className:" md:hover:"})," ขายอะไรหรอคะ?"]}),(0,l.jsx)("p",{className:"mt-2 typo-h7 ",children:"เทียบนโยบายหาเสียงเลือกตั้ง ‘66 มาดูกันว่าพรรคไหนจะเป็นตัวแทนของเราได้บ้าง"}),(0,l.jsx)(i._V,{styles:"mx-auto w-fit mt-11 animate-bounce"})]});var d=s(1664),x=s.n(d);let h=e=>{let{topicName:t}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"w-[156px] h-[156px] border border-black rounded-[10px]"}),(0,l.jsx)("p",{className:"mt-2 font-bold typo-b4",children:t})]})},p=e=>{let{topics:t}=e,s=Object.keys(t).slice(0,6);return(0,l.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,l.jsx)("p",{className:"px-4 py-2 font-bold typo-h6 bg-highlight-2",children:"นโยบายประเด็นร้อน"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-1 mx-auto text-center md:grid-cols-3 w-fit ",children:s.map(e=>(0,l.jsxs)(x(),{href:"/list?topic=".concat(e,"&hot=true"),className:"mt-4 mx-[8px]",children:[(0,l.jsx)(h,{topicName:e}),(0,l.jsxs)("p",{className:"typo-b6",children:["(",t[e].length,")"]})]},e))})]})},u=e=>{let{children:t,name:s,totalTopic:r}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"w-[70px] h-[70px] bg-white border border-black rounded-full overflow-hidden object-cover p-2",children:t}),(0,l.jsx)("p",{className:"mt-2  typo-b6 w-[70px] md:w-[75px] text-center",children:s}),r&&(0,l.jsxs)("p",{className:"mt-1  typo-b6 w-[70px] text-center",children:["(",r,")"]})]})};var m=s(9791);let f=e=>{let{topics:t}=e;return(0,l.jsxs)("div",{className:"container relative pt-10 mx-auto",children:[(0,l.jsx)("p",{className:"px-4 py-2 font-bold typo-h6 bg-highlight-2",children:"นโยบายตามประเด็นต่าง ๆ"}),(0,l.jsx)(m.Z,{}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center ",children:Object.keys(t).map(e=>(0,l.jsx)(x(),{href:"/list?topic=".concat(e),className:"mt-4 mx-[8px] md:mx-[10px]",children:(0,l.jsx)(u,{name:e,totalTopic:t[e].length})},e))})]})},j=e=>{let{parties:t}=e;return(0,l.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,l.jsx)("p",{className:"px-4 py-2 font-bold typo-h6 bg-highlight-2",children:"ดูนโยบายตามพรรค"}),(0,l.jsx)("div",{className:"grid grid-cols-4 justify-center text-center w-fit m-auto",children:null==t?void 0:t.map(e=>(0,l.jsx)(x(),{href:"/party/".concat(e.Name),className:"mt-4 mx-[8px] md:mx-[10px]",children:(0,l.jsx)(u,{name:e.Name,children:e.Images&&(0,l.jsx)("img",{src:e.Images[0].url,alt:"party-logo"})})},e.Name))})]})};var v=s(4714),b=s(7147);let g=e=>{let{children:t,bgColor:s,alignItem:r,styles:n}=e;return(0,l.jsx)("button",{className:"border-[3px] border-black mb-1 text-start rounded-[24px]  px-4 py-2 flex ite justify-between ".concat(s," ").concat(r," ").concat(n),children:t})},w=()=>(0,l.jsxs)("div",{className:" p-4 max-w-[728px] mx-auto flex flex-col ",children:[(0,l.jsx)("p",{className:"mb-2 font-bold typo-b6 ",children:"ทางลัด"}),(0,l.jsxs)(g,{bgColor:"bg-highlight-2",alignItem:"items-center",children:[(0,l.jsx)("p",{children:"นโยบายประเด็นร้อน คัดมาแล้ว"}),(0,l.jsx)(i._V,{})]}),(0,l.jsxs)(g,{bgColor:"bg-highlight-3",alignItem:"items-center",children:[(0,l.jsx)("p",{children:"ดูนโยบายตามประเด็น"}),(0,l.jsx)(i._V,{})]}),(0,l.jsxs)(g,{bgColor:"bg-highlight-2",alignItem:"items-center",children:[(0,l.jsx)("p",{children:"แต่ละพรรคมีนโยบายอะไรมาขายบ้าง"}),(0,l.jsx)(i._V,{})]}),(0,l.jsxs)("div",{className:"flex space-x-[4px]",children:[(0,l.jsx)(x(),{href:"/compare",className:"flex-1 ",children:(0,l.jsxs)(g,{bgColor:"bg-highlight-3",styles:"w-full",children:[(0,l.jsxs)("p",{children:["เปรียบเทียบน",(0,l.jsx)("br",{className:"hidden md:block"}),"โยบายพรรคต่อพรรค"]}),(0,l.jsx)(i.Pn,{styles:"p-1"})]})}),(0,l.jsxs)(g,{bgColor:"bg-highlight-2",styles:"flex-1",children:[(0,l.jsxs)("p",{children:["ดูยังไงว่านโยบายไหนจะทำได้จริง ",(0,l.jsx)("br",{className:"hidden md:block"}),"นโยบายไหน อาจขายฝัน"]}),(0,l.jsx)(i.Pn,{styles:"p-1"})]})]})]});var N=s(3244);let C=e=>{let{options:t,currentOption:s,onSelect:n,placeholder:a}=e,c=(0,r.useRef)(null),[i,o]=(0,r.useState)(!0),[d,x]=(0,r.useState)((null==s?void 0:s.value)||""),[h,p]=(0,r.useState)(!1),[u,m]=(0,r.useState)([]);(0,r.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&p(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]);let f=e=>{n(e),p(!1)},j=()=>{h||(p(!0),o(!0))},v=()=>{h&&(p(!1),o(!0))};return(0,r.useEffect)(()=>{if(console.log("check => ",i),i)m(t);else{let e=RegExp(d.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"igm");console.log("regex => ",e);let s=t.filter(t=>t.value.match(e));m(s)}},[d,t,i]),(0,l.jsxs)("div",{className:"relative w-full",ref:c,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-[16px] py-[10px] bg-[var(--color-white)] border-[3px] rounded-[50px]",onClick:()=>j(),style:{borderColor:"var(--color-black)"},children:[(0,l.jsx)("input",{placeholder:a,className:"w-full",type:"text",value:d,onChange:e=>{o(!1),x(e.target.value)}}),(0,l.jsx)("img",{src:"".concat(N.E,"/Chevron.svg"),alt:"dropdown-arrow",className:"hover:cursor-pointer",style:{transform:"".concat(h?"rotate(180deg)":"none")},onClick:()=>v()})]}),h&&(0,l.jsx)("div",{className:"absolute w-full max-h-[300px] overflow-y-auto z-50 mt-[12px] p-[15px] bg-[var(--color-white)] border-[3px] border-[var(--color-black)] rounded-[10px]",children:u.map((e,t)=>(0,l.jsx)("div",{className:"[&:not(:first-child)]:border-t-[1px] border-[var(--color-black)] py-[5px] hover:cursor-pointer hover:bg-[var(--color-gray-1)]",onClick:()=>f(e),children:e.label},"option-".concat(t)))})]})};var y=s(1163);function k(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[i,d]=(0,r.useState)({}),[h,u]=(0,r.useState)(null),m=(0,y.useRouter)(),g=async()=>{let e=await v.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});a(e),t(e.slice(0,8))},N=e=>{u(e),m.push("/party/".concat(e.value))},k=async()=>{let e=await v.U.Policies.fetchAll();d((0,b.vM)(e,"Topic"))};return(0,r.useEffect)(()=>{g(),k()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c(),{children:[(0,l.jsx)("title",{children:"policyshop"}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,l.jsx)("main",{children:(0,l.jsxs)(n.Z,{title:"landing",children:[(0,l.jsx)(o,{}),(0,l.jsxs)("div",{className:"max-w-[728px] mx-auto",children:[(0,l.jsx)(w,{}),(0,l.jsxs)("p",{className:"mt-16 font-bold text-center typo-h4",children:["นโยบายหาเสียง ",(0,l.jsx)("br",{className:" md:hidden"}),"เลือกตั้ง ปี 2566"]}),(0,l.jsx)(p,{topics:i}),(0,l.jsx)(f,{topics:i}),(0,l.jsx)(j,{parties:e}),(0,l.jsx)("div",{className:"mt-[16px]",children:(0,l.jsx)(C,{options:s.map(e=>({label:e.Name,value:e.Name})),currentOption:h,onSelect:N,placeholder:"เลือกพรรค"})}),(0,l.jsxs)("div",{className:"flex flex-col items-center my-[40px]",children:[(0,l.jsx)("div",{className:"flex"}),(0,l.jsx)("p",{className:"typo-b3 font-bold",children:"#WeVisElection66"}),(0,l.jsx)(x(),{href:"/about",children:(0,l.jsx)("div",{className:"font-bold py-[10px] px-[20px] border-[3px] rounded-[50px] w-fit mt-[10px]",children:"เกี่ยวกับโครงการ"})})]})]}),(0,l.jsx)("election-footer",{})]})})]})}},7147:function(e,t,s){"use strict";s.d(t,{xr:function(){return i},Yo:function(){return o},kE:function(){return a},ix:function(){return n},vM:function(){return l},mj:function(){return r},Uy:function(){return d}});let l=(e,t)=>e.reduce(function(e,s){return(e[s[t]]=e[s[t]]||[]).push(s),e},{}),r=(e,t,s,l)=>{e.push("/".concat(t,"/").concat(s,"/").concat(l?"?party="+l:""),void 0,{shallow:!0})},n=(e,t,s)=>{let l=null==e?void 0:e.filter(l=>t&&s&&(null==t?void 0:t.label)!="ดูของทุกพรรค"&&(null==s?void 0:s.label)!="นโยบายทั้งหมด"?l.Party.Name==(null==t?void 0:t.label)&&l.Topic===(null==s?void 0:s.label):t&&(null==t?void 0:t.label)!="ดูของทุกพรรค"?l.Party.Name==(null==t?void 0:t.label):s&&(null==s?void 0:s.label)!="นโยบายทั้งหมด"?l.Topic===(null==s?void 0:s.label):e);return l},a=(e,t)=>e.map(e=>({label:"parties"===t?e.Name:e}));var c=s(4714);let i=async()=>{let e=await c.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});return e},o=async()=>{let e=await c.U.Policies.fetchAll({});return e},d=e=>{let t=e.sort(()=>Math.random()-.5);return t}},3244:function(e,t,s){"use strict";s.d(t,{E:function(){return l}});let l="/policyshop"},9008:function(e,t,s){e.exports=s(5443)},1163:function(e,t,s){e.exports=s(387)},4714:function(e,t,s){"use strict";s.d(t,{U:function(){return o}});var l,r,n=s(2382);async function a(e,t){let{data:s}=await n.Z.get(`https://sheets.wevis.info/api/v1/db/public/shared-view/${e}/rows`,{params:t});return s.data}let c=(e,t)=>({fetch:s=>a(e,{...t,...s}),fetchAll:s=>i(e,{...t,...s})});async function i(e,t){let s=[],l=null;do{let r=await a(e,{...t,offset:l?l.page*l.pageSize:0,limit:200});s.push(...r.list),l=r.pageInfo}while(!l?.isLastPage);return s}(l=r||(r={})).Government="ร่วมรัฐบาล",l.Opposition="ฝ่ายค้าน";let o={Parties:c("40065196-c978-4d7a-b3fb-fb84694383a7"),People:c("572c5e5c-a3d8-440f-9a70-3c4c773543ec",{"nested[PeoplePartyHistory][fields]":"Party,EstablishedDate"}),VoteLog:c("e06d1465-2786-4799-9c0f-a20f4cf71ec4"),PeopleVotes:c("e58433cc-f4fd-499b-926d-05431412cbba"),Policies:c("d930acb2-b1f8-4a85-9ed9-04c2b1edc951")}}},function(e){e.O(0,[844,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);