(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{7511:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/searchPolicies",function(){return r(970)}])},2957:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2322),s=r(1092);let l=e=>{let t=e.replace("#",""),r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),s=parseInt(t.substr(4,2),16);return(299*r+587*n+114*s)/1e3>155},a=e=>{let{policyInfo:t,partyInfo:a}=e;var o=r(3054)();let i=()=>(null==a?void 0:a.Images)&&0!==a.Images.length?a.Images[0].url:"";return(0,n.jsxs)("div",{className:"bg-[var(--color-white)] border-[1px] border-[var(--color-gray-2)] rounded-[10px] overflow-hidden h-fit w-full max-w-[155px] md:max-w-[232px] mx-auto",children:[(0,n.jsxs)("div",{className:"p-[12px] ",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[i()&&(0,n.jsx)("img",{className:"w-[22px] rounded-full",src:i(),alt:"party-logo"}),(0,n.jsx)("span",{className:"ml-[4px] typo-b7 font-bold",children:t.Party.Name})]}),(0,n.jsx)("div",{className:"relative mt-[8px] w-full pb-[100%] h-0 rounded-[5px] bg-red-400",style:{backgroundColor:(null==a?void 0:a.Color)||"var(--color-gray-3)"},children:(0,n.jsx)("span",{className:"card-title absolute px-[4px] top-[50%] left-[50%] w-full translate-x-[-50%] translate-y-[-50%] text-center typo-b4 font-bold",style:{color:l((null==a?void 0:a.Color)||"#9a948c")?"var(--color-black)":"var(--color-white)"},children:t.Title})}),t.Explain&&(0,n.jsx)("div",{className:"mt-[8px] typo-b5 list",dangerouslySetInnerHTML:{__html:o.render(t.Explain||"-")}})]}),(0,n.jsxs)("div",{className:"py-[8px] px-[16px] flex items-center bg-[var(--color-highlight-1)]",children:[(0,s.l8)(t.Topic)&&(0,n.jsx)("img",{className:"w-[20px]",src:(0,s.l8)(t.Topic),alt:"cat-icon"}),(0,n.jsx)("span",{className:"ml-[4px] typo-b7",children:t.Topic})]})]})};var o=a},2176:function(e,t,r){"use strict";var n=r(2322),s=r(5817);let l=e=>{let{onClick:t}=e;return(0,n.jsxs)("div",{className:"flex justify-between items-center w-fit py-[8px] px-[16px] border-[1px] border-[var(--color-black)] rounded-[16px] hover:cursor-pointer",onClick:t,children:[(0,n.jsx)("p",{className:"typo-b4",children:"แรนด้อมใหม่"}),(0,n.jsx)("img",{src:"".concat(s.E,"/shuffle.svg"),alt:"shuffle",className:"ml-[8px]"})]})};t.Z=l},7958:function(e,t,r){"use strict";var n=r(2322),s=r(5817),l=r(2784),a=r(5632);let o=e=>{let{onClear:t}=e,[r,o]=(0,l.useState)(void 0),i=(0,a.useRouter)(),{topic:c}=i.query,u="/searchPolicies",d=()=>{let e=document.getElementById("searchBar");i.push("".concat(u,"?topic=").concat(null==e?void 0:e.value),void 0,{}),o(null==e?void 0:e.value)},p=()=>{o(""),t&&t(),i.push(u,void 0,{})},x=e=>{"Enter"===e.key&&d()};return(0,l.useEffect)(()=>{c&&o(c)},[c]),(0,n.jsxs)("div",{className:"relative mx-4 md:mx-0 ",children:[(0,n.jsx)("input",{type:"text",className:"typo-b4 inputSearchPolicies",id:"searchBar",placeholder:"ค้นหานโยบายด้วยคีย์เวิร์ดอื่นๆ",onChange:e=>o(e.target.value),onKeyDown:x,value:r||""}),(0,n.jsxs)("div",{className:"absolute top-[50%] right-[20px] flex translate-y-[-50%] ",children:[r&&(0,n.jsx)("button",{className:"mr-2 ",onClick:p,children:(0,n.jsx)("img",{src:"".concat(s.E,"/clear.svg"),alt:"clear button"})}),(0,n.jsx)("button",{onClick:d,children:(0,n.jsx)("img",{src:"".concat(s.E,"/search.svg"),alt:"search button"})})]})]})};t.Z=o},6555:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(2322),s=r(2957),l=r(2784);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i=function(e){function t(){return e.apply(this,arguments)||this}(r=t).prototype=Object.create(e.prototype),r.prototype.constructor=r,o(r,e);var r,n=t.prototype;return n.getColumns=function(){var e=this.props,t=e.children,r=e.columnsCount,n=Array.from({length:r},function(){return[]});return l.Children.forEach(t,function(e,t){e&&l.isValidElement(e)&&n[t%r].push(e)}),n},n.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map(function(t,r){return l.createElement("div",{key:r,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},t.map(function(e){return e}))})},n.render=function(){var e=this.props,t=e.gutter,r=e.className,n=e.style;return l.createElement("div",{style:a({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},n),className:r},this.renderColumns())},t}(l.Component);i.propTypes={},i.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var c="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,u=function(){var e=(0,l.useState)(!1),t=e[0],r=e[1];return c(function(){r(!0)},[]),t},d=function(){var e=u(),t=(0,l.useState)(0),r=t[0],n=t[1],s=(0,l.useCallback)(function(){e&&n(window.innerWidth)},[e]);return c(function(){if(e)return window.addEventListener("resize",s),s(),function(){return window.removeEventListener("resize",s)}},[e,s]),r},p=function(e){var t=e.columnsCountBreakPoints,r=void 0===t?{350:1,750:2,900:3}:t,n=e.children,s=e.className,a=e.style,o=d(),i=(0,l.useMemo)(function(){var e=Object.keys(r).sort(function(e,t){return e-t}),t=e.length>0?r[e[0]]:1;return e.forEach(function(e){e<o&&(t=r[e])}),t},[o,r]);return l.createElement("div",{className:void 0===s?null:s,style:void 0===a?null:a},l.Children.map(n,function(e,t){return l.cloneElement(e,{key:t,columnsCount:i})}))};p.propTypes={};var x=r(9097),m=r.n(x),f=r(5817);let h=e=>{let{page:t}=e;return(0,n.jsxs)("div",{className:"mx-auto mt-20 text-center typo-b4",children:[(0,n.jsx)("img",{className:"mx-auto mb-5 ",src:"".concat(f.E,"/sad-face.svg"),alt:"arrow"}),"SearchPolicies"===t?(0,n.jsxs)("div",{children:["ไม่พบนโยบายตามคีย์เวิร์ดที่ค้นหา",(0,n.jsx)("br",{})," กรุณาเปลี่ยนคำ",(0,n.jsx)("br",{})," หรือกลับ",(0,n.jsx)(m(),{href:"/",className:"font-bold underline ",children:"หน้าแรก"})]}):(0,n.jsx)("div",{children:"ไม่มีนโยบายประเด็นนี้"})]})},v=e=>{let{policyList:t,partyList:r,page:l}=e,a=e=>{let t=r.find(t=>t.Name===e);return t||null};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p,{columnsCountBreakPoints:{360:2,900:3},children:t.length>0?(0,n.jsx)(i,{className:"!gap-[16px] [&>*]:!gap-[16px]",children:t.map((e,t)=>(0,n.jsx)(s.Z,{policyInfo:e,partyInfo:a(e.Party.Name)},"first-card-".concat(t)))}):(0,n.jsx)(h,{page:l})})})},y=e=>{let{policyList:t,children:r,partyList:s,page:l}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"grid gap-[8px]",children:r}),(0,n.jsx)("div",{className:"mt-[16px]",children:(0,n.jsx)(v,{policyList:t,partyList:s,page:l})})]})};var j=y},970:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return p}});var n=r(2322),s=r(2784),l=r(5632),a=r(7162),o=r(7958),i=r(425),c=r(2176),u=r(6555);let d=e=>{let{policies:t,parties:r}=e,d=(0,l.useRouter)(),{topic:p}=d.query,[x,m]=(0,s.useState)([]);(0,s.useEffect)(()=>{p&&m(t.filter(e=>e.Title.includes(p)))},[p]);let f=()=>{m(e=>[...(0,a.Uy)(e)])},h=()=>{m([])};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("main",{children:(0,n.jsxs)(i.Z,{title:"ค้นหานโยบาย",children:[(0,n.jsx)(o.Z,{onClear:h}),(0,n.jsx)(u.Z,{policyList:x,partyList:r,page:"SearchPolicies",children:(0,n.jsx)("div",{className:"flex justify-end items-center mt-[32px]",children:(0,n.jsx)(c.Z,{onClick:f})})})]})})})};var p=!0;t.default=(0,s.memo)(d)},5632:function(e,t,r){e.exports=r(3642)}},function(e){e.O(0,[964,54,425,774,888,179],function(){return e(e.s=7511)}),_N_E=e.O()}]);