(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{7833:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list",function(){return r(4750)}])},8117:function(e,t,r){"use strict";var n=r(2322),l=r(3244);let o=e=>{let{styles:t}=e;return(0,n.jsxs)("div",{className:"text-center typo-b6 mb-9 ".concat(t),children:[(0,n.jsx)("p",{children:"ส่งข้อมูลให้ทีมงานเพื่ออัปเดตเพิ่มเติมที่อีเมล"}),(0,n.jsxs)("div",{className:"flex mx-auto items-center w-fit space-x-[16px] mt-1",children:[(0,n.jsx)("p",{className:"font-bold ",children:"team@punchup.world"}),(0,n.jsxs)("button",{className:" bg-gray-2 flex items-center rounded-[20px] px-2 py-1",onClick:()=>{navigator.clipboard.writeText("team@punchup.world")},children:[(0,n.jsx)("img",{src:"".concat(l.E,"/clipboard.svg"),alt:"child",className:"mr-1 "}),(0,n.jsx)("p",{className:"typo-b7",children:"ก็อปปี้"})]})]})]})};t.Z=o},5328:function(e,t,r){"use strict";var n=r(2322),l=r(3244),o=r(2784);let s=e=>{let t,{options:r,currentOption:s,onSelect:c,placeholder:i,disabled:a}=e,u=(0,o.useRef)(null),[d,p]=(0,o.useState)(!1);(0,o.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&p(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);let x=e=>{a||(c(e),p(!1))};return(0,n.jsxs)("div",{className:"relative w-full",ref:u,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between hover:".concat(a?"cursor-unset":"cursor-pointer"," ").concat("px-[16px] py-[10px] bg-[var(--color-white)] border-[3px] rounded-[50px]"),onClick:()=>{a||p(!d)},style:{borderColor:(t="var(--color-black)",a&&(t="var(--color-gray-2)"),d&&(t="var(--color-highlight-2)"),t)},children:[(0,n.jsx)("span",{className:a?"text-[var(--color-gray-2)]":null!==s?"text-[var(--color-black)]":"text-[var(--color-gray-3)]",children:s?s.label:i||"เลือกตัวเลือก"}),(0,n.jsx)("img",{className:"".concat(a&&"[filter:invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)]"),src:"".concat(l.E,"/Chevron.svg"),alt:"dropdown-arrow",style:{transform:"".concat(d?"rotate(180deg)":"none"),filter:"".concat(a?"invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)":"unset")}})]}),d&&(0,n.jsx)("div",{className:"absolute w-full max-h-[300px] overflow-y-auto z-50 mt-[12px] p-[15px] bg-[var(--color-highlight-1)] border-[3px] border-[var(--color-black)]",children:r.map((e,t)=>(0,n.jsxs)("div",{className:"hover:cursor-pointer hover:bg-[var(--color-highlight-2)] rounded-[10px]",children:[(0,n.jsx)("div",{className:"p-[5px]",onClick:()=>x(e),children:e.label},"option-".concat(t)),t!==r.length-1&&(0,n.jsx)("hr",{className:"border-t-[1px] border-[var(--color-highlight-2)] w-[98%] mx-auto"})]},"option-".concat(t)))})]})};t.Z=s},9821:function(e,t,r){"use strict";var n=r(2322),l=r(3244),o=r(6027);let s=()=>(0,n.jsxs)("div",{className:"flex items-center justify-between py-3 px-4  font-bold typo-b5 bg-highlight-3 mb-8 mt-2 rounded-[10px]",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("img",{src:"".concat(l.E,"/child.svg"),alt:"child",className:"mr-2 "}),(0,n.jsx)("p",{children:"เส้นทางการผลักดันนโยบาย"})]}),(0,n.jsx)("button",{className:"underline ",onClick:()=>(0,o.rV)(),children:"อ่านต่อ"})]});t.Z=s},9774:function(e,t,r){"use strict";var n=r(2322),l=r(7888);let o=e=>{let{policyInfo:t,partyInfo:o}=e;var s=r(3054)();let c=()=>(null==o?void 0:o.Images)&&0!==o.Images.length?o.Images[0].url:"";return(0,n.jsxs)("div",{className:"bg-[var(--color-white)] border-[1px] border-[var(--color-gray-2)] rounded-[10px] overflow-hidden h-fit w-full max-w-[155px] md:max-w-[232px] mx-auto",children:[(0,n.jsxs)("div",{className:"p-[12px] ",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[c()&&(0,n.jsx)("img",{className:"w-[22px] rounded-full",src:c(),alt:"party-logo"}),(0,n.jsx)("span",{className:"ml-[4px] typo-b7 font-bold",children:t.Party.Name})]}),(0,n.jsx)("div",{className:"relative mt-[8px] w-full pb-[100%] h-0 rounded-[5px] bg-red-400",style:{backgroundColor:(null==o?void 0:o.Color)||"var(--color-gray-3)"},children:(0,n.jsx)("span",{className:"card-title absolute px-[4px] top-[50%] left-[50%] w-full translate-x-[-50%] translate-y-[-50%] text-center typo-b4 text-[var(--color-white)] font-bold",children:t.Title})}),t.Explain&&(0,n.jsx)("div",{className:"mt-[8px] typo-b5 list",dangerouslySetInnerHTML:{__html:s.render(t.Explain||"-")}})]}),(0,n.jsxs)("div",{className:"py-[8px] px-[16px] flex items-center bg-[var(--color-highlight-1)]",children:[(0,l.l8)(t.Topic)&&(0,n.jsx)("img",{className:"w-[20px]",src:(0,l.l8)(t.Topic),alt:"cat-icon"}),(0,n.jsx)("span",{className:"ml-[4px] typo-b7",children:t.Topic})]})]})};t.Z=o},4383:function(e,t,r){"use strict";var n=r(2322),l=r(3244);let o=e=>{let{onClick:t}=e;return(0,n.jsxs)("div",{className:"flex justify-between items-center w-fit py-[8px] px-[16px] border-[1px] border-[var(--color-black)] rounded-[16px] hover:cursor-pointer",onClick:t,children:[(0,n.jsx)("p",{className:"typo-b4",children:"แรนด้อมใหม่"}),(0,n.jsx)("img",{src:"".concat(l.E,"/shuffle.svg"),alt:"shuffle",className:"ml-[8px]"})]})};t.Z=o},1693:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(2322),l=r(9774),o=r(2784);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i=function(e){function t(){return e.apply(this,arguments)||this}(r=t).prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e);var r,n=t.prototype;return n.getColumns=function(){var e=this.props,t=e.children,r=e.columnsCount,n=Array.from({length:r},function(){return[]});return o.Children.forEach(t,function(e,t){e&&o.isValidElement(e)&&n[t%r].push(e)}),n},n.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map(function(t,r){return o.createElement("div",{key:r,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},t.map(function(e){return e}))})},n.render=function(){var e=this.props,t=e.gutter,r=e.className,n=e.style;return o.createElement("div",{style:s({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},n),className:r},this.renderColumns())},t}(o.Component);i.propTypes={},i.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var a="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,u=function(){var e=(0,o.useState)(!1),t=e[0],r=e[1];return a(function(){r(!0)},[]),t},d=function(){var e=u(),t=(0,o.useState)(0),r=t[0],n=t[1],l=(0,o.useCallback)(function(){e&&n(window.innerWidth)},[e]);return a(function(){if(e)return window.addEventListener("resize",l),l(),function(){return window.removeEventListener("resize",l)}},[e,l]),r},p=function(e){var t=e.columnsCountBreakPoints,r=void 0===t?{350:1,750:2,900:3}:t,n=e.children,l=e.className,s=e.style,c=d(),i=(0,o.useMemo)(function(){var e=Object.keys(r).sort(function(e,t){return e-t}),t=e.length>0?r[e[0]]:1;return e.forEach(function(e){e<c&&(t=r[e])}),t},[c,r]);return o.createElement("div",{className:void 0===l?null:l,style:void 0===s?null:s},o.Children.map(n,function(e,t){return o.cloneElement(e,{key:t,columnsCount:i})}))};p.propTypes={};let x=e=>{let{policyList:t,partyList:r}=e,o=e=>{let t=r.find(t=>t.Name===e);return t||null};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p,{columnsCountBreakPoints:{360:2,900:3},children:(0,n.jsx)(i,{className:"!gap-[16px] [&>*]:!gap-[16px]",children:t.map((e,t)=>(0,n.jsx)(l.Z,{policyInfo:e,partyInfo:o(e.Party.Name)},"first-card-".concat(t)))})})})},f=e=>{let{policyList:t,children:r,partyList:l}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"grid gap-[8px]",children:r}),(0,n.jsx)("div",{className:"mt-[16px]",children:(0,n.jsx)(x,{policyList:t,partyList:l})})]})};var m=f},4750:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return m}});var n=r(2322),l=r(5328),o=r(9821),s=r(8117),c=r(4383),i=r(1693),a=r(6027),u=r(2784),d=r(2898),p=r(1163),x=r(7888);let f=e=>{let{policies:t,parties:r}=e,f=r.reduce((e,t)=>{let r=e.find(e=>t.Name===e);return r?e:[...e,t.Name]},[]),m=t.reduce((e,t)=>{let r=e.find(e=>t.Topic===e);return r?e:[...e,t.Topic]},[]),h=(0,p.useRouter)(),[v,g]=(0,u.useState)(t),[y,b]=(0,u.useState)([]),[j,N]=(0,u.useState)([]),[w,C]=(0,u.useState)(null),[E,k]=(0,u.useState)(null),{hot:_,topic:S,party:T}=h.query,Z=()=>{g(e=>[...(0,a.Uy)(e)])},O=e=>{h.push("/list"+(e?"?".concat(e):""),void 0,{shallow:!0})},P=t.reduce((e,t)=>{let r=e.findIndex(e=>e.topic===t.Topic);return -1===r?e=[...e,{topic:t.Topic,policies:[t]}]:e[r]={topic:t.Topic,policies:[...e[r].policies,t]},e},[]),L=()=>{let e=P.map(e=>{let t="".concat(e.topic," (").concat(e.policies.length,")");return{label:t,value:e.topic}}),r={label:"นโยบายทั้งหมด (".concat(t.length,")"),value:"นโยบายทั้งหมด"};e=[...e,r],_&&(e=e.filter(e=>x.dz.includes(e.value||"")));let n=e.find(e=>e.value===S);S&&n?k(n):k(r),N(e)},I=()=>{let e=r.map(e=>{let r=t.filter(t=>{let r=t.Party.Name===e.Name,n=!0;return S&&(n=t.Topic===S),r&&n}),n="".concat(e.Name," (").concat(r.length,")");return{label:n,value:e.Name}}),n=P.find(e=>e.topic===S),l=n?n.policies.length:t.length,o={label:"ดูของทุกพรรค (".concat(l,")"),value:"ดูของทุกพรรค"};b(e=[...e,o]);let s=e.find(e=>e.value===T);T&&s?C(s):C(o)},z=()=>{L(),I()},B=()=>{let e=t,r=y.find(e=>e.value===T);(null==T?void 0:T.toString())&&r&&(e=e.filter(e=>e.Party.Name===T));let n=j.find(e=>e.value===S);(null==S?void 0:S.toString())&&n&&(e=e.filter(e=>e.Topic===(null==S?void 0:S.toString()))),(null==_?void 0:_.toString())&&(e=e.filter(e=>x.dz.includes(e.Topic))),g(e)},D=(e,t,r)=>{let n="";return m.find(e=>e===t)&&(n+="topic=".concat(t,"&")),f.find(t=>t===e)&&(n+="party=".concat(e,"&")),r&&(n+="hot=true&"),n};return(0,u.useEffect)(()=>{},[]),(0,u.useEffect)(()=>{z()},[S,T]),(0,u.useEffect)(()=>{B();let e=D((null==w?void 0:w.value)||"",(null==E?void 0:E.value)||"",!!_);e&&O(e)},[w,E]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("main",{children:(0,n.jsxs)(d.Z,{title:_?"นโยบายประเด็นร้อน":"นโยบายตามประเด็น",children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)(s.Z,{}),E&&w&&(0,n.jsxs)(i.Z,{policyList:v,partyList:r,children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-[16px]",children:[(0,n.jsx)(l.Z,{options:j,currentOption:E,onSelect:k}),(0,n.jsx)(l.Z,{options:y,currentOption:w,onSelect:C})]}),(0,n.jsx)("div",{className:"flex justify-end items-center mt-[32px]",children:(0,n.jsx)(c.Z,{onClick:Z})})]})]})})})};var m=!0;t.default=(0,u.memo)(f)},1163:function(e,t,r){e.exports=r(387)}},function(e){e.O(0,[664,382,54,898,774,888,179],function(){return e(e.s=7833)}),_N_E=e.O()}]);