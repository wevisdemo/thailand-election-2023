(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{7833:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list",function(){return r(4750)}])},8117:function(e,t,r){"use strict";var n=r(2322),l=r(3244);let o=e=>{let{styles:t}=e;return(0,n.jsxs)("div",{className:"text-center typo-b6 mb-9 ".concat(t),children:[(0,n.jsx)("p",{children:"ส่งข้อมูลให้ทีมงานเพื่ออัปเดตเพิ่มเติมที่อีเมล"}),(0,n.jsxs)("div",{className:"flex mx-auto items-center w-fit space-x-[16px] mt-1",children:[(0,n.jsx)("p",{className:"font-bold ",children:"team@punchup.world"}),(0,n.jsxs)("button",{className:" bg-gray-2 flex items-center rounded-[20px] px-2 py-1",onClick:()=>{navigator.clipboard.writeText("team@punchup.world")},children:[(0,n.jsx)("img",{src:"".concat(l.E,"/clipboard.svg"),alt:"child",className:"mr-1 "}),(0,n.jsx)("p",{className:"typo-b7",children:"ก็อปปี้"})]})]})]})};t.Z=o},5328:function(e,t,r){"use strict";var n=r(2322),l=r(3244),o=r(2784);let s=e=>{let t,{options:r,currentOption:s,onSelect:c,placeholder:a,outline:i,disabled:u}=e,p=(0,o.useRef)(null),[d,x]=(0,o.useState)(!1);(0,o.useEffect)(()=>{function e(e){p.current&&!p.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p]);let f=e=>{u||(c(e),x(!1))};return(0,n.jsxs)("div",{className:"relative w-full",ref:p,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between hover:".concat(u?"cursor-unset":"cursor-pointer"," ").concat(i?"p-[8px] border-b-[3px]":"px-[16px] py-[10px] bg-[var(--color-white)] border-[3px] rounded-[50px]"),onClick:()=>{u||x(!d)},style:{borderColor:(t="var(--color-black)",u&&(t="var(--color-gray-2)"),t)},children:[(0,n.jsx)("span",{className:u?"text-[var(--color-gray-2)]":null!==s?"text-[var(--color-black)]":"text-[var(--color-gray-3)]",children:s?s.label:a||"เลือกตัวเลือก"}),(0,n.jsx)("img",{className:"".concat(u&&"[filter:invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)]"),src:"".concat(l.E,"/Chevron.svg"),alt:"dropdown-arrow",style:{transform:"".concat(d?"rotate(180deg)":"none"),filter:"".concat(u?"invert(88%) sepia(9%) saturate(416%) hue-rotate(17deg) brightness(83%) contrast(87%)":"unset")}})]}),d&&(0,n.jsx)("div",{className:"absolute w-full max-h-[300px] overflow-y-auto z-50 mt-[12px] p-[15px] bg-[var(--color-white)] border-[3px] border-[var(--color-black)] rounded-[10px]",children:r.map((e,t)=>(0,n.jsx)("div",{className:"[&:not(:first-child)]:border-t-[1px] border-[var(--color-black)] py-[5px] hover:cursor-pointer hover:bg-[var(--color-gray-1)]",onClick:()=>f(e),children:e.label},"option-".concat(t)))})]})};t.Z=s},9821:function(e,t,r){"use strict";var n=r(2322),l=r(3244),o=r(8714);let s=()=>(0,n.jsxs)("div",{className:"flex items-center justify-between py-3 px-4  font-bold typo-b5 bg-highlight-3 mb-8 mt-2 rounded-[10px]",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("img",{src:"".concat(l.E,"/child.svg"),alt:"child",className:"mr-2 "}),(0,n.jsx)("p",{children:"ดูยังไงว่านโยบายไหนจะทำได้จริง "})]}),(0,n.jsx)("button",{className:"underline ",onClick:()=>(0,o.rV)(),children:"อ่านต่อ"})]});t.Z=s},9774:function(e,t,r){"use strict";var n=r(2322),l=r(3244);let o=e=>{let{policyInfo:t,partyInfo:o}=e;var s=r(3054)();let c=()=>(null==o?void 0:o.Images)&&0!==o.Images.length?o.Images[0].url:"";return(0,n.jsxs)("div",{className:"bg-[var(--color-white)] border-[1px] border-[var(--color-gray-2)] rounded-[10px] overflow-hidden h-fit w-full max-w-[155px] md:max-w-[232px] mx-auto",children:[(0,n.jsxs)("div",{className:"p-[12px] ",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[c()&&(0,n.jsx)("img",{className:"w-[22px] rounded-full",src:c(),alt:"party-logo"}),(0,n.jsx)("span",{className:"ml-[4px] typo-b7 font-bold",children:t.Party.Name})]}),(0,n.jsx)("div",{className:"relative mt-[8px] w-full pb-[100%] h-0 rounded-[5px] bg-red-400",style:{backgroundColor:(null==o?void 0:o.Color)||"var(---color-grey-3)"},children:(0,n.jsx)("span",{className:"card-title absolute px-[4px] top-[50%] left-[50%] w-full translate-x-[-50%] translate-y-[-50%] text-center typo-b4 text-[var(--color-white)] font-bold",children:t.Title})}),t.Explain&&(0,n.jsx)("div",{className:"mt-[8px] typo-b5 list",dangerouslySetInnerHTML:{__html:s.render(t.Explain||"-")}})]}),(0,n.jsxs)("div",{className:"py-[8px] px-[16px] flex items-center bg-[var(--color-highlight-1)]",children:[(0,l.V)(t.Topic)&&(0,n.jsx)("img",{className:"w-[20px]",src:(0,l.V)(t.Topic),alt:"cat-icon"}),(0,n.jsx)("span",{className:"ml-[4px] typo-b7",children:t.Topic})]})]})};t.Z=o},4383:function(e,t,r){"use strict";var n=r(2322),l=r(3244);let o=e=>{let{onClick:t}=e;return(0,n.jsxs)("div",{className:"flex justify-between items-center w-fit py-[8px] px-[16px] border-[1px] border-[var(--color-black)] rounded-[16px] hover:cursor-pointer",onClick:t,children:[(0,n.jsx)("p",{className:"typo-b4",children:"แรนด้อมใหม่"}),(0,n.jsx)("img",{src:"".concat(l.E,"/shuffle.svg"),alt:"shuffle",className:"ml-[8px]"})]})};t.Z=o},1693:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(2322),l=r(9774),o=r(2784);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function t(){return e.apply(this,arguments)||this}(r=t).prototype=Object.create(e.prototype),r.prototype.constructor=r,c(r,e);var r,n=t.prototype;return n.getColumns=function(){var e=this.props,t=e.children,r=e.columnsCount,n=Array.from({length:r},function(){return[]});return o.Children.forEach(t,function(e,t){e&&o.isValidElement(e)&&n[t%r].push(e)}),n},n.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map(function(t,r){return o.createElement("div",{key:r,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},t.map(function(e){return e}))})},n.render=function(){var e=this.props,t=e.gutter,r=e.className,n=e.style;return o.createElement("div",{style:s({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},n),className:r},this.renderColumns())},t}(o.Component);a.propTypes={},a.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var i="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,u=function(){var e=(0,o.useState)(!1),t=e[0],r=e[1];return i(function(){r(!0)},[]),t},p=function(){var e=u(),t=(0,o.useState)(0),r=t[0],n=t[1],l=(0,o.useCallback)(function(){e&&n(window.innerWidth)},[e]);return i(function(){if(e)return window.addEventListener("resize",l),l(),function(){return window.removeEventListener("resize",l)}},[e,l]),r},d=function(e){var t=e.columnsCountBreakPoints,r=void 0===t?{350:1,750:2,900:3}:t,n=e.children,l=e.className,s=e.style,c=p(),a=(0,o.useMemo)(function(){var e=Object.keys(r).sort(function(e,t){return e-t}),t=e.length>0?r[e[0]]:1;return e.forEach(function(e){e<c&&(t=r[e])}),t},[c,r]);return o.createElement("div",{className:void 0===l?null:l,style:void 0===s?null:s},o.Children.map(n,function(e,t){return o.cloneElement(e,{key:t,columnsCount:a})}))};d.propTypes={};let x=e=>{let{policyList:t,partyList:r}=e,o=e=>{let t=r.find(t=>t.Name===e);return t||null};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d,{columnsCountBreakPoints:{360:2,900:3},children:(0,n.jsx)(a,{className:"!gap-[16px] [&>*]:!gap-[16px]",children:t.map((e,t)=>(0,n.jsx)(l.Z,{policyInfo:e,partyInfo:o(e.Party.Name)},"first-card-".concat(t)))})})})},f=e=>{let{policyList:t,children:r,partyList:l}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"grid gap-[8px]",children:r}),(0,n.jsx)("div",{className:"mt-[16px]",children:(0,n.jsx)(x,{policyList:t,partyList:l})})]})};var m=f},4750:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return f}});var n=r(2322),l=r(5328),o=r(9821),s=r(8117),c=r(4383),a=r(1693),i=r(8714),u=r(2784),p=r(2898),d=r(1163);let x=e=>{let{policies:t,parties:r}=e,x=r.reduce((e,t)=>{let r=e.find(e=>t.Name===e);return r?e:[...e,t.Name]},[]),f=t.reduce((e,t)=>{let r=e.find(e=>t.Topic===e);return r?e:[...e,t.Topic]},[]),m=(0,d.useRouter)(),[h,v]=(0,u.useState)(t),[y,g]=(0,u.useState)([]),[b,j]=(0,u.useState)([]),[N,w]=(0,u.useState)(null),[C,E]=(0,u.useState)(null),{hot:k,topic:_,party:S}=m.query,T=()=>{v(e=>[...(0,i.Uy)(e)])},Z=e=>{m.push("/list"+(e?"?".concat(e):""),void 0,{shallow:!0})},O=t.reduce((e,t)=>{let r=e.findIndex(e=>e.topic===t.Topic);return -1===r?e=[...e,{topic:t.Topic,policies:[t]}]:e[r]={topic:t.Topic,policies:[...e[r].policies,t]},e},[]),P=()=>{let e=O.map(e=>{let t="".concat(e.topic," (").concat(e.policies.length,")");return{label:t,value:e.topic}}),r={label:"นโยบายทั้งหมด (".concat(t.length,")"),value:"นโยบายทั้งหมด"};e=[...e,r];let n=e.find(e=>e.value===_);_&&n?E(n):E(r),j(e)},L=()=>{let e=r.map(e=>{let r=t.filter(t=>{let r=t.Party.Name===e.Name,n=!0;return _&&(n=t.Topic===_),r&&n}),n="".concat(e.Name," (").concat(r.length,")");return{label:n,value:e.Name}}),n=O.find(e=>e.topic===_),l=n?n.policies.length:t.length,o={label:"ดูของทุกพรรค (".concat(l,")"),value:"ดูของทุกพรรค"};g(e=[...e,o]);let s=e.find(e=>e.value===S);S&&s?w(s):w(o)},I=()=>{P(),L()},z=()=>{let e=t,r=y.find(e=>e.value===S);(null==S?void 0:S.toString())&&r&&(e=e.filter(e=>e.Party.Name===S));let n=b.find(e=>e.value===_);(null==_?void 0:_.toString())&&n&&(e=e.filter(e=>e.Topic===(null==_?void 0:_.toString()))),v(e)},V=(e,t,r)=>{let n="";return f.find(e=>e===t)&&(n+="topic=".concat(t,"&")),x.find(t=>t===e)&&(n+="party=".concat(e,"&")),r&&(n+="hot=true&"),n};return(0,u.useEffect)(()=>{},[]),(0,u.useEffect)(()=>{I()},[_,S]),(0,u.useEffect)(()=>{z();let e=V((null==N?void 0:N.value)||"",(null==C?void 0:C.value)||"",!!k);e&&Z(e)},[N,C]),(0,n.jsxs)(p.Z,{title:k?"นโยบายประเด็นร้อน":"นโยบายตามประเด็น",children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)(s.Z,{}),C&&N&&(0,n.jsxs)(a.Z,{policyList:h,partyList:r,children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-[16px]",children:[(0,n.jsx)(l.Z,{options:b,currentOption:C,onSelect:E}),(0,n.jsx)(l.Z,{options:y,currentOption:N,onSelect:w})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-[32px]",children:[(0,n.jsx)("p",{children:"เรียงตาม"}),(0,n.jsx)(c.Z,{onClick:T})]})]})]})};var f=!0;t.default=(0,u.memo)(x)},1163:function(e,t,r){e.exports=r(387)}},function(e){e.O(0,[844,54,898,774,888,179],function(){return e(e.s=7833)}),_N_E=e.O()}]);