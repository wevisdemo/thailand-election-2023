(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(2438)}])},1415:function(e,t,l){"use strict";var n=l(2322),a=l(2784),s=l(1664),c=l.n(s),r=l(3244);let i=e=>{let{title:t,children:s}=e;return(0,a.useEffect)(()=>{l.e(303).then(l.bind(l,6303))}),(0,n.jsxs)("div",{className:"main-component",children:[(0,n.jsx)("election-header",{}),(0,n.jsxs)("div",{className:"max-w-[420px] md:container m-auto p-[16px]",children:["landing"!=t&&(0,n.jsxs)(c(),{href:"/",className:"flex mt-[16px]",children:[(0,n.jsx)("img",{src:"".concat(r.E,"/arrow.svg"),alt:"arrow"}),(0,n.jsx)("p",{className:"ml-[8px] typo-b2 font-kondolar font-bold",children:t})]}),(0,n.jsx)("div",{className:"mt-[24px]",children:s})]})]})};t.Z=i},2438:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return b}});var n=l(2322),a=l(2784),s=l(1415),c=l(9008),r=l.n(c);let i=()=>(0,n.jsxs)("div",{className:"px-4 text-center bg-highlight-3 py-14 ",children:[(0,n.jsxs)("p",{className:"font-bold typo-h4",children:["เลือกตั้งรอบนี้",(0,n.jsx)("br",{className:" md:hover:"})," พรรคคุณพี่",(0,n.jsx)("br",{className:" md:hover:"})," ขายอะไรหรอคะ?"]}),(0,n.jsx)("p",{className:"mt-2 typo-h7",children:"เทียบนโยบายหาเสียงเลือกตั้ง ‘66 มาดูกันว่าพรรคไหนจะเป็นตัวแทนของเราได้บ้าง"})]});var o=l(1664),d=l.n(o);let x=e=>{let{topicName:t}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"w-[156px] h-[156px] border border-black rounded-[10px]"}),(0,n.jsx)("p",{className:"mt-2 font-bold typo-b4",children:t})]})},p=e=>{let{topics:t}=e,l=Object.keys(t).slice(0,6);return(0,n.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,n.jsx)("p",{className:"font-bold typo-h6",children:"นโยบายประเด็นร้อน"}),(0,n.jsx)("div",{className:"flex flex-wrap text-center ",children:l.map(e=>(0,n.jsx)(d(),{href:"/นโยบายประเด็นร้อน/".concat(e),className:"mt-4 mx-[8px]",children:(0,n.jsx)(x,{topicName:e})},e))})]})},u=e=>{let{children:t,name:l,totalTopic:a}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"w-[70px] h-[70px] bg-white border border-black rounded-full overflow-hidden object-cover p-2",children:t}),(0,n.jsx)("p",{className:"mt-2  typo-b6 w-[70px] md:w-[75px] text-center",children:l}),a&&(0,n.jsxs)("p",{className:"mt-1  typo-b6 w-[70px] text-center",children:["(",a,")"]})]})},m=e=>{let{topics:t}=e;return(0,n.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,n.jsx)("p",{className:"font-bold typo-h6",children:"แบ่งตามประเด็น"}),(0,n.jsx)("div",{className:"flex flex-wrap text-center ",children:Object.keys(t).map(e=>(0,n.jsx)(d(),{href:"/แบ่งตามประเด็น/".concat(e),className:"mt-4 mx-[8px] md:mx-[10px]",children:(0,n.jsx)(u,{name:e,totalTopic:t[e].length})},e))})]})},h=e=>{let{parties:t}=e;return(0,n.jsxs)("div",{className:"container pt-10 mx-auto",children:[(0,n.jsx)("p",{className:"font-bold typo-h6",children:"ดูนโยบายตามพรรค"}),(0,n.jsx)("div",{className:"flex flex-wrap text-center ",children:null==t?void 0:t.map(e=>(0,n.jsx)(d(),{href:"/party/".concat(e.Name),className:"mt-4 mx-[8px] md:mx-[10px]",children:(0,n.jsx)(u,{name:e.Name,children:e.Images&&(0,n.jsx)("img",{src:e.Images[0].url,alt:"party-logo"})})},e.Name))})]})};var f=l(3871),j=l(1612);function b(){let[e,t]=(0,a.useState)([]),[l,c]=(0,a.useState)({}),o=async()=>{let e=await f.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});t(e.slice(0,8))},d=async()=>{let e=await f.U.Policies.fetchAll();c((0,j.vM)(e,"Topic"))};return(0,a.useEffect)(()=>{o(),d()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"policyshop"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,n.jsx)("main",{children:(0,n.jsxs)(s.Z,{title:"landing",children:[(0,n.jsx)(i,{}),(0,n.jsx)(p,{topics:l}),(0,n.jsx)(m,{topics:l}),(0,n.jsx)(h,{parties:e})]})})]})}},1612:function(e,t,l){"use strict";l.d(t,{xr:function(){return i},Yo:function(){return o},kE:function(){return c},ix:function(){return s},vM:function(){return n},mj:function(){return a}});let n=(e,t)=>e.reduce(function(e,l){return(e[l[t]]=e[l[t]]||[]).push(l),e},{}),a=(e,t,l,n)=>{e.push("/".concat(t,"/").concat(l,"/").concat(n?"?party="+n:""),void 0,{shallow:!0})},s=(e,t,l)=>{let n=null==e?void 0:e.filter(n=>t&&l&&(null==t?void 0:t.label)!="ดูของทุกพรรค"&&(null==l?void 0:l.label)!="นโยบายทั้งหมด"?n.Party.Name==(null==t?void 0:t.label)&&n.Topic===(null==l?void 0:l.label):t&&(null==t?void 0:t.label)!="ดูของทุกพรรค"?n.Party.Name==(null==t?void 0:t.label):l&&(null==l?void 0:l.label)!="นโยบายทั้งหมด"?n.Topic===(null==l?void 0:l.label):e);return n},c=(e,t)=>e.map(e=>({label:"parties"===t?e.Name:e}));var r=l(3871);let i=async()=>{let e=await r.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});return e},o=async()=>{let e=await r.U.Policies.fetchAll({});return e}},3244:function(e,t,l){"use strict";l.d(t,{E:function(){return n}});let n="/policyshop"},9008:function(e,t,l){e.exports=l(5443)},3871:function(e,t,l){"use strict";l.d(t,{U:function(){return r}});var n=l(2382);async function a(e,t){let{data:l}=await n.Z.get(`https://sheets.wevis.info/api/v1/db/public/shared-view/${e}/rows`,{params:t});return l.data}let s=(e,t)=>({fetch:l=>a(e,{...t,...l}),fetchAll:l=>c(e,{...t,...l})});async function c(e,t){let l=[],n=null;do{let s=await a(e,{...t,offset:n?n.page*n.pageSize:0,limit:200});l.push(...s.list),n=s.pageInfo}while(!n?.isLastPage);return l}let r={Parties:s("40065196-c978-4d7a-b3fb-fb84694383a7"),People:s("572c5e5c-a3d8-440f-9a70-3c4c773543ec",{"nested[PeoplePartyHistory][fields]":"Party,EstablishedDate"}),VoteLog:s("e06d1465-2786-4799-9c0f-a20f4cf71ec4"),PeopleVotes:s("e58433cc-f4fd-499b-926d-05431412cbba"),Policies:s("d930acb2-b1f8-4a85-9ed9-04c2b1edc951")}}},function(e){e.O(0,[664,382,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);