(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{7511:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/searchPolicies",function(){return s(970)}])},7958:function(e,t,s){"use strict";var i=s(2322),n=s(5817),c=s(2784),a=s(5632);let r=e=>{let{onClear:t}=e,[s,r]=(0,c.useState)(void 0),l=(0,a.useRouter)(),{topic:o}=l.query,u="/searchPolicies",d=()=>{let e=document.getElementById("searchBar");l.push("".concat(u,"?topic=").concat(null==e?void 0:e.value),void 0,{}),r(null==e?void 0:e.value)},h=()=>{r(""),t&&t(),l.push(u,void 0,{})},p=e=>{"Enter"===e.key&&d()};return(0,c.useEffect)(()=>{o&&r(o)},[o]),(0,i.jsxs)("div",{className:"relative mx-4 md:mx-0 ",children:[(0,i.jsx)("input",{type:"text",className:"typo-b4 inputSearchPolicies",id:"searchBar",placeholder:"ค้นหานโยบายด้วยคีย์เวิร์ดอื่นๆ",onChange:e=>r(e.target.value),onKeyDown:p,value:s||""}),(0,i.jsxs)("div",{className:"absolute top-[50%] right-[20px] flex translate-y-[-50%] ",children:[s&&(0,i.jsx)("button",{className:"mr-2 ",onClick:h,children:(0,i.jsx)("img",{src:"".concat(n.E,"/clear.svg"),alt:"clear button"})}),(0,i.jsx)("button",{onClick:d,children:(0,i.jsx)("img",{src:"".concat(n.E,"/search.svg"),alt:"search button"})})]})]})};t.Z=r},970:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return f}});var i,n=s(2322),c=s(2784),a=s(3540),r=s(5632),l=s(7162),o=s(7958),u=s(425),d=s(2176),h=s(2424),p=s(8607);let x=e=>{let{policies:t,parties:x}=e,f=(0,r.useRouter)(),{topic:m}=f.query,[v,j]=(0,c.useState)(!1),[_,y]=(0,c.useState)([]);(0,c.useEffect)(()=>{m&&y(t.filter(e=>e.Title.includes(m)))},[m]),(0,c.useEffect)(()=>{j(!0)},[]);let E=()=>{y(e=>[...(0,l.Uy)(e)])},g=()=>{y([])},N={loop:!0,autoplay:!0,animationData:i||(i=s.t(p,2)),rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("main",{children:v?(0,n.jsxs)(u.Z,{title:"ค้นหานโยบาย",children:[(0,n.jsx)(o.Z,{onClear:g}),(0,n.jsx)(h.Z,{policyList:_,partyList:x,page:"SearchPolicies",children:(0,n.jsx)("div",{className:"flex justify-end items-center mt-[32px]",children:(0,n.jsx)(d.Z,{onClick:E})})})]}):(0,n.jsx)(a.Z,{options:N})})})};var f=!0;t.default=(0,c.memo)(x)}},function(e){e.O(0,[938,964,54,811,425,804,774,888,179],function(){return e(e.s=7511)}),_N_E=e.O()}]);