(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{533:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[title]/[topic]",function(){return l(4517)}])},8117:function(e,t,l){"use strict";var n=l(2322),a=l(3244);let c=e=>{let{styles:t}=e;return(0,n.jsxs)("div",{className:"text-center typo-b6 mb-9 ".concat(t),children:[(0,n.jsx)("p",{children:"ส่งข้อมูลให้ทีมงานเพื่ออัปเดตเพิ่มเติมที่อีเมล"}),(0,n.jsxs)("div",{className:"flex mx-auto items-center w-fit space-x-[16px] mt-1",children:[(0,n.jsx)("p",{className:"font-bold ",children:"team@punchup.world"}),(0,n.jsxs)("button",{className:" bg-gray-2 flex items-center rounded-[20px] px-2 py-1",onClick:()=>{navigator.clipboard.writeText("team@punchup.world")},children:[(0,n.jsx)("img",{src:"".concat(a.E,"/clipboard.svg"),alt:"child",className:"mr-1 "}),(0,n.jsx)("p",{className:"typo-b7",children:"ก็อปปี้"})]})]})]})};t.Z=c},9821:function(e,t,l){"use strict";var n=l(2322),a=l(3244);let c=()=>(0,n.jsxs)("div",{className:"flex items-center justify-between py-3 px-4  font-bold typo-b5 bg-highlight-3 mb-8 mt-2 rounded-[10px]",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("img",{src:"".concat(a.E,"/child.svg"),alt:"child",className:"mr-2 "}),(0,n.jsx)("p",{children:"ดูยังไงว่านโยบายไหนจะทำได้จริง "})]}),(0,n.jsx)("button",{className:"underline ",children:"อ่านต่อ"})]});t.Z=c},1415:function(e,t,l){"use strict";var n=l(2322),a=l(2784),c=l(1664),i=l.n(c),s=l(3244);let r=e=>{let{title:t,children:c}=e;return(0,a.useEffect)(()=>{l.e(303).then(l.bind(l,6303))},[]),(0,n.jsxs)("div",{className:"main-component",children:[(0,n.jsx)("election-header",{}),(0,n.jsxs)("div",{className:"max-w-[420px]   m-auto ".concat("landing"!=t?" md:max-w-[728px] px-4":" md:max-w-none"),children:["landing"!=t&&(0,n.jsxs)(i(),{href:"/",className:"flex mt-[16px]",children:[(0,n.jsx)("img",{src:"".concat(s.E,"/arrow.svg"),alt:"arrow"}),(0,n.jsx)("p",{className:"ml-[8px] typo-h6 font-bold",children:t})]}),(0,n.jsx)("div",{children:c})]})]})};t.Z=r},4517:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSG:function(){return d}});var n=l(2322),a=l(2784),c=l(1163),i=l(1415),s=l(7147),r=l(9821),o=l(8117);let u=()=>{let e=(0,c.useRouter)(),{title:t,topic:l,party:u}=e.query,[d,f]=(0,a.useState)([]),[p,m]=(0,a.useState)([]),[x,h]=(0,a.useState)([]),[b,v]=(0,a.useState)([]),[w,j]=(0,a.useState)(null),[y,N]=(0,a.useState)(null),g=async()=>{let e=await (0,s.Yo)();await f(e);let t=(0,s.kE)(Object.keys((0,s.vM)(e,"Topic")),"policies");await v([{label:"นโยบายทั้งหมด"},...t])},E=async()=>{let e=await (0,s.xr)(),t=(0,s.kE)(e,"parties");await h([{label:"ดูของทุกพรรค"},...t])};return(0,a.useEffect)(()=>{g(),E()},[]),(0,a.useEffect)(()=>{l&&N({label:"".concat(l)}),u&&j({label:"".concat(u)})},[l,u]),(0,a.useEffect)(()=>{d&&m((0,s.ix)(d,w,y)),(t&&y||w)&&(0,s.mj)(e,t,null==y?void 0:y.label,null==w?void 0:w.label)},[d,w,y]),(0,n.jsxs)(i.Z,{title:t,children:[(0,n.jsx)(r.Z,{}),(0,n.jsx)(o.Z,{})]})};var d=!0;t.default=(0,a.memo)(u)},7147:function(e,t,l){"use strict";l.d(t,{xr:function(){return r},Yo:function(){return o},kE:function(){return i},ix:function(){return c},vM:function(){return n},mj:function(){return a},Uy:function(){return u}});let n=(e,t)=>e.reduce(function(e,l){return(e[l[t]]=e[l[t]]||[]).push(l),e},{}),a=(e,t,l,n)=>{e.push("/".concat(t,"/").concat(l,"/").concat(n?"?party="+n:""),void 0,{shallow:!0})},c=(e,t,l)=>{let n=null==e?void 0:e.filter(n=>t&&l&&(null==t?void 0:t.label)!="ดูของทุกพรรค"&&(null==l?void 0:l.label)!="นโยบายทั้งหมด"?n.Party.Name==(null==t?void 0:t.label)&&n.Topic===(null==l?void 0:l.label):t&&(null==t?void 0:t.label)!="ดูของทุกพรรค"?n.Party.Name==(null==t?void 0:t.label):l&&(null==l?void 0:l.label)!="นโยบายทั้งหมด"?n.Topic===(null==l?void 0:l.label):e);return n},i=(e,t)=>e.map(e=>({label:"parties"===t?e.Name:e}));var s=l(4714);let r=async()=>{let e=await s.U.Parties.fetchAll({where:"(PartyType,eq,พรรค)"});return e},o=async()=>{let e=await s.U.Policies.fetchAll({});return e},u=e=>{let t=e.sort(()=>Math.random()-.5);return t}},3244:function(e,t,l){"use strict";l.d(t,{E:function(){return n}});let n="/policyshop"},1163:function(e,t,l){e.exports=l(387)},4714:function(e,t,l){"use strict";l.d(t,{U:function(){return o}});var n,a,c=l(2382);async function i(e,t){let{data:l}=await c.Z.get(`https://sheets.wevis.info/api/v1/db/public/shared-view/${e}/rows`,{params:t});return l.data}let s=(e,t)=>({fetch:l=>i(e,{...t,...l}),fetchAll:l=>r(e,{...t,...l})});async function r(e,t){let l=[],n=null;do{let a=await i(e,{...t,offset:n?n.page*n.pageSize:0,limit:200});l.push(...a.list),n=a.pageInfo}while(!n?.isLastPage);return l}(n=a||(a={})).Government="ร่วมรัฐบาล",n.Opposition="ฝ่ายค้าน";let o={Parties:s("40065196-c978-4d7a-b3fb-fb84694383a7"),People:s("572c5e5c-a3d8-440f-9a70-3c4c773543ec",{"nested[PeoplePartyHistory][fields]":"Party,EstablishedDate"}),VoteLog:s("e06d1465-2786-4799-9c0f-a20f4cf71ec4"),PeopleVotes:s("e58433cc-f4fd-499b-926d-05431412cbba"),Policies:s("d930acb2-b1f8-4a85-9ed9-04c2b1edc951")}}},function(e){e.O(0,[844,774,888,179],function(){return e(e.s=533)}),_N_E=e.O()}]);