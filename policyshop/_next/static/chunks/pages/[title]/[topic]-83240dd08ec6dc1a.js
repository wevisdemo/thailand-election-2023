(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{533:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[title]/[topic]",function(){return n(4517)}])},4517:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return x}});var l=n(2322),s=n(2784),i=n(1163),u=n(1415),a=n(1693),c=n(7147),o=n(5328),r=n(9821),f=n(8117),p=n(4383);let _=()=>{let e=(0,i.useRouter)(),{title:t,topic:n,party:_}=e.query,[x,j]=(0,s.useState)([]),[w,d]=(0,s.useState)([]),[b,E]=(0,s.useState)([]),[S,h]=(0,s.useState)([]),[k,y]=(0,s.useState)(null),[N,Z]=(0,s.useState)(null),m=async()=>{let e=await (0,c.Yo)();await j(e);let t=(0,c.kE)(Object.keys((0,c.vM)(e,"Topic")),"policies");await h([{label:"นโยบายทั้งหมด"},...t])},v=async()=>{let e=await (0,c.xr)(),t=(0,c.kE)(e,"parties");await E([{label:"ดูของทุกพรรค"},...t])},O=()=>{d(e=>[...(0,c.Uy)(e)])};return(0,s.useEffect)(()=>{m(),v()},[]),(0,s.useEffect)(()=>{n&&Z({label:"".concat(n)}),_&&y({label:"".concat(_)})},[n,_]),(0,s.useEffect)(()=>{x&&d((0,c.ix)(x,k,N)),(t&&N||k)&&(0,c.mj)(e,t,null==N?void 0:N.label,null==k?void 0:k.label)},[x,k,N]),(0,l.jsxs)(u.Z,{title:t,children:[(0,l.jsx)(r.Z,{}),(0,l.jsx)(f.Z,{}),n&&w&&(0,l.jsxs)(a.Z,{policyList:w,children:[(0,l.jsx)(o.Z,{options:b,currentOption:k,onSelect:y}),(0,l.jsx)(o.Z,{options:S,currentOption:N,onSelect:Z}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-[32px]",children:[(0,l.jsx)("p",{children:"เรียงตาม"}),(0,l.jsx)(p.Z,{onClick:O})]})]})]})};var x=!0;t.default=(0,s.memo)(_)}},function(e){e.O(0,[844,54,540,774,888,179],function(){return e(e.s=533)}),_N_E=e.O()}]);